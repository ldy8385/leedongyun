(function(of) {
        function v(a, b) {
            function c() {}
            c.prototype = a;
            var d = new c,
                e;
            for (e in b) d[e] = b[e];
            b.toString !== Object.prototype.toString && (d.toString = b.toString);
            return d
        }

        function Qa(a) {
            return a instanceof Array ? function() {
                return J.iter(a)
            } : "function" == typeof a.iterator ? l(a, a.iterator) : a.iterator
        }

        function l(a, b) {
            if (null == b) return null;
            null == b.__id__ && (b.__id__ = qk++);
            var c;
            null == a.hx__closures__ ? a.hx__closures__ = {} : c = a.hx__closures__[b.__id__];
            null == c && (c = function() {
                    return c.method.apply(c.scope, arguments)
                },
                c.scope = a, c.method = b, a.hx__closures__[b.__id__] = c);
            return c
        }
        of.openfl = of.openfl || {};
        of.lime = of.lime || {};
        var h = {},
            w = function() {
                return D.__string_rec(this, "")
            },
            Oa = function() {};
        h.ApplicationMain = Oa;
        Oa.__name__ = ["ApplicationMain"];
        Oa.config = null;
        Oa.preloader = null;
        Oa.create = function() {
            var a = new Zf;
            a.create(Oa.config);
            var b = new Ac;
            Oa.preloader = new $f(b);
            Oa.preloader.onComplete = Oa.init;
            Oa.preloader.create(Oa.config);
            var b = [],
                c = [];
            b.push("assets/fonts/maiandra_gd_regular.eot");
            c.push("BINARY");
            b.push("assets/fonts/maiandra_gd_regular.svg");
            c.push("TEXT");
            b.push("Maiandra GD");
            c.push("FONT");
            b.push("assets/fonts/maiandra_gd_regular.woff");
            c.push("BINARY");
            b.push("assets/images/bg.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_big_more_games.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_big_play.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_erase.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_exit.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_game_pause.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_game_restart.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_info.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_levels.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_more_games.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_more_games2.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_no.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_play.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_play2.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_restart.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_sound_off.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_sound_off2.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_sound_on.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_sound_on2.png");
            c.push("IMAGE");
            b.push("assets/images/buttons/btn_yes.png");
            c.push("IMAGE");
            b.push("assets/images/credits.png");
            c.push("IMAGE");
            b.push("assets/images/elements/hoist_body.png");
            c.push("IMAGE");
            b.push("assets/images/elements/hook_body.png");
            c.push("IMAGE");
            b.push("assets/images/elements/hook_rope.png");
            c.push("IMAGE");
            b.push("assets/images/elements/spring_body.png");
            c.push("IMAGE");
            b.push("assets/images/final.png");
            c.push("IMAGE");
            b.push("assets/images/heart.png");
            c.push("IMAGE");
            b.push("assets/images/homiebearstudio.png");
            c.push("IMAGE");
            b.push("assets/images/intro/homiebearstudio.png");
            c.push("IMAGE");
            b.push("assets/images/level_select/level_block.png");
            c.push("IMAGE");
            b.push("assets/images/level_select/level_button_active.png");
            c.push("IMAGE");
            b.push("assets/images/level_select/level_button_normal.png");
            c.push("IMAGE");
            b.push("assets/images/level_select/pagination_active.png");
            c.push("IMAGE");
            b.push("assets/images/level_select/pagination_normal.png");
            c.push("IMAGE");
            b.push("assets/images/level_select/star.png");
            c.push("IMAGE");
            b.push("assets/images/level_select/star_block.png");
            c.push("IMAGE");
            b.push("assets/images/logo.png");
            c.push("IMAGE");
            b.push("assets/images/menu.png");
            c.push("IMAGE");
            b.push("assets/images/panel.png");
            c.push("IMAGE");
            b.push("assets/images/panel_header.png");
            c.push("IMAGE");
            b.push("assets/images/pause_window.png");
            c.push("IMAGE");
            b.push("assets/images/progress_bar_bg.png");
            c.push("IMAGE");
            b.push("assets/images/progress_bar_body.png");
            c.push("IMAGE");
            b.push("assets/images/result_menu/star1.png");
            c.push("IMAGE");
            b.push("assets/images/result_menu/star2.png");
            c.push("IMAGE");
            b.push("assets/images/result_menu/star3.png");
            c.push("IMAGE");
            b.push("assets/images/result_menu/stars_bg.png");
            c.push("IMAGE");
            b.push("assets/images/story/bg.png");
            c.push("IMAGE");
            b.push("assets/images/story/comix1.png");
            c.push("IMAGE");
            b.push("assets/images/story/comix2.png");
            c.push("IMAGE");
            b.push("assets/images/story/comix3.png");
            c.push("IMAGE");
            b.push("assets/levels/levels.json");
            c.push("TEXT");
            b.push("assets/sound/music/in_game.mp3");
            c.push("MUSIC");
            b.push("assets/sound/music/in_game.ogg");
            c.push("SOUND");
            b.push("assets/sound/music/in_menu.mp3");
            c.push("MUSIC");
            b.push("assets/sound/music/in_menu.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/click.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/click.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/eagle.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/eagle.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/hit.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/hit.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/lose.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/lose.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/moo_boy.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/moo_boy.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/moo_girl.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/moo_girl.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/m_bolt.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/m_bolt.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/m_cannon.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/m_cannon.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/m_garpun.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/m_garpun.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/m_spring.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/m_spring.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/star.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/star.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/win_1.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/win_1.ogg");
            c.push("SOUND");
            b.push("assets/sound/sfx/wood_crash.mp3");
            c.push("MUSIC");
            b.push("assets/sound/sfx/wood_crash.ogg");
            c.push("SOUND");
            b.push("assets/spritesheets/animations.json");
            c.push("TEXT");
            b.push("assets/spritesheets/spritelist.png");
            c.push("IMAGE");
            b.push("assets/spritesheets/spritelist.xml");
            c.push("TEXT");
            if (null != Oa.config.assetsPrefix)
                for (var d = 0, e = b.length; d < e;) {
                    var f = d++;
                    "FONT" != c[f] && (b[f] = Oa.config.assetsPrefix + b[f])
                }
            Oa.preloader.load(b, c);
            a.exec()
        };
        Oa.init = function() {
            Oa.preloader = null;
            Oa.start()
        };
        Oa.main = function() {
            Oa.config = {
                antialiasing: 0,
                background: 16777215,
                borderless: !1,
                depthBuffer: !1,
                fps: 0,
                fullscreen: !1,
                height: 720,
                orientation: "",
                resizable: !0,
                stencilBuffer: !1,
                title: "BraveBull Pirates",
                vsync: !1,
                width: 1280
            }
        };
        Oa.start = function() {
            for (var a = !1, b = U.resolveClass("Main"), c = 0, d = U.getClassFields(b); c <
                d.length;) {
                var e = d[c];
                ++c;
                if ("main" == e) {
                    a = !0;
                    break
                }
            }
            a ? Q.callMethod(b, Q.field(b, "main"), []) : U.createInstance(ag, []);
            Z.current.stage.dispatchEvent(new z(z.RESIZE, !1, !1))
        };
        var Sj = function() {};
        h["openfl.events.IEventDispatcher"] = Sj;
        Sj.__name__ = ["openfl", "events", "IEventDispatcher"];
        var na = function(a) {
            null != a && (this.__targetDispatcher = a)
        };
        h["openfl.events.EventDispatcher"] = na;
        na.__name__ = ["openfl", "events", "EventDispatcher"];
        na.__interfaces__ = [Sj];
        na.__sortByPriority = function(a, b) {
            return a.priority == b.priority ?
                0 : a.priority > b.priority ? -1 : 1
        };
        na.prototype = {
            addEventListener: function(a, b, c, d, e) {
                null == d && (d = 0);
                null == c && (c = !1);
                null == this.__eventMap && (this.__eventMap = new Da);
                if (this.__eventMap.exists(a)) {
                    a = this.__eventMap.get(a);
                    e = 0;
                    for (var f = a.length; e < f;) {
                        var k = e++;
                        if (Q.compareMethods(a[k].callback, b)) return
                    }
                    a.push(new bg(b, c, d));
                    a.sort(na.__sortByPriority)
                } else e = [], e.push(new bg(b, c, d)), this.__eventMap.set(a, e)
            },
            dispatchEvent: function(a) {
                if (null == this.__eventMap || null == a) return !1;
                var b = this.__eventMap.get(a.type);
                if (null == b) return !1;
                null == a.target && (a.target = null != this.__targetDispatcher ? this.__targetDispatcher : this);
                a.currentTarget = this;
                for (var c = a.eventPhase == wb.CAPTURING_PHASE, d = 0, e; d < b.length;) {
                    e = b[d];
                    if (e.useCapture == c && (e.callback(a), a.__isCancelledNow)) break;
                    e == b[d] && d++
                }
                return !0
            },
            hasEventListener: function(a) {
                return null == this.__eventMap ? !1 : this.__eventMap.exists(a)
            },
            removeEventListener: function(a, b, c) {
                null == c && (c = !1);
                if (null != this.__eventMap) {
                    var d = this.__eventMap.get(a);
                    if (null != d) {
                        for (var e = 0, f =
                            d.length; e < f;) {
                            var k = e++;
                            if (d[k].match(b, c)) {
                                d.splice(k, 1);
                                break
                            }
                        }
                        0 == d.length && this.__eventMap.remove(a);
                        this.__eventMap.iterator().hasNext() || (this.__eventMap = null)
                    }
                }
            },
            __class__: na
        };
        var fj = function() {};
        h["openfl.display.IBitmapDrawable"] = fj;
        fj.__name__ = ["openfl", "display", "IBitmapDrawable"];
        var ia = function() {
            na.call(this);
            this.__alpha = 1;
            this.__rotation = 0;
            this.__scaleY = this.__scaleX = 1;
            this.__visible = !0;
            this.__y = this.__x = 0;
            this.__worldAlpha = 1;
            this.__worldTransform = new Rb;
            this.__rotationSine = this.__rotationCache =
                0;
            this.__rotationCosine = 1;
            this.set_name("instance" + ++ia.__instanceCount)
        };
        h["openfl.display.DisplayObject"] = ia;
        ia.__name__ = ["openfl", "display", "DisplayObject"];
        ia.__interfaces__ = [fj];
        ia.__super__ = na;
        ia.prototype = v(na.prototype, {
            dispatchEvent: function(a) {
                var b = na.prototype.dispatchEvent.call(this, a);
                if (a.__isCancelled) return !0;
                a.bubbles && null != this.parent && this.parent != this && (a.eventPhase = wb.BUBBLING_PHASE, this.parent.dispatchEvent(a));
                return b
            },
            globalToLocal: function(a) {
                return this.__getTransform().clone().invert().transformPoint(a)
            },
            localToGlobal: function(a) {
                return this.__getTransform().transformPoint(a)
            },
            __broadcast: function(a, b) {
                if (null != this.__eventMap && this.hasEventListener(a.type)) {
                    var c = na.prototype.dispatchEvent.call(this, a);
                    return a.__isCancelled ? !0 : c
                }
                return !1
            },
            __getBounds: function(a, b) {},
            __getTransform: function() {
                if (this.__transformDirty || 0 < ia.__worldTransformDirty) {
                    var a = [],
                        b = this,
                        c = this.__transformDirty;
                    if (null == this.parent) c && this.__update(!0, !1);
                    else
                        for (; null != b.parent;) a.push(b), b = b.parent, b.__transformDirty &&
                            (c = !0); if (c)
                        for (b = a.length; 0 <= --b;) a[b].__update(!0, !1)
                }
                return this.__worldTransform
            },
            __hitTest: function(a, b, c, d, e) {
                return !1
            },
            __renderCanvas: function(a) {},
            __renderDOM: function(a) {},
            __renderGL: function(a) {},
            __renderMask: function(a) {},
            __setStageReference: function(a) {
                this.stage != a && (null != this.stage && this.dispatchEvent(new z(z.REMOVED_FROM_STAGE, !1, !1)), this.stage = a, null != a && this.dispatchEvent(new z(z.ADDED_TO_STAGE, !1, !1)))
            },
            __update: function(a, b) {
                this.__renderable = this.get_visible() && 0 != this.get_scaleX() &&
                    0 != this.get_scaleY() && !this.__isMask;
                if (this.get_rotation() != this.__rotationCache) {
                    this.__rotationCache = this.get_rotation();
                    var c = this.get_rotation() * (Math.PI / 180);
                    this.__rotationSine = Math.sin(c);
                    this.__rotationCosine = Math.cos(c)
                }
                if (null != this.parent) {
                    var c = this.parent.__worldTransform,
                        d = this.__rotationCosine * this.get_scaleX(),
                        e = this.__rotationSine * this.get_scaleX(),
                        f = -this.__rotationSine * this.get_scaleY(),
                        k = this.__rotationCosine * this.get_scaleY(),
                        q = c.a,
                        n = c.b,
                        g = c.c,
                        h = c.d;
                    null == this.__worldTransform &&
                        (this.__worldTransform = new Rb);
                    this.__worldTransform.a = d * q + e * g;
                    this.__worldTransform.b = d * n + e * h;
                    this.__worldTransform.c = f * q + k * g;
                    this.__worldTransform.d = f * n + k * h;
                    null == this.get_scrollRect() ? (this.__worldTransform.tx = this.get_x() * q + this.get_y() * g + c.tx, this.__worldTransform.ty = this.get_x() * n + this.get_y() * h + c.ty) : (this.__worldTransform.tx = (this.get_x() - this.get_scrollRect().x) * q + (this.get_y() - this.get_scrollRect().y) * g + c.tx, this.__worldTransform.ty = (this.get_x() - this.get_scrollRect().x) * n + (this.get_y() -
                        this.get_scrollRect().y) * h + c.ty)
                } else this.__worldTransform.a = this.__rotationCosine * this.get_scaleX(), this.__worldTransform.c = -this.__rotationSine * this.get_scaleY(), this.__worldTransform.b = this.__rotationSine * this.get_scaleX(), this.__worldTransform.d = this.__rotationCosine * this.get_scaleY(), null == this.get_scrollRect() ? (this.__worldTransform.tx = this.get_x(), this.__worldTransform.ty = this.get_y()) : (this.__worldTransform.tx = this.get_y() - this.get_scrollRect().x, this.__worldTransform.ty = this.get_y() - this.get_scrollRect().y);
                b && this.__transformDirty && (this.__transformDirty = !1, ia.__worldTransformDirty--);
                a || (this.__worldAlpha = null != this.parent ? this.get_alpha() * this.parent.__worldAlpha : this.get_alpha(), b && this.__renderDirty && (this.__renderDirty = !1))
            },
            __updateChildren: function(a) {
                if ((this.__renderable = this.get_visible() && 0 != this.get_scaleX() && 0 != this.get_scaleY() && !this.__isMask) || this.__isMask) this.__worldAlpha = this.get_alpha(), this.__transformDirty && (this.__transformDirty = !1, ia.__worldTransformDirty--)
            },
            get_alpha: function() {
                return this.__alpha
            },
            set_alpha: function(a) {
                a == this.__alpha || this.__renderDirty || (this.__renderDirty = !0, ia.__worldRenderDirty++);
                return this.__alpha = a
            },
            get_name: function() {
                return this.__name
            },
            set_name: function(a) {
                return this.__name = a
            },
            get_rotation: function() {
                return this.__rotation
            },
            set_rotation: function(a) {
                a == this.__rotation || this.__transformDirty || (this.__transformDirty = !0, ia.__worldTransformDirty++);
                return this.__rotation = a
            },
            get_scaleX: function() {
                return this.__scaleX
            },
            set_scaleX: function(a) {
                a == this.__scaleX || this.__transformDirty ||
                    (this.__transformDirty = !0, ia.__worldTransformDirty++);
                return this.__scaleX = a
            },
            get_scaleY: function() {
                return this.__scaleY
            },
            set_scaleY: function(a) {
                this.__scaleY == a || this.__transformDirty || (this.__transformDirty = !0, ia.__worldTransformDirty++);
                return this.__scaleY = a
            },
            get_scrollRect: function() {
                return this.__scrollRect
            },
            get_visible: function() {
                return this.__visible
            },
            set_visible: function(a) {
                a == this.__visible || this.__renderDirty || (this.__renderDirty = !0, ia.__worldRenderDirty++);
                return this.__visible = a
            },
            get_x: function() {
                return this.__x
            },
            set_x: function(a) {
                a == this.__x || this.__transformDirty || (this.__transformDirty = !0, ia.__worldTransformDirty++);
                return this.__x = a
            },
            get_y: function() {
                return this.__y
            },
            set_y: function(a) {
                a == this.__y || this.__transformDirty || (this.__transformDirty = !0, ia.__worldTransformDirty++);
                return this.__y = a
            },
            __class__: ia,
            __properties__: {
                set_y: "set_y",
                get_y: "get_y",
                set_x: "set_x",
                get_x: "get_x",
                set_visible: "set_visible",
                get_visible: "get_visible",
                get_scrollRect: "get_scrollRect",
                set_scaleY: "set_scaleY",
                get_scaleY: "get_scaleY",
                set_scaleX: "set_scaleX",
                get_scaleX: "get_scaleX",
                set_rotation: "set_rotation",
                get_rotation: "get_rotation",
                set_name: "set_name",
                get_name: "get_name",
                set_alpha: "set_alpha",
                get_alpha: "get_alpha"
            }
        });
        var Lb = function() {
            ia.call(this);
            this.doubleClickEnabled = !1;
            this.mouseEnabled = !0;
            this.needsSoftKeyboard = !1;
            this.tabEnabled = !0;
            this.tabIndex = -1
        };
        h["openfl.display.InteractiveObject"] = Lb;
        Lb.__name__ = ["openfl", "display", "InteractiveObject"];
        Lb.__super__ = ia;
        Lb.prototype = v(ia.prototype, {
            __getInteractive: function(a) {
                a.push(this);
                null != this.parent && this.parent.__getInteractive(a)
            },
            __class__: Lb
        });
        var Ra = function() {
            Lb.call(this);
            this.mouseChildren = !0;
            this.__children = [];
            this.__removedChildren = []
        };
        h["openfl.display.DisplayObjectContainer"] = Ra;
        Ra.__name__ = ["openfl", "display", "DisplayObjectContainer"];
        Ra.__super__ = Lb;
        Ra.prototype = v(Lb.prototype, {
            addChild: function(a) {
                if (null != a) {
                    null != a.parent && a.parent.removeChild(a);
                    this.__children.push(a);
                    a.parent = this;
                    null != this.stage && a.__setStageReference(this.stage);
                    a.__transformDirty || (a.__transformDirty = !0, ia.__worldTransformDirty++);
                    a.__renderDirty || (a.__renderDirty = !0, ia.__worldRenderDirty++);
                    var b = new z(z.ADDED, !0);
                    b.target = a;
                    a.dispatchEvent(b)
                }
                return a
            },
            addChildAt: function(a, b) {
                if (b > this.__children.length || 0 > b) throw "Invalid index position " + b;
                if (a.parent == this) J.remove(this.__children, a);
                else {
                    null != a.parent && a.parent.removeChild(a);
                    a.parent = this;
                    null != this.stage && a.__setStageReference(this.stage);
                    a.__transformDirty || (a.__transformDirty = !0, ia.__worldTransformDirty++);
                    a.__renderDirty || (a.__renderDirty = !0, ia.__worldRenderDirty++);
                    var c = new z(z.ADDED, !0);
                    c.target = a;
                    a.dispatchEvent(c)
                }
                this.__children.splice(b, 0, a);
                return a
            },
            getChildByName: function(a) {
                for (var b = 0, c = this.__children; b < c.length;) {
                    var d = c[b];
                    ++b;
                    if (d.get_name() == a) return d
                }
                return null
            },
            getChildIndex: function(a) {
                for (var b = 0, c = this.__children.length; b < c;) {
                    var d = b++;
                    if (this.__children[d] == a) return d
                }
                return -1
            },
            getObjectsUnderPoint: function(a) {
                a = this.localToGlobal(a);
                var b = [];
                this.__hitTest(a.x, a.y, !1, b, !1);
                b.reverse();
                return b
            },
            removeChild: function(a) {
                null !=
                    a && a.parent == this && (null != this.stage && a.__setStageReference(null), a.parent = null, J.remove(this.__children, a), this.__removedChildren.push(a), a.__transformDirty || (a.__transformDirty = !0, ia.__worldTransformDirty++), a.__renderDirty || (a.__renderDirty = !0, ia.__worldRenderDirty++), a.dispatchEvent(new z(z.REMOVED, !0)));
                return a
            },
            setChildIndex: function(a, b) {
                0 <= b && b <= this.__children.length && a.parent == this && (J.remove(this.__children, a), this.__children.splice(b, 0, a))
            },
            __broadcast: function(a, b) {
                null == a.target && (a.target =
                    this);
                if (b)
                    for (var c = 0, d = this.__children; c < d.length;) {
                        var e = d[c];
                        ++c;
                        e.__broadcast(a, !0);
                        if (a.__isCancelled) return !0
                    }
                return Lb.prototype.__broadcast.call(this, a, b)
            },
            __getBounds: function(a, b) {
                if (0 != this.__children.length) {
                    var c = null;
                    null != b && (c = this.__worldTransform, this.__worldTransform = b, this.__updateChildren(!0));
                    for (var d = 0, e = this.__children; d < e.length;) {
                        var f = e[d];
                        ++d;
                        f.__renderable && f.__getBounds(a, null)
                    }
                    null != b && (this.__worldTransform = c, this.__updateChildren(!0))
                }
            },
            __hitTest: function(a, b, c,
                d, e) {
                if (!this.get_visible() || e && !this.mouseEnabled) return !1;
                var f = this.__children.length;
                if (e)
                    if (null == d || !this.mouseChildren)
                        for (; 0 <= --f;) {
                            if (this.__children[f].__hitTest(a, b, c, null, !0)) return null != d && d.push(this), !0
                        } else {
                            if (null != d)
                                for (var k = d.length; 0 <= --f;)
                                    if (this.__children[f].__hitTest(a, b, c, d, e)) return d.splice(k, 0, this), !0
                        } else
                            for (; 0 <= --f;) this.__children[f].__hitTest(a, b, c, d, !1);
                return !1
            },
            __renderCanvas: function(a) {
                if (this.__renderable && !(0 >= this.__worldAlpha)) {
                    this.get_scrollRect();
                    null !=
                        this.__mask && a.maskManager.pushMask(this.__mask);
                    for (var b = 0, c = this.__children; b < c.length;) {
                        var d = c[b];
                        ++b;
                        d.__renderCanvas(a)
                    }
                    this.__removedChildren = [];
                    null != this.__mask && a.maskManager.popMask();
                    this.get_scrollRect()
                }
            },
            __renderDOM: function(a) {
                null != this.__mask && a.maskManager.pushMask(this.__mask);
                for (var b = 0, c = this.__children; b < c.length;) {
                    var d = c[b];
                    ++b;
                    d.__renderDOM(a)
                }
                b = 0;
                for (c = this.__removedChildren; b < c.length;) d = c[b], ++b, null == d.stage && d.__renderDOM(a);
                this.__removedChildren = [];
                null != this.__mask &&
                    a.maskManager.popMask()
            },
            __renderGL: function(a) {
                if (this.__renderable && !(0 >= this.__worldAlpha)) {
                    for (var b = 0, c = this.__children; b < c.length;) {
                        var d = c[b];
                        ++b;
                        d.__renderGL(a)
                    }
                    this.__removedChildren = []
                }
            },
            __renderMask: function(a) {
                var b = new ib;
                this.__getTransform();
                this.__getBounds(b, new Rb);
                a.context.rect(0, 0, b.width, b.height)
            },
            __setStageReference: function(a) {
                if (this.stage != a && (null != this.stage && this.dispatchEvent(new z(z.REMOVED_FROM_STAGE, !1, !1)), this.stage = a, null != a && this.dispatchEvent(new z(z.ADDED_TO_STAGE, !1, !1)), null != this.__children))
                    for (var b = 0, c = this.__children; b < c.length;) {
                        var d = c[b];
                        ++b;
                        d.__setStageReference(a)
                    }
            },
            __update: function(a, b) {
                Lb.prototype.__update.call(this, a, b);
                if (this.__renderable && b)
                    for (var c = 0, d = this.__children; c < d.length;) {
                        var e = d[c];
                        ++c;
                        e.__update(a, !0)
                    }
            },
            __updateChildren: function(a) {
                Lb.prototype.__updateChildren.call(this, a);
                for (var b = 0, c = this.__children; b < c.length;) {
                    var d = c[b];
                    ++b;
                    d.__update(a, !0)
                }
            },
            __class__: Ra
        });
        var A = function() {
            Ra.call(this);
            this.buttonMode = !1;
            this.useHandCursor = !0;
            this.loaderInfo = ne.create(null)
        };
        h["openfl.display.Sprite"] = A;
        A.__name__ = ["openfl", "display", "Sprite"];
        A.__super__ = Ra;
        A.prototype = v(Ra.prototype, {
            __getBounds: function(a, b) {
                Ra.prototype.__getBounds.call(this, a, b);
                null != this.__graphics && this.__graphics.__getBounds(a, null != b ? b : this.__worldTransform)
            },
            __hitTest: function(a, b, c, d, e) {
                return !this.get_visible() || e && !this.mouseEnabled ? !1 : Ra.prototype.__hitTest.call(this, a, b, c, d, e) ? e : null != this.__graphics && this.__graphics.__hitTest(a, b, c, this.__getTransform()) ?
                    (null != d && d.push(this), !0) : !1
            },
            __renderCanvas: function(a) {
                gj.render(this, a);
                Ra.prototype.__renderCanvas.call(this, a)
            },
            __renderDOM: function(a) {
                hj.render(this, a);
                Ra.prototype.__renderDOM.call(this, a)
            },
            __renderGL: function(a) {
                !this.__renderable || 0 >= this.__worldAlpha || (null != this.__graphics && F.render(this, a), Ra.prototype.__renderGL.call(this, a))
            },
            __renderMask: function(a) {
                null != this.__graphics ? p.renderMask(this.__graphics, a) : Ra.prototype.__renderMask.call(this, a)
            },
            get_graphics: function() {
                null == this.__graphics &&
                    (this.__graphics = new Hh);
                return this.__graphics
            },
            __class__: A,
            __properties__: v(Ra.prototype.__properties__, {
                get_graphics: "get_graphics"
            })
        });
        var O = function() {
            this.soundDeactivated = !1;
            A.call(this);
            O.instance = this;
            this.init();
            this.showScene(fa.Intro, !1)
        };
        h.Main = O;
        O.__name__ = ["Main"];
        O.instance = null;
        O.currentLevel = null;
        O.initStage = function() {
            aa.get_instance().init("BraveBullPirates");
            jb.get_instance().init("UA-59792812-7", "spil");
            Z.current.stage.align = Ka.TOP_LEFT;
            Z.current.stage.scaleMode = Hb.NO_SCALE
        };
        O.__super__ = A;
        O.prototype = v(A.prototype, {
            init: function() {
                this.firstPlay = !0;
                O.currentLevel = 1;
                this.loadSaves();
                this.sceneManager = new cg;
                this.addChild(this.sceneManager);
                this.initSounds();
                Z.current.stage.addEventListener(z.ACTIVATE, l(this, this.activate));
                Z.current.stage.addEventListener(z.DEACTIVATE, l(this, this.deactivate));
                Z.current.stage.addEventListener(Pd.KEY_DOWN, l(this, this.keyHandler))
            },
            activate: function(a) {
                1 == this.soundDeactivated && (this.soundDeactivated = !1, P.get_instance().mute(!1))
            },
            deactivate: function(a) {
                0 ==
                    P.get_instance().isMuted() && (P.get_instance().mute(!0), this.soundDeactivated = !0)
            },
            keyHandler: function(a) {
                switch (a.keyCode) {
                    case 49:
                    case 65:
                        S.get_instance().submitAward("award1");
                        break;
                    case 50:
                    case 66:
                        S.get_instance().submitAward("award2");
                        break;
                    case 51:
                    case 67:
                        S.get_instance().submitAward("award3");
                        break;
                    case 52:
                    case 68:
                        S.get_instance().submitAward("award4");
                        break;
                    case 53:
                    case 69:
                        S.get_instance().submitAward("award5")
                }
            },
            completeIntro: function() {
                jb.get_instance().save("intro_complete");
                P.get_instance().playMusic("in_menu");
                var a = oa.buildSprite("assets/images/bg.png");
                a.setAnchorPoint(0, 0);
                this.addChild(a);
                this.setChildIndex(a, 0);
                this.showScene(fa.Menu)
            },
            getAnimationConfig: function(a) {
                if (null == this.animationConfig || null == this.animationConfig.a) return null;
                var b = this.animationConfig.a.length;
                if (0 == b) return null;
                for (var c, d = 0; d < b;)
                    if (c = d++, c = this.animationConfig.a[c], c.n == a) return c;
                console.log("Animation " + a + " no founded");
                return null
            },
            initSounds: function() {
                P.get_instance().addMusic("in_menu", "assets/sound/music/in_menu.ogg");
                P.get_instance().addMusic("in_game", "assets/sound/music/in_game.ogg");
                P.get_instance().addSfx("win", "assets/sound/sfx/win_1.ogg", "menu");
                P.get_instance().addSfx("lose", "assets/sound/sfx/lose.ogg", "menu");
                P.get_instance().addSfx("eagle", "assets/sound/sfx/eagle.ogg");
                P.get_instance().addSfx("hoist", "assets/sound/sfx/m_bolt.ogg");
                P.get_instance().addSfx("spring", "assets/sound/sfx/m_spring.ogg");
                P.get_instance().addSfx("hook", "assets/sound/sfx/m_garpun.ogg");
                P.get_instance().addSfx("cannon", "assets/sound/sfx/m_cannon.ogg");
                P.get_instance().addSfx("moo_boy", "assets/sound/sfx/moo_boy.ogg");
                P.get_instance().addSfx("moo_girl", "assets/sound/sfx/moo_girl.ogg");
                P.get_instance().addSfx("star", "assets/sound/sfx/star.ogg");
                P.get_instance().addSfx("wood_crash", "assets/sound/sfx/wood_crash.ogg");
                P.get_instance().addSfx("click", "assets/sound/sfx/click.ogg");
                P.get_instance().addSfx("hit", "assets/sound/sfx/hit.ogg");
                1 == aa.get_instance().get("soundMuted") && P.get_instance().mute(!0)
            },
            clearSaves: function() {
                aa.get_instance().clear();
                O.currentLevel = 1;
                aa.get_instance().save("last_level", 1)
            },
            loadSaves: function() {
                1 == aa.get_instance().get("level_1_win") && null == aa.get_instance().get("spil_award1") && (S.get_instance().submitAward("award1"), aa.get_instance().save("spil_award1", !0));
                1 != aa.get_instance().get("level_27_win") && null != aa.get_instance().get("last_level") && (O.currentLevel = aa.get_instance().get("last_level"))
            },
            showScene: function(a, b) {
                null == b && (b = !0);
                if (0 != this.sceneManager.isReady()) {
                    var c = "scenes." + G.string(a),
                        d = H.createObjectByClassName(c);
                    null == d ? console.log("No scene: " + c + " founded") : this.sceneManager.show(d, b)
                }
            },
            prepareResources: function() {
                this.animationConfig = H.parseConfig("assets/spritesheets/animations.json");
                ob.delay(l(this, this.parseLevels), 100)
            },
            parseLevels: function() {
                this.levelsConfig = H.parseConfig("assets/levels/levels.json")
            },
            __class__: O
        });
        var ag = function() {
            Z.current.addChild(this);
            O.call(this);
            this.dispatchEvent(new z(z.ADDED_TO_STAGE, !1, !1))
        };
        h.DocumentClass = ag;
        ag.__name__ = ["DocumentClass"];
        ag.__super__ = O;
        ag.prototype =
            v(O.prototype, {
                __class__: ag
            });
        var dg = function() {};
        h["lime.AssetLibrary"] = dg;
        dg.__name__ = ["lime", "AssetLibrary"];
        dg.prototype = {
            exists: function(a, b) {
                return !1
            },
            getBytes: function(a) {
                return null
            },
            getFont: function(a) {
                return null
            },
            getImage: function(a) {
                return null
            },
            getPath: function(a) {
                return null
            },
            getText: function(a) {
                a = this.getBytes(a);
                return null == a ? null : a.readUTFBytes(a.length)
            },
            isLocal: function(a, b) {
                return !0
            },
            __class__: dg
        };
        var fg = function() {
            this.type = new Da;
            this.path = new Da;
            this.className = new Da;
            var a;
            a = "assets/fonts/maiandra_gd_regular.eot";
            this.path.set(a, a);
            this.type.set(a, "BINARY");
            a = "assets/fonts/maiandra_gd_regular.svg";
            this.path.set(a, a);
            this.type.set(a, "TEXT");
            a = "assets/fonts/maiandra_gd_regular.ttf";
            this.className.set(a, eg);
            this.type.set(a, "FONT");
            a = "assets/fonts/maiandra_gd_regular.woff";
            this.path.set(a, a);
            this.type.set(a, "BINARY");
            a = "assets/images/bg.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_big_more_games.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_big_play.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_erase.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_exit.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_game_pause.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_game_restart.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_info.png";
            this.path.set(a, a);
            this.type.set(a,
                "IMAGE");
            a = "assets/images/buttons/btn_levels.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_more_games.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_more_games2.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_no.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_play.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_play2.png";
            this.path.set(a, a);
            this.type.set(a,
                "IMAGE");
            a = "assets/images/buttons/btn_restart.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_sound_off.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_sound_off2.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_sound_on.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_sound_on2.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/buttons/btn_yes.png";
            this.path.set(a,
                a);
            this.type.set(a, "IMAGE");
            a = "assets/images/credits.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/elements/hoist_body.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/elements/hook_body.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/elements/hook_rope.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/elements/spring_body.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/final.png";
            this.path.set(a, a);
            this.type.set(a,
                "IMAGE");
            a = "assets/images/heart.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/homiebearstudio.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/intro/homiebearstudio.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/level_select/level_block.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/level_select/level_button_active.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/level_select/level_button_normal.png";
            this.path.set(a,
                a);
            this.type.set(a, "IMAGE");
            a = "assets/images/level_select/pagination_active.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/level_select/pagination_normal.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/level_select/star.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/level_select/star_block.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/logo.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/menu.png";
            this.path.set(a,
                a);
            this.type.set(a, "IMAGE");
            a = "assets/images/panel.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/panel_header.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/pause_window.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/progress_bar_bg.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/progress_bar_body.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/result_menu/star1.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/result_menu/star2.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/result_menu/star3.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/result_menu/stars_bg.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/story/bg.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/story/comix1.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/story/comix2.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/images/story/comix3.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/levels/levels.json";
            this.path.set(a, a);
            this.type.set(a, "TEXT");
            a = "assets/sound/music/in_game.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/music/in_game.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/music/in_menu.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/music/in_menu.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/click.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/click.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/eagle.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/eagle.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/hit.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/hit.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/lose.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/lose.ogg";
            this.path.set(a, a);
            this.type.set(a,
                "SOUND");
            a = "assets/sound/sfx/moo_boy.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/moo_boy.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/moo_girl.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/moo_girl.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/m_bolt.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/m_bolt.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/m_cannon.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/m_cannon.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/m_garpun.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/m_garpun.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/m_spring.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/m_spring.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/star.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/star.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/win_1.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/win_1.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/sound/sfx/wood_crash.mp3";
            this.path.set(a, a);
            this.type.set(a, "MUSIC");
            a = "assets/sound/sfx/wood_crash.ogg";
            this.path.set(a, a);
            this.type.set(a, "SOUND");
            a = "assets/spritesheets/animations.json";
            this.path.set(a, a);
            this.type.set(a, "TEXT");
            a = "assets/spritesheets/spritelist.png";
            this.path.set(a, a);
            this.type.set(a, "IMAGE");
            a = "assets/spritesheets/spritelist.xml";
            this.path.set(a, a);
            this.type.set(a, "TEXT");
            a = Oa.config.assetsPrefix;
            if (null != a)
                for (var b = this.path.keys(); b.hasNext();) {
                    var c = b.next(),
                        d = a + this.path.get(c);
                    this.path.set(c, d)
                }
        };
        h.DefaultAssetLibrary = fg;
        fg.__name__ = ["DefaultAssetLibrary"];
        fg.__super__ = dg;
        fg.prototype = v(dg.prototype, {
            exists: function(a, b) {
                var c;
                c = null != b ? D.__cast(b, String) : null;
                var d = this.type.get(a);
                return null == d || d != c && ("SOUND" != c && "MUSIC" != c || "MUSIC" !=
                    d && "SOUND" != d) && "BINARY" != c && null != c && ("BINARY" != d || "TEXT" != c) ? !1 : !0
            },
            getBytes: function(a) {
                var b = null,
                    b = this.path.get(a);
                a = Sa.loaders.get(b).data;
                "string" == typeof a ? (b = new Tc, b.writeUTFBytes(a)) : b = D.__instanceof(a, Tc) ? a : null;
                return null != b ? (b.position = 0, b) : null
            },
            getFont: function(a) {
                a = D.__cast(U.createInstance(this.className.get(a), []), Qd);
                return new pf(a.name)
            },
            getImage: function(a) {
                return Rd.fromImageElement(function(b) {
                    b = b.path.get(a);
                    return Sa.images.get(b)
                }(this))
            },
            getPath: function(a) {
                return this.path.get(a)
            },
            getText: function(a) {
                var b = null;
                a = this.path.get(a);
                a = Sa.loaders.get(a).data;
                if ("string" == typeof a) return a;
                b = D.__instanceof(a, Tc) ? a : null;
                return null != b ? (b.position = 0, b.readUTFBytes(b.length)) : null
            },
            isLocal: function(a, b) {
                null != b && D.__cast(b, String);
                return !0
            },
            __class__: fg
        });
        var Qd = function(a) {
            this.name = a;
            null != this.__fontPath && this.__fromFile(this.__fontPath)
        };
        h["lime.text.Font"] = Qd;
        Qd.__name__ = ["lime", "text", "Font"];
        Qd.prototype = {
            __fromFile: function(a) {
                this.__fontPath = a
            },
            __class__: Qd
        };
        var eg = function() {
            Qd.call(this);
            this.name = "Maiandra GD"
        };
        h.__ASSET__assets_fonts_maiandra_gd_regular_ttf = eg;
        eg.__name__ = ["__ASSET__assets_fonts_maiandra_gd_regular_ttf"];
        eg.__super__ = Qd;
        eg.prototype = v(Qd.prototype, {
            __class__: eg
        });
        var ea = function(a, b) {
            b = b.split("u").join("");
            this.r = new RegExp(a, b)
        };
        h.EReg = ea;
        ea.__name__ = ["EReg"];
        ea.prototype = {
            match: function(a) {
                this.r.global && (this.r.lastIndex = 0);
                this.r.m = this.r.exec(a);
                this.r.s = a;
                return null != this.r.m
            },
            matched: function(a) {
                if (null != this.r.m && 0 <= a && a < this.r.m.length) return this.r.m[a];
                throw "EReg::matched";
            },
            replace: function(a, b) {
                return a.replace(this.r, b)
            },
            __class__: ea
        };
        var ye = function() {};
        h["com.alagatar.NotifiReceiver"] = ye;
        ye.__name__ = ["com", "alagatar", "NotifiReceiver"];
        var gg = function() {
            this.init()
        };
        h.Helper = gg;
        gg.__name__ = ["Helper"];
        gg.__interfaces__ = [ye];
        gg.prototype = {
            receiveNotify: function(a, b, c) {
                switch (a) {
                    case "activateMechanism":
                        this.activateNotify();
                        break;
                    case "clearAll":
                        this.free()
                }
            },
            activateNotify: function() {
                1 == this.active && this.hide()
            },
            init: function() {
                this.active = !0;
                E.get_instance().signToNotify("activateMechanism", this);
                E.get_instance().signToNotify("clearAll", this);
                var a = O.instance.getAnimationConfig("Tap_here_anim");
                this.anim = new nd("tilelayer1", a);
                this.anim.set_x(470);
                this.anim.set_y(236);
                this.anim.setFps(45);
                this.anim.play(!0);
                this.label = new rb;
                this.label.set_align("center");
                this.label.set_size(48);
                this.label.set_fieldWidth(600);
                this.label.set_x(215);
                this.label.set_y(285);
                this.label.set_text("Tap here");
                this.label.mouseEnabled = !1;
                this.label.set_color(15329769);
                ta.instance.layersManager.getLayer("objects").addChild(this.label)
            },
            hide: function() {
                this.free()
            },
            free: function() {
                0 != this.active && (this.active = !1, E.get_instance().unSignToNotify("activateMechanism", this), this.anim.free(), this.anim = null, this.label.parent.removeChild(this.label), this.label = null)
            },
            __class__: gg
        };
        var J = function() {};
        h.HxOverrides = J;
        J.__name__ = ["HxOverrides"];
        J.dateStr = function(a) {
            var b = a.getMonth() + 1,
                c = a.getDate(),
                d = a.getHours(),
                e = a.getMinutes(),
                f = a.getSeconds();
            return a.getFullYear() + "-" +
                (10 > b ? "0" + b : "" + b) + "-" + (10 > c ? "0" + c : "" + c) + " " + (10 > d ? "0" + d : "" + d) + ":" + (10 > e ? "0" + e : "" + e) + ":" + (10 > f ? "0" + f : "" + f)
        };
        J.strDate = function(a) {
            switch (a.length) {
                case 8:
                    a = a.split(":");
                    var b = new Date;
                    b.setTime(0);
                    b.setUTCHours(a[0]);
                    b.setUTCMinutes(a[1]);
                    b.setUTCSeconds(a[2]);
                    return b;
                case 10:
                    return a = a.split("-"), new Date(a[0], a[1] - 1, a[2], 0, 0, 0);
                case 19:
                    return b = a.split(" "), a = b[0].split("-"), b = b[1].split(":"), new Date(a[0], a[1] - 1, a[2], b[0], b[1], b[2]);
                default:
                    throw "Invalid date format : " + a;
            }
        };
        J.cca = function(a, b) {
            var c =
                a.charCodeAt(b);
            return c != c ? void 0 : c
        };
        J.substr = function(a, b, c) {
            if (null != b && 0 != b && null != c && 0 > c) return "";
            null == c && (c = a.length);
            0 > b ? (b = a.length + b, 0 > b && (b = 0)) : 0 > c && (c = a.length + c - b);
            return a.substr(b, c)
        };
        J.indexOf = function(a, b, c) {
            var d = a.length;
            0 > c && (c += d, 0 > c && (c = 0));
            for (; c < d;) {
                if (a[c] === b) return c;
                c++
            }
            return -1
        };
        J.remove = function(a, b) {
            var c = J.indexOf(a, b, 0);
            if (-1 == c) return !1;
            a.splice(c, 1);
            return !0
        };
        J.iter = function(a) {
            return {
                cur: 0,
                arr: a,
                hasNext: function() {
                    return this.cur < this.arr.length
                },
                next: function() {
                    return this.arr[this.cur++]
                }
            }
        };
        var be = function() {};
        h.Lambda = be;
        be.__name__ = ["Lambda"];
        be.count = function(a, b) {
            var c = 0;
            if (null == b)
                for (var d = Qa(a)(); d.hasNext();) d.next(), c++;
            else
                for (d = Qa(a)(); d.hasNext();) {
                    var e = d.next();
                    b(e) && c++
                }
            return c
        };
        be.indexOf = function(a, b) {
            for (var c = 0, d = Qa(a)(); d.hasNext();) {
                var e = d.next();
                if (b == e) return c;
                c++
            }
            return -1
        };
        var hg = function() {
            E.get_instance().signToNotify("initLevelGraphics", this)
        };
        h.LevelGraphics = hg;
        hg.__name__ = ["LevelGraphics"];
        hg.__interfaces__ = [ye];
        hg.prototype = {
            receiveNotify: function(a,
                b, c) {
                this.initGraph(c)
            },
            initGraph: function(a) {
                a = a.layers;
                for (var b = 0; b < a.length;) {
                    var c = a[b];
                    ++b;
                    this.parseLayer(c)
                }
            },
            parseLayer: function(a) {
                var b;
                a = a.i;
                for (var c = 0; c < a.length;) b = a[c], ++c, "ground" != b.t && "woodenBlock" != b.t && "hero" != b.t && "finish" != b.t && "evilBull" != b.t && "hoist" != b.t && "spring" != b.t && "cannon" != b.t && "hook" != b.t && "MovingPlatform" != b.t && (b = Ne.getOptions(b), this.buildTile(b))
            },
            buildTile: function(a) {
                var b = Fa.get_instance().get("tilelayer1");
                if (null == b) console.log("Layer tilelayer1 no found");
                else {
                    var c = new oe(b, a.type);
                    c.x = a.x;
                    c.y = a.y;
                    c.set_rotation(H.toRad(a.r));
                    c.set_scaleX(a.scaleX);
                    c.set_scaleY(a.scaleY);
                    b.addChild(c);
                    "tile_d_scale" == a.type && (a = (c.size.width * c._scaleX + 4) / (c.size.width * c._scaleX), c.set_scaleX(c._scaleX * a))
                }
            },
            __class__: hg
        };
        var ig = function() {
            A.call(this);
            this.init()
        };
        h.LevelInfo = ig;
        ig.__name__ = ["LevelInfo"];
        ig.__super__ = A;
        ig.prototype = v(A.prototype, {
            init: function() {
                this.star2Hiden = this.star3Hiden = this.complete = !1;
                this.createUi()
            },
            createUi: function() {
                this.bg1 = new yb("tilelayer1",
                    "star_panel");
                this.bg1.set_x(722);
                this.bg1.set_y(24);
                this.bg2 = new yb("tilelayer1", "Level_tablichka");
                this.bg2.set_x(478);
                this.bg2.set_y(26);
                this.progressBarPos = {
                    x: 608,
                    y: 24.5
                };
                this.progressBar = new yb("tilelayer1", "star_bar");
                this.progressBar.set_x(this.progressBarPos.x);
                this.progressBar.set_y(this.progressBarPos.y);
                this.progressBar.set_scaleX(1);
                this.updateProgress();
                var a = new rb;
                a.set_size(38);
                a.set_fieldWidth(300);
                a.set_align("center");
                a.set_x(327);
                a.set_y(1);
                a.set_text("Level:" + O.currentLevel);
                a.mouseEnabled = !1;
                a.set_color(15719348);
                this.addChild(a);
                this.star1 = new yb("tilelayer1", "star_bar_star");
                this.star1.set_x(610);
                this.star1.set_y(25);
                this.star2 = new yb("tilelayer1", "star_bar_star");
                this.star2.set_x(689);
                this.star2.set_y(25);
                this.star3 = new yb("tilelayer1", "star_bar_star");
                this.star3.set_x(768);
                this.star3.set_y(25)
            },
            updateProgress: function() {
                if (1 != this.complete) {
                    var a = this.progressBarPos.x + this.progressBar.get_width() / 2;
                    this.progressBar.set_x(a)
                }
            },
            setGoldTime: function(a) {
                this.levelTime =
                    3 * a;
                this.time3Stars = a;
                this.time2Stars = 2 * a
            },
            update: function(a) {
                1 != this.complete && (a > this.time3Stars && 0 == this.star3Hiden ? this.hideStar(3) : a > this.time2Stars && 0 == this.star2Hiden && this.hideStar(2), a = 1 - a / this.levelTime, 0 >= a && (a = 0, this.complete = !0), r.to(this.progressBar, {
                    scaleX: a
                }, null, null, null, null, null, null, null, null, {
                    fileName: "LevelInfo.hx",
                    lineNumber: 123,
                    className: "LevelInfo",
                    methodName: "update"
                }).time(.07).onUpdate(l(this, this.updateProgress)))
            },
            hideStar: function(a) {
                3 == a ? (this.star3Hiden = !0, r.to(this.star3, {
                    alpha: 0
                }, null, null, null, null, null, null, null, null, {
                    fileName: "LevelInfo.hx",
                    lineNumber: 131,
                    className: "LevelInfo",
                    methodName: "hideStar"
                }).time(.4)) : 2 == a && (this.star2Hiden = !0, r.to(this.star2, {
                    alpha: 0
                }, null, null, null, null, null, null, null, null, {
                    fileName: "LevelInfo.hx",
                    lineNumber: 136,
                    className: "LevelInfo",
                    methodName: "hideStar"
                }).time(.4))
            },
            free: function() {
                this.complete = !0;
                this.star1.free();
                this.star1 = null;
                this.star2.free();
                this.star2 = null;
                this.star3.free();
                this.star3 = null;
                this.progressBar.free();
                this.progressBar =
                    null
            },
            __class__: ig
        });
        var qf = function() {
            this.length = 0
        };
        h.List = qf;
        qf.__name__ = ["List"];
        qf.prototype = {
            add: function(a) {
                a = [a];
                null == this.h ? this.h = a : this.q[1] = a;
                this.q = a;
                this.length++
            },
            iterator: function() {
                return {
                    h: this.h,
                    hasNext: function() {
                        return null != this.h
                    },
                    next: function() {
                        if (null == this.h) return null;
                        var a = this.h[0];
                        this.h = this.h[1];
                        return a
                    }
                }
            },
            __class__: qf
        };
        var Oe = function() {};
        h["com.alagatar.interfaces.IUpdate"] = Oe;
        Oe.__name__ = ["com", "alagatar", "interfaces", "IUpdate"];
        Oe.prototype = {
            __class__: Oe
        };
        var jg =
            function() {
                this.init()
            };
        h.LoseChecker = jg;
        jg.__name__ = ["LoseChecker"];
        jg.__interfaces__ = [Oe, ye];
        jg.prototype = {
            init: function() {
                this.countMechanism = 0;
                this.active = !1;
                this.counter = 0;
                this.timeout = 80;
                this.heroPosInited = !1;
                Ib.get_instance().add(this);
                E.get_instance().signToNotify("newMechanism", this);
                E.get_instance().signToNotify("activateMechanism", this)
            },
            receiveNotify: function(a, b, c) {
                "newMechanism" == a ? this.countMechanism++ : "activateMechanism" == a && (this.countMechanism--, 0 == this.countMechanism && this.startChecker())
            },
            startChecker: function() {
                this.active = !0
            },
            update: function() {
                0 != this.active && (1 == ta.instance.complete ? this.active = !1 : 0 == this.checkHeroNoMove() ? this.counter = 0 : (this.counter++, this.counter == this.timeout && this.completeTime()))
            },
            checkHeroNoMove: function() {
                return 1 == ta.instance.levelManager.hero.body.zpp_inner.component.sleeping ? !0 : !1
            },
            completeTime: function() {
                this.active = !1;
                E.get_instance().postNotify("lose")
            },
            __class__: jg
        };
        var fa = h.ScenesList = {
            __ename__: ["ScenesList"],
            __constructs__: "Intro Menu Credits Story LevelSelect LevelBuilder Final Test".split(" ")
        };
        fa.Intro = ["Intro", 0];
        fa.Intro.toString = w;
        fa.Intro.__enum__ = fa;
        fa.Menu = ["Menu", 1];
        fa.Menu.toString = w;
        fa.Menu.__enum__ = fa;
        fa.Credits = ["Credits", 2];
        fa.Credits.toString = w;
        fa.Credits.__enum__ = fa;
        fa.Story = ["Story", 3];
        fa.Story.toString = w;
        fa.Story.__enum__ = fa;
        fa.LevelSelect = ["LevelSelect", 4];
        fa.LevelSelect.toString = w;
        fa.LevelSelect.__enum__ = fa;
        fa.LevelBuilder = ["LevelBuilder", 5];
        fa.LevelBuilder.toString = w;
        fa.LevelBuilder.__enum__ = fa;
        fa.Final = ["Final", 6];
        fa.Final.toString = w;
        fa.Final.__enum__ = fa;
        fa.Test = ["Test",
            7
        ];
        fa.Test.toString = w;
        fa.Test.__enum__ = fa;
        var kg = function() {};
        h.IMap = kg;
        kg.__name__ = ["IMap"];
        Math.__name__ = ["Math"];
        var Uc = function() {
            A.call(this);
            this.createUi()
        };
        h.NMEPreloader = Uc;
        Uc.__name__ = ["NMEPreloader"];
        Uc.__super__ = A;
        Uc.prototype = v(A.prototype, {
            createUi: function() {
                var a = Z.current.stage.stageWidth,
                    b = a - 6 - 200,
                    a = a / 2 - b / 2,
                    c = Z.current.stage.stageHeight / 2 - 25;
                this.outline = new A;
                this.outline.get_graphics().lineStyle(2, 3352349, 1, !0);
                this.outline.get_graphics().drawRect(0, 0, b, 50);
                this.outline.set_x(a);
                this.outline.set_y(c);
                this.progressBar.addChild(this.outline);
                this.progress = new A;
                this.progress.get_graphics().beginFill(16724005, 1);
                this.progress.get_graphics().drawRect(0, 0, b - 6, 44);
                this.progress.set_x(a + 3);
                this.progress.set_y(c + 3);
                this.progress.set_scaleX(0);
                this.progressBar.addChild(this.progress)
            },
            onInit: function() {},
            onLoaded: function() {
                this.dispatchEvent(new z(z.COMPLETE))
            },
            onUpdate: function(a, b) {
                var c = a / b;
                1 < c && (c = 1);
                this.updateProgressBar(c)
            },
            updateProgressBar: function(a) {
                this.progress.set_scaleX(a)
            },
            __class__: Uc
        });
        var Wb = h.Orientaion = {
            __ename__: ["Orientaion"],
            __constructs__: ["Landscape", "Portrait"]
        };
        Wb.Landscape = ["Landscape", 0];
        Wb.Landscape.toString = w;
        Wb.Landscape.__enum__ = Wb;
        Wb.Portrait = ["Portrait", 1];
        Wb.Portrait.toString = w;
        Wb.Portrait.__enum__ = Wb;
        var Ta = function(a, b, c, d) {
            null == d && (d = -1);
            null == c && (c = !0);
            this.transparent = c;
            if (0 < a && 0 < b) {
                this.width = a;
                this.height = b;
                this.rect = new ib(0, 0, a, b);
                if (c) {
                    var e = d & -16777216;
                    0 == (0 > e ? 4294967296 + e : e + 0) && (d = 0)
                } else d = -16777216 | d & 16777215;
                this.__image = new Rd(null,
                    0, 0, a, b, d);
                this.__image.set_transparent(c);
                this.__isValid = !0
            }
            this.__createUVs()
        };
        h["openfl.display.BitmapData"] = Ta;
        Ta.__name__ = ["openfl", "display", "BitmapData"];
        Ta.__interfaces__ = [fj];
        Ta.fromImage = function(a, b) {
            null == b && (b = !0);
            var c = new Ta(0, 0, b);
            c.__loadFromImage(a);
            c.__image.set_transparent(b);
            return c
        };
        Ta.prototype = {
            copyPixels: function(a, b, c, d, e, f) {
                null == f && (f = !1);
                this.__isValid && null != a && this.__image.copyPixels(a.__image, b.__toLimeRectangle(), c.__toLimeVector2(), null != d ? d.__image : null, null != e ?
                    e.__toLimeVector2() : null, f)
            },
            dispose: function() {
                this.__image = null;
                this.height = this.width = 0;
                this.rect = null;
                this.__isValid = !1
            },
            getTexture: function(a) {
                null == this.__texture && (this.__texture = a.createTexture(), a.bindTexture(a.TEXTURE_2D, this.__texture), a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_S, a.CLAMP_TO_EDGE), a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_T, a.CLAMP_TO_EDGE), a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MAG_FILTER, a.LINEAR), a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MIN_FILTER, a.LINEAR), this.__image.dirty = !0);
                if (this.__image.dirty) {
                    a.bindTexture(a.TEXTURE_2D, this.__texture);
                    var b = this.__image.clone();
                    b.set_premultiplied(!0);
                    a.texImage2D(a.TEXTURE_2D, 0, a.RGBA, this.width, this.height, 0, a.RGBA, a.UNSIGNED_BYTE, b.get_data());
                    a.bindTexture(a.TEXTURE_2D, null);
                    this.__image.dirty = !1
                }
                return this.__texture
            },
            lock: function() {},
            setPixel32: function(a, b, c) {
                this.__isValid && this.__image.setPixel32(a, b, c)
            },
            unlock: function(a) {},
            __createUVs: function() {
                null == this.__uvData && (this.__uvData = new rf);
                this.__uvData.x0 = 0;
                this.__uvData.y0 =
                    0;
                this.__uvData.x1 = 1;
                this.__uvData.y1 = 0;
                this.__uvData.x2 = 1;
                this.__uvData.y2 = 1;
                this.__uvData.x3 = 0;
                this.__uvData.y3 = 1
            },
            __loadFromBase64: function(a, b, c) {
                var d = this;
                Rd.fromBase64(a, b, function(a) {
                    d.__loadFromImage(a);
                    null != c && c(d)
                })
            },
            __loadFromImage: function(a) {
                this.__image = a;
                this.width = a.width;
                this.height = a.height;
                this.rect = new ib(0, 0, a.width, a.height);
                this.__isValid = !0
            },
            __sync: function() {
                pa.sync(this.__image)
            },
            __class__: Ta
        };
        var Bc = function(a, b, c, d, e) {
            null == d && (d = -1);
            null == c && (c = !0);
            Ta.call(this, 0, 0,
                c, d);
            null != Bc.preload ? this.__image = Bc.preload : this.__loadFromBase64(ze.getString(Bc.resourceName), Bc.resourceType, function(a) {
                null == Bc.preload && (Bc.preload = a.__image);
                null != e && e(a)
            })
        };
        h.GameLogo = Bc;
        Bc.__name__ = ["GameLogo"];
        Bc.preload = null;
        Bc.__super__ = Ta;
        Bc.prototype = v(Ta.prototype, {
            __class__: Bc
        });
        var Cc = function(a, b, c, d, e) {
            null == d && (d = -1);
            null == c && (c = !0);
            Ta.call(this, 0, 0, c, d);
            null != Cc.preload ? this.__image = Cc.preload : this.__loadFromBase64(ze.getString(Cc.resourceName), Cc.resourceType, function(a) {
                null ==
                    Cc.preload && (Cc.preload = a.__image);
                null != e && e(a)
            })
        };
        h.StudioLogo = Cc;
        Cc.__name__ = ["StudioLogo"];
        Cc.preload = null;
        Cc.__super__ = Ta;
        Cc.prototype = v(Ta.prototype, {
            __class__: Cc
        });
        var Vc = function(a, b, c, d, e) {
            null == d && (d = -1);
            null == c && (c = !0);
            Ta.call(this, 0, 0, c, d);
            null != Vc.preload ? this.__image = Vc.preload : this.__loadFromBase64(ze.getString(Vc.resourceName), Vc.resourceType, function(a) {
                null == Vc.preload && (Vc.preload = a.__image);
                null != e && e(a)
            })
        };
        h.ProgressBarBg = Vc;
        Vc.__name__ = ["ProgressBarBg"];
        Vc.preload = null;
        Vc.__super__ =
            Ta;
        Vc.prototype = v(Ta.prototype, {
            __class__: Vc
        });
        var nc = function(a, b, c, d, e) {
            null == d && (d = -1);
            null == c && (c = !0);
            Ta.call(this, 0, 0, c, d);
            null != nc.preload ? this.__image = nc.preload : this.__loadFromBase64(ze.getString(nc.resourceName), nc.resourceType, function(a) {
                null == nc.preload && (nc.preload = a.__image);
                null != e && e(a)
            })
        };
        h.ProgressBarBody = nc;
        nc.__name__ = ["ProgressBarBody"];
        nc.preload = null;
        nc.__super__ = Ta;
        nc.prototype = v(Ta.prototype, {
            __class__: nc
        });
        var Ac = function() {
            this.needOrientation = Wb.Landscape;
            this.apiLoaded =
                this.gameLoaded = !1;
            Uc.call(this)
        };
        h.Preloader = Ac;
        Ac.__name__ = ["Preloader"];
        Ac.__super__ = Uc;
        Ac.prototype = v(Uc.prototype, {
            createUi: function() {
                var a = new Xb(new Bc(826, 232));
                a.set_x(227);
                a.set_y(80);
                this.addChild(a);
                a = new Xb(new Cc(270, 134));
                a.set_x(1);
                a.set_y(581);
                this.addChild(a);
                this.progressBar = new A;
                this.progressBar.set_scaleX(1.5);
                this.progressBar.set_scaleY(1.5);
                this.progressBar.set_x(205);
                this.progressBar.set_y(360);
                this.addChild(this.progressBar);
                a = new Xb(new Vc(581, 67));
                a.smoothing = !0;
                this.progressBar.addChild(a);
                this.progress = new A;
                this.progress.set_x(20);
                this.progress.set_y(21);
                this.progressBar.addChild(this.progress);
                a = new Xb(new nc(1, 26));
                a.set_scaleX(541.04);
                a.set_scaleY(1.03);
                this.progress.addChild(a);
                this.progress.set_scaleX(0)
            },
            onInit: function() {
                this.init()
            },
            init: function() {
                O.initStage();
                this.checkIsMobile();
                this.initElements();
                this.addBackground();
                this.addBorders();
                this.addRotatePic();
                this.addResizeListener();
                S.get_instance().init("576742227280295254");
                S.get_instance().putLogo(2, 40);
                this.updateBranding()
            },
            checkIsMobile: function() {
                var a = window.navigator.userAgent;
                if ((new ea("android", "i")).match(a) || (new ea("webOS", "i")).match(a) || (new ea("iPhone", "i")).match(a) || (new ea("iPad", "i")).match(a) || (new ea("iPod", "i")).match(a) || (new ea("BlackBerry", "i")).match(a) || (new ea("Windows Phone", "i")).match(a) || (new ea("IEMobile", "i")).match(a) || (new ea("Opera Mini", "i")).match(a) || (new ea("ZuneWP7", "i")).match(a) || (new ea("Opera Mobi", "i")).match(a) || (new ea("windows mobile", "i")).match(a) || (new ea("nokia", "i")).match(a) ||
                    (new ea("PSP", "i")).match(a) || (new ea("Kindle", "i")).match(a) || (new ea("PS Vita", "i")).match(a) || (new ea("Mobi", "i")).match(a) || (new ea("bada", "i")).match(a)) Ac.onMobile = !0;
                if ((new ea("windows mobile", "i")).match(a) || (new ea("windows phone", "i")).match(a) || (new ea("iemobile", "i")).match(a) || (new ea("windows nt", "i")).match(a) && (new ea("touch", "i")).match(a)) Ac.isWindowsPhone = !0
            },
            initElements: function() {
                this.body = window.document.getElementsByTagName("body")[0];
                this.openfl_content = window.document.getElementById("openfl-content");
                this.openfl_canvas = this.openfl_content.getElementsByTagName("canvas")[0];
                0 == Ac.onMobile && (this.body.style.overflow = "hidden")
            },
            addBackground: function() {
                this.background = window.document.createElement("div");
                this.background.style.backgroundImage = "url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAABVCAMAAAAPK1hoAAAANlBMVEWhakSdZkGgaUN/UTGZYz+pcEmIWDaRXTptRSmPXTuxdk6tc0uVYDyAVDZWVl9vVkprcnyMkZqgqZKLAAABWklEQVRYw+3Y4XKDIBAE4Fu64Up7Qfv+L9vUoUYDqWaUNmn4fjnIHM7osB7yWoOEGuS9Bmn+kiMZQvDJ8YJPTlMgTVOXXfsIjdL8NlxwsokDTQusXBemakZg8jCSgV4DyThqmcFNp5nqclmtoVWt9EfkapBDDXKnwBnIzboYJINtVdH1HxGyM3axj5RdMPhRjJ0PA3KhPGh+MMyG7IRnT5KprhQdmJiOuUK2oFQ0v2U6ZyTAdD0Wpo7mgWoEvku48VWZ/ozMZxnPsvFKu7av4aG648PJP84CkqGIshELWrfZrGB+Iji5HwC5rXFabl/MCNkKWmRMbLR6NdL0FsYVHqqH0RrkpYZKGftWgzyh0PdRCmhh5AdB1vtqmmR3XYwRsjf4o0mzosmRIiQpQxIsxZdpIlNgfh42HtOGYORsXTEO8kRYiCA65B0qzBb2Vyyd4dHJnLOHzAKt4RPC2k+jw0qeYQAAAABJRU5ErkJggg==')";
                this.background.style.position = "fixed";
                this.background.style.top = "0px";
                this.background.style.width = "100%";
                this.background.style.height = "100%";
                this.body.insertBefore(this.background, this.openfl_content)
            },
            addBorders: function() {
                this.borderW = 42;
                this.leftBorder = window.document.createElement("div");
                this.leftBorder.style.position = "absolute";
                this.leftBorder.style.width = this.borderW + "px";
                this.leftBorder.style.height = "100%";
                this.leftBorder.style.backgroundImage = "url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAABVCAMAAAAIaYZ9AAAArlBMVEWZVTMAAACNVjeTXTqSXjuQXDmVXzyOWTSWYT2TXjqVYTyTXzuVYT2hakSRXTptRSmdZkCRXTqUXzt/UTGpcEnBhU3dmVixd06HVzV2Sy2tc0uJWTnSmGOrdkWAVDbtrG+7g1PboGvIilD8vH+yeUe6fkmib0PKkV/OjlPWk1bkomSZYz7BilleVVWjckpzWUxVWmd8gouFXUNeZXGCYEyQZEiWm6O2gFGZYz+aZD4pVKhjAAAADXRSTlMPAB9fn8x4L+NNto/z8Qcu4gAAAyRJREFUSMetV2tvm0AQxG3qxKlgT9ecIQVijpfx23m0gv//xzobQIkjw/KhI1mWrNFqbnf2YYdKE1OZkAyHVLKnKKFfnoDAIT+ztM4ofPg9inLuIKKl1RpRlTuC2pmBmqWUrQQquN8dCn1D6xzUepSqQLVRTlkqUIE7CFgaWi3pMQhCRvB0gSDswRnIIYCj6vGoTR9VpmqHkgpRZWqzcGivCop2IlXPLgW8nV9PgzXAs0A1TPVc9/D8fKiH85rkBT4d9Xw+6OG8rhF12QlQLy9aDQsIC0M7Oa8sIIKAZS7n9abNwHZCCX465G4Mxe9U9QWXr/qGDOwKqoqBhtG6Ua3UxeyTgAH05rxHVFCrMSqUcdhbh46loTIVO/bHjEtQ0GojN/dNOzKSVKbCr3GO6ZLL1DmoiGoMicCz9pnFLKDAdcVqKT+i4xrUh3FAgM0qabr0fk3g63VBj2HYPrSumytEFAtR05gyAypIwADTbfAshcImsgkVnhWVqFYpUtmE0XZkunjvCBk/ICCFgEqMWvOzCggoZK2LtrmjCb0FAcfYkB8zVUmT0G4ggLV6V+vV6M6DnNcKXdBam4ugLwSC2APUSMW0ZQEd9CdcdAxMiNGyrURrcwkCvGnnY20IQNQ4jnloikDUvd2TtaIADWsnx4jshC6Asyx2cZYhqisOzX23DcPhIdRXy9vBWcgruuArLqoxn7wN2Vm7DewiU+8caC0wX9Npu2C6gKS3Nmfr7XQa2ltzWFtBa9pRz3+fT83wQdIK6Kivryd9nXrbrY2e+udweFGDvaVyg93VUkfQwFkWDZMtRerNrNVqpWQprRHV5+myYWo9BM0Nw1G3rQBxwaAEq8l76wnN7SUyVX8so0cJfBW/N7cMVMtGtLLk+QL40uQVJ7chm/AYpeSX8t5acHN3zmrGo8IuesOHnngVcwnWKOwy/Z931j03N/JfylHnfDylBh4QqQ3fr/Iy6p+1VzklqqequkN3tKn2B3zftF2QdVGbuoaH+j8Hym28D/BJNjxd6i8bJjKgVlcuTe1dgv8XxJQa2doQEJTwazyJytebyWXq/T8Xsfcoddiz5QAAAABJRU5ErkJggg==')";
                this.leftBorder.style.top = "0px";
                this.rightBorder = window.document.createElement("div");
                this.rightBorder.style.position = "absolute";
                this.rightBorder.style.width = this.borderW + "px";
                this.rightBorder.style.height = "100%";
                this.rightBorder.style.backgroundImage = "url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAABVCAMAAAAIaYZ9AAAA+VBMVEWZVTONVjeTXTqYYT6QXDkAAACSXjuOWTSTXjqSXjuVYTyVYDyTXzuaZD+cZkGRXDmQXTqQXDqhakSRXTptRSmaZD+PXjuWYT2pcEl/UTHdmVjBhEyIVzV2Sy2xdk6tc0uJWTmdZkGAVDbboGuqdkbIilDRmGayeUe6fknTl2Dtq2vKkV/Ah1D+voLWk1aGVza5g1Wjckqib0PkomTOjlOyfE3BilleVVW6gk7ur3RVWme+hlasdEN6TjD2tnmreU/enF6daT3nqnJ8gouFXUN1W05eZXGCYExvVkqUXzuWm6OQZEiRXTqcZj+RXTqRXTqZYz+dZkGXZDx5Cg60AAAAEnRSTlMPH19/xQDrL02fstiP69hv/tism2ljAAADcUlEQVRIx41XeXOacBClzdEcbTJ1FkmkhxMQiLeIaNQYzU07juD3/zB9KzKWjLC8/3TerO+3+/ZQIRkjl8ymS0qnLOCaJhb5k4iUS/d3Lq6q1GqQ0Xog5Uj5VspBtLqmxh0ZXYuUz2AK1PqMai2mRrnUEFS7QfqgSsp5SaIiJNm3BjJQTdC5SaETf9m5p8od6RUIUPOjBhwVAmxk4FimVuqIekvKiSpTEdXrIq+aSF3fkrPwSVHCDNLL6/gtJSAzr+Hw6WlYKq2Y2gR1kJ1XbTgeb6n2iBy7my0g0p6fo62AOaI2WICc1zXpDgp7KufVnkMAnvW1QAn6cQY+XaQlfsCGapLeLqEEJ8uYo2rBag9AdTxy1sjAWWK2LOwEfOGg+J08qgfqBAIOV/lAslzS3R6StRKp7To5XIJjmVobxSPjUqbamC62iWeRiGYTUU2pWkCHWhamiw8BV/kAtdEj6yFiv8rTpUVeC3MA5doDNQy1MqNavSenQfaki2eppQzuBgGo+oymNQPPyre2xoXtkj6P2ISiX91HclwMosMqo7xBBpVnVt/iNhSjehBQgwA4W6I6sItjQECB3rrl5pYm4ZKp0wHp0x7yqq02CNR9zI2zPAhoG6DiU0KOUj/NBYitjS7w8KxUvwT/YefXaZ+mCwsl+C5a2+tjwPiI+kPAPQ3WZA46iEoibPSWiS44OBbXsWGQb/hwVoEuMMjqdYWhCeBZsxY2MvKq7cZ0eR9g7cojCutDayrv4UcEVeR1Qvq6DGdJXbBbRsq57CzYpb0utAtqmK+OzwIKr+ODjIMkenl541wl1u5m7i31/enPeEutQeuCrb3c//L319cNNRGQ3VvR83D4l6nJ2mC/5p8OTMXO0u0Ia+NUpFZmaBgDUQNtKSXLiLUeccNoYRaY2ubpgotIXDGI2sLMMortLUzC+qTQ3hqVyVzckPJTwm4ZkQxu7tGClItfAspk3JFlWKIJ0YbximOqvLfcB6pZPdglP6q63QV1XnGBeBXzodfWxN7S2NpzFLYBrWeF76yjA5HKt4u+hlZVpLbrEMAjQyu2jAZ41jJahgxcdXEmwy2ihLrokr3wecPsoJai5C8BZmAYqtuoM+6CDxsm3JeseGiiWqs0tGWUAlM9VEu3IEC2drNGpjcqRDXhV7eDo1Sm2s3N9fYPOyvrakjDSNIAAAAASUVORK5CYII=')";
                this.rightBorder.style.top = "0px";
                this.openfl_content.appendChild(this.leftBorder);
                this.openfl_content.appendChild(this.rightBorder)
            },
            addRotatePic: function() {
                this.rotatePic = window.document.createElement("div");
                this.rotatePic.style.position = "absolute";
                this.rotatePic.style.width = "249px";
                this.rotatePic.style.height = "144px";
                this.rotatePic.style.backgroundImage = "url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPkAAACQCAMAAAD9aj0wAAAAV1BMVEXU0tK/vr6tra3U1NS3t7evr6/FxMQAAAD////g4ODu7u7MysrFxMSurq6wsLCsrKyvr6/CwcHU0tL///+vr6/X19fDw8Ps7Oy3t7fLysq/v7/5+fnf398/Cs2HAAAAEnRSTlN8wVytjMbBAHybi4ubOXoV66+01YRNAAAE1klEQVR42u3c7XKjIBSA4URFElvR4JHv+7/OxW43bXeDEkyygrx/O83MM4cc6J8eMO6KoqieECmKtsOb7YCL6lKW52dUlpeqxVvt0Fbl6Wk1dbXZqR+K+vTEmsvn0Dt0jRBStP//LBzsyJ9ZWeCPWlDsM/gTsqugxaGtl58DPCFyPnzFOTejZAJsPSKeizAF+TVuxg9/XxXL+qTkH2k+Mh99evKP+Cit3p587CxRuU1zqgB6Ej75cHnTnFfXND5y9+gFAArDh8ubsq6P66vrc7jcxqnFV0UAJlheH9/eDqt7e3s/NmvkNsOmwQdwwuTno3U/pEu9Tm7TVEAf8PQNlB8e1FvdrJVb+ygAfthjkB8b5+uVjiPn2vPQWzvB12KQ/ztzXKHfwe+EHDlftvPrmY9X/q22JQShic8M9znzNz4jTvlnbUEsX0iuF+wACDuKUz7VFVUPwIyetTNALXYWp3yqnUYv+ZxdLm26OOW2jvQgjJ7ddGhh0cUpt7UVAHXbNfNYdHHKp8HP2g1AhZeKU26z9nHtiY9TPs1dGRddKwCPHR+n/OP7zrTLLv3occqtvRfcRTeeey5OOe4QjGvpccqnTSf1WnqcclyA4g46t/SE5bhFwkU3vmsuTjnukDBueod9ilOOMQIXnQLqUpbP0CWgpOWWzp2vOZK0vHOuOe79VY9TjjsQ2rHlvM97nHLcghxux7xv9TjlmMC4+rzHKcfIdd5HIGnLO2CO/S68hx6nHBPX1Wb8hx6n/BFDj1M+DX31Nz1OuXvo0GPP4pTjCrTr+d5GIi8IQSGBcd3pPQqIkKJ7qbztAUCxgIQabieABQS24oXyDmDUQ1DUfdyDPlEbAe3r5ATGITDuOu4GTOgnotfJkRiCA+ra7nIIS8IL5Sxcrly/K9QQ1hiJXArn6BKXj+D8AU9drh2bKnW5Ae7c+nHKuWdOuQbJfduMnDPwz3mo4Z6k3oJcC1BKzqW+Em65UNfkfEqB2oJcgqSzKfje4DFzRRdiYDYgZ4LOJ0Hwr1xyafhnCiRdCsYNyJWgi3Q5+EeB0TjkduZLsTvoxsLTkd9B56BoSnJLN35wIWhacqq86NrCU5P70RXI9OSWzpfg0sITlFMhFugjMJqkfIluQNFE5XKWzi08Vfk0dT13nyUsl6AcdK0ETVnupiuQacstnbnus8Tl1Bpv32fJyykDees+24H8Xzq38F3ILd38fZ/tRE4VmJ/32W7kP+gM5I7kls6/3Wd7kl//ejHAaGxyyRi/ykPp030Wm5yDANDhcjnRuVA0OrkUVAIPltuEmu6z+ORstVwCAN2lnEoldyq3ZXmWZ3mWZ3mWZ3mWZ3mWZ3mWZ3mWZ3mWB8lhr3IOAGrYo3zg46j3KZ/K8qWyPMuzPMuzPMuzPMuzPMuzPMuzPMsfIT9FJW/q9wfJL2Vc8lN5vLw/okvdRCY/neuHZCcem/xRZfmcnAJ9eRL4BuQcXj50CUJvQD4YeHmCD/fKz+XNTdaEy218fHV6uFteX27fXnfKN5Sn/Hx0PVJTl9vX3U5n7nriNOnLXUUtJ2WAJ0guhg0l+0NxOT2x5r39/m/YN5MW1aGrnjj0pib4Tx0oPWwkraA74OK9PD8rC/+qACHHbST6Fh8wbkn1rFr8vRbBRkIdxr8A9bK+7dFKincAAAAASUVORK5CYII=')";
                this.rotatePic.style.display = "none";
                this.body.appendChild(this.rotatePic)
            },
            addResizeListener: function() {
                window.addEventListener("resize", l(this, this.resizeHandler));
                this.resize(!0)
            },
            resizeHandler: function(a) {
                this.resize()
            },
            resize: function(a) {
                null == a && (a = !1);
                1 == Ac.onMobile && this.checkOrientation();
                1 == a ? this.arangeBorders() : ob.delay(l(this, this.arangeBorders), 10)
            },
            checkOrientation: function() {
                1 == window.matchMedia("(orientation: portrait)").matches ? this.setPortrait() : this.setLandscape()
            },
            setLandscape: function() {
                this.curOrientation =
                    Wb.Landscape;
                this.rotatePic.style.display = "none";
                this.openfl_canvas.style.opacity = "1";
                Z.current.set_visible(!0)
            },
            setPortrait: function() {
                this.curOrientation = Wb.Portrait;
                var a = window.innerHeight,
                    b = window.innerWidth / 2 - G.parseFloat(this.rotatePic.style.width) / 2,
                    a = a / 2 - G.parseFloat(this.rotatePic.style.height) / 2;
                this.rotatePic.style.left = b + "px";
                this.rotatePic.style.top = a + "px";
                this.rotatePic.style.display = "block";
                this.openfl_canvas.style.opacity = "0";
                Z.current.set_visible(!1)
            },
            arangeBorders: function() {
                var a =
                    window.innerWidth,
                    b = G.parseFloat(this.openfl_canvas.style.width);
                G.parseFloat(this.openfl_canvas.style.height);
                var c = a / 2,
                    d = b / 2,
                    b = c - d - this.borderW + 2,
                    c = c + d - 2;
                this.leftBorder.style.display = b <= -(this.borderW - 10) ? "none" : "block";
                this.rightBorder.style.display = c >= a - 10 ? "none" : "block";
                this.leftBorder.style.left = b + "px";
                this.rightBorder.style.left = c + "px";
                this.updateBranding()
            },
            onUpdate: function(a, b) {
                var c = a / b;
                1 < c && 1 == c;
                this.progress.set_scaleX(c)
            },
            onLoaded: function() {
                "complete" != window.document.readyState ? window.document.body.onload =
                    l(this, this.allLoaded) : this.allLoaded()
            },
            allLoaded: function(a) {
                this.resize(!0);
                this.hideAdressBar();
                this.completePreloader()
            },
            hideAdressBar: function() {
                setTimeout("window.scrollTo(0, 1)", 1E3)
            },
            completePreloader: function() {
                r.to(this.progressBar, {
                    alpha: 0
                }, null, null, null, null, null, null, null, null, {
                    fileName: "Preloader.hx",
                    lineNumber: 373,
                    className: "Preloader",
                    methodName: "completePreloader"
                }).time(.5);
                1 == this.checkSiteLock() && this.showPlayButton()
            },
            showPlayButton: function() {
                this.startShowPlayButton()
            },
            startShowPlayButton: function() {
                var a =
                    new xa("assets/images/buttons/btn_play.png");
                a.set_scaleX(1.3);
                a.set_scaleY(1.3);
                a.addEventListener("b_complete", l(this, this.nextScreen));
                a.set_x(640);
                a.set_y(412);
                a.set_alpha(0);
                this.addChild(a);
                r.to(a, {
                    alpha: 1
                }, null, null, null, null, null, null, null, null, {
                    fileName: "Preloader.hx",
                    lineNumber: 401,
                    className: "Preloader",
                    methodName: "startShowPlayButton"
                }).delay(.2).time(.5)
            },
            nextScreen: function(a) {
                this.dispatchEvent(new z(z.COMPLETE))
            },
            needLoad: function(a) {
                return 1 == Ac.isWindowsPhone && -1 != a.indexOf("sound") ?
                    !1 : !0
            },
            checkSiteLock: function() {
                var a = Z.current.stage.loaderInfo.url,
                    b = G["int"](a.indexOf("://") + 3),
                    c = G["int"](a.indexOf("/", b)),
                    a = a.substring(b, c),
                    b = G["int"](a.lastIndexOf(".") - 1),
                    b = G["int"](a.lastIndexOf(".", b) + 1),
                    a = a.substring(b, a.length);
                0 == a.length && (a = "localhost");
                return 1;
            },
            isUrl: function(a, b) {
                for (var c = 0, d = b.length; c < d;) {
                    var e = c++;
                    if (a == b[e]) return !0
                }
                return !1
            },
            updateBranding: function() {
                var a = G.parseFloat(this.openfl_canvas.style.marginLeft);
                0 > a && (a = 0);
                var b = G.parseFloat(this.openfl_canvas.style.marginTop);
                0 > b && (b = 0);
                var c = G.parseFloat(this.openfl_canvas.style.width);
                G.parseFloat(this.openfl_canvas.style.height);
                c /= Z.current.stage.stageWidth;
                S.get_instance().resize(a, b, c)
            },
            __class__: Ac
        });
        var Q = function() {};
        h.Reflect = Q;
        Q.__name__ = ["Reflect"];
        Q.hasField = function(a, b) {
            return Object.prototype.hasOwnProperty.call(a, b)
        };
        Q.field = function(a, b) {
            try {
                return a[b]
            } catch (c) {
                return null
            }
        };
        Q.setField = function(a, b, c) {
            a[b] = c
        };
        Q.getProperty = function(a,
            b) {
            var c;
            return null == a ? null : a.__properties__ && (c = a.__properties__["get_" + b]) ? a[c]() : a[b]
        };
        Q.setProperty = function(a, b, c) {
            var d;
            if (a.__properties__ && (d = a.__properties__["set_" + b])) a[d](c);
            else a[b] = c
        };
        Q.callMethod = function(a, b, c) {
            return b.apply(a, c)
        };
        Q.fields = function(a) {
            var b = [];
            if (null != a) {
                var c = Object.prototype.hasOwnProperty,
                    d;
                for (d in a) "__id__" != d && "hx__closures__" != d && c.call(a, d) && b.push(d)
            }
            return b
        };
        Q.isFunction = function(a) {
            return "function" == typeof a && !(a.__name__ || a.__ename__)
        };
        Q.compare =
            function(a, b) {
                return a == b ? 0 : a > b ? 1 : -1
            };
        Q.compareMethods = function(a, b) {
            return a == b ? !0 : Q.isFunction(a) && Q.isFunction(b) ? a.scope == b.scope && a.method == b.method && null != a.method : !1
        };
        Q.isEnumValue = function(a) {
            return null != a && null != a.__enum__
        };
        Q.deleteField = function(a, b) {
            if (!Object.prototype.hasOwnProperty.call(a, b)) return !1;
            delete a[b];
            return !0
        };
        var Tj = function() {};
        h["com.alagatar.interfaces.ISingleton"] = Tj;
        Tj.__name__ = ["com", "alagatar", "interfaces", "ISingleton"];
        var S = function() {
            this.logoPos = {
                x: 0,
                y: 0
            };
            this.moreGamesPos = {
                x: 0,
                y: 0
            };
            this.moreGamesH = this.moreGamesW = 0;
            this.canvasPos = {
                x: 0,
                y: 0
            };
            this.canvasScale = 0
        };
        h.SpilHtml5Manager = S;
        S.__name__ = ["SpilHtml5Manager"];
        S.__interfaces__ = [Tj];
        S.__properties__ = {
            get_instance: "get_instance"
        };
        S._instance = null;
        S.get_instance = function() {
            null == S._instance && (S._instance = new S);
            return S._instance
        };
        S.prototype = {
            init: function(a) {
                this.loadApi(a)
            },
            loadApi: function(a) {
                GameAPI.loadAPI(l(this, this.initHandler), {
                    id: a
                })
            },
            initHandler: function(a) {
                this.gameApi = a;
                this.addLogo();
                this.addMoreGames()
            },
            addLogo: function() {
                var a = this.gameApi.Branding.getLogo();
                a.image && (this.logo = createLogo(a), this.logo.addEventListener("click", l(this, this.logoHandler)), this.logo.addEventListener("touchend", l(this, this.logoHandler)), this.logo.style.position = "absolute", window.document.getElementById("openfl-content").appendChild(this.logo));
                this.updateLogo()
            },
            updateLogo: function() {
                if (null != this.logo) {
                    var a = this.canvasScale;
                    1 < a && (a = 1);.3 > a && (a = .3);
                    var b = this.canvasPos.y + this.logoPos.y * this.canvasScale;
                    this.logo.style.left =
                        this.canvasPos.x + this.logoPos.x * this.canvasScale + "px";
                    this.logo.style.top = b + "px";
                    this.logo.style.height = 50 * a + "px"
                }
            },
            putLogo: function(a, b) {
                this.logoPos.x = a;
                this.logoPos.y = b;
                this.updateLogo()
            },
            addMoreGames: function() {
                var a = createMoreGames,
                    b = this.gameApi.Branding.getLink("more_games");
                this.moreGames = a(b);
                this.moreGames.addEventListener("click", l(this, this.moreGamesHandler));
                this.moreGames.addEventListener("touchend", l(this, this.moreGamesHandler));
                this.moreGames.style.cursor = "default";
                this.moreGames.style.position =
                    "absolute";
                this.moreGames.style.display = "block";
                this.moreGames.style.outline = "0";
                this.moreGames.style.visibility = "hidden";
                window.document.getElementById("openfl-content").appendChild(this.moreGames)
            },
            moreGamesHandler: function(a) {
                jb.get_instance().save("more_games")
            },
            logoHandler: function(a) {
                jb.get_instance().save("logo")
            },
            showMoreGames: function(a) {
                null != this.moreGames && (this.moreGames.style.visibility = 1 == a ? "visible" : "hidden")
            },
            showMoreGamesOn: function(a, b, c, d) {
                this.moreGamesPos.x = a;
                this.moreGamesPos.y =
                    b;
                this.moreGamesW = c;
                this.moreGamesH = d;
                this.updateMoreGames();
                this.showMoreGames(!0)
            },
            updateMoreGames: function() {
                if (null != this.moreGames) {
                    var a = this.canvasPos.y + this.moreGamesPos.y * this.canvasScale,
                        b = this.moreGamesW * this.canvasScale,
                        c = this.moreGamesH * this.canvasScale;
                    this.moreGames.style.left = this.canvasPos.x + this.moreGamesPos.x * this.canvasScale + "px";
                    this.moreGames.style.top = a + "px";
                    this.moreGames.style.width = b + "px";
                    this.moreGames.style.height = c + "px"
                }
            },
            resize: function(a, b, c) {
                this.canvasPos.x = a;
                this.canvasPos.y =
                    b;
                this.canvasScale = c;
                this.udpate()
            },
            udpate: function() {
                this.updateLogo();
                this.updateMoreGames()
            },
            gameBreak: function(a, b) {
                null != this.gameApi && this.gameApi.GameBreak.request(a, b)
            },
            submitAward: function(a) {
                null != this.gameApi && this.gameApi.Award.submit({
                    award: a
                })
            },
            __class__: S
        };
        var jb = function() {
            if (null != jb._instance) throw "Error: Allready inited. Use instance instead;";
        };
        h.Statistics = jb;
        jb.__name__ = ["Statistics"];
        jb.__properties__ = {
            get_instance: "get_instance"
        };
        jb._instance = null;
        jb.instance = null;
        jb.get_instance =
            function() {
                null == jb._instance && (jb._instance = new jb);
                return jb._instance
            };
        jb.prototype = {
            init: function(a, b) {
                null == b && (b = "none");
                Wc.get_instance().init(a, b)
            },
            save: function(a, b) {
                null == b && (b = "");
                Wc.get_instance().sendEvent(a, b)
            },
            send: function(a, b) {
                null == b && (b = "");
                Wc.get_instance().sendEvent(a, b)
            },
            __class__: jb
        };
        var G = function() {};
        h.Std = G;
        G.__name__ = ["Std"];
        G.string = function(a) {
            return D.__string_rec(a, "")
        };
        G["int"] = function(a) {
            return a | 0
        };
        G.parseInt = function(a) {
            var b = parseInt(a, 10);
            0 != b || 120 != J.cca(a, 1) &&
                88 != J.cca(a, 1) || (b = parseInt(a));
            return isNaN(b) ? null : b
        };
        G.parseFloat = function(a) {
            return parseFloat(a)
        };
        var Pe = function() {
            this.b = ""
        };
        h.StringBuf = Pe;
        Pe.__name__ = ["StringBuf"];
        Pe.prototype = {
            add: function(a) {
                this.b += G.string(a)
            },
            addSub: function(a, b, c) {
                this.b = null == c ? this.b + J.substr(a, b, null) : this.b + J.substr(a, b, c)
            },
            __class__: Pe
        };
        var va = function() {};
        h.StringTools = va;
        va.__name__ = ["StringTools"];
        va.urlEncode = function(a) {
            return encodeURIComponent(a)
        };
        va.urlDecode = function(a) {
            return decodeURIComponent(a.split("+").join(" "))
        };
        va.startsWith = function(a, b) {
            return a.length >= b.length && J.substr(a, 0, b.length) == b
        };
        va.replace = function(a, b, c) {
            return a.split(b).join(c)
        };
        va.hex = function(a, b) {
            var c = "";
            do c = "0123456789ABCDEF".charAt(a & 15) + c, a >>>= 4; while (0 < a);
            if (null != b)
                for (; c.length < b;) c = "0" + c;
            return c
        };
        va.fastCodeAt = function(a, b) {
            return a.charCodeAt(b)
        };
        var W = h.ValueType = {
            __ename__: ["ValueType"],
            __constructs__: "TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")
        };
        W.TNull = ["TNull", 0];
        W.TNull.toString = w;
        W.TNull.__enum__ =
            W;
        W.TInt = ["TInt", 1];
        W.TInt.toString = w;
        W.TInt.__enum__ = W;
        W.TFloat = ["TFloat", 2];
        W.TFloat.toString = w;
        W.TFloat.__enum__ = W;
        W.TBool = ["TBool", 3];
        W.TBool.toString = w;
        W.TBool.__enum__ = W;
        W.TObject = ["TObject", 4];
        W.TObject.toString = w;
        W.TObject.__enum__ = W;
        W.TFunction = ["TFunction", 5];
        W.TFunction.toString = w;
        W.TFunction.__enum__ = W;
        W.TClass = function(a) {
            a = ["TClass", 6, a];
            a.__enum__ = W;
            a.toString = w;
            return a
        };
        W.TEnum = function(a) {
            a = ["TEnum", 7, a];
            a.__enum__ = W;
            a.toString = w;
            return a
        };
        W.TUnknown = ["TUnknown", 8];
        W.TUnknown.toString =
            w;
        W.TUnknown.__enum__ = W;
        var U = function() {};
        h.Type = U;
        U.__name__ = ["Type"];
        U.getClass = function(a) {
            return null == a ? null : D.getClass(a)
        };
        U.getClassName = function(a) {
            return a.__name__.join(".")
        };
        U.getEnumName = function(a) {
            return a.__ename__.join(".")
        };
        U.resolveClass = function(a) {
            a = h[a];
            return null != a && a.__name__ ? a : null
        };
        U.resolveEnum = function(a) {
            a = h[a];
            return null != a && a.__ename__ ? a : null
        };
        U.createInstance = function(a, b) {
            switch (b.length) {
                case 0:
                    return new a;
                case 1:
                    return new a(b[0]);
                case 2:
                    return new a(b[0], b[1]);
                case 3:
                    return new a(b[0], b[1], b[2]);
                case 4:
                    return new a(b[0], b[1], b[2], b[3]);
                case 5:
                    return new a(b[0], b[1], b[2], b[3], b[4]);
                case 6:
                    return new a(b[0], b[1], b[2], b[3], b[4], b[5]);
                case 7:
                    return new a(b[0], b[1], b[2], b[3], b[4], b[5], b[6]);
                case 8:
                    return new a(b[0], b[1], b[2], b[3], b[4], b[5], b[6], b[7]);
                default:
                    throw "Too many arguments";
            }
        };
        U.createEmptyInstance = function(a) {
            function b() {}
            b.prototype = a.prototype;
            return new b
        };
        U.createEnum = function(a, b, c) {
            var d = Q.field(a, b);
            if (null == d) throw "No such constructor " +
                b;
            if (Q.isFunction(d)) {
                if (null == c) throw "Constructor " + b + " need parameters";
                return d.apply(a, c)
            }
            if (null != c && 0 != c.length) throw "Constructor " + b + " does not need parameters";
            return d
        };
        U.getClassFields = function(a) {
            a = Q.fields(a);
            J.remove(a, "__name__");
            J.remove(a, "__interfaces__");
            J.remove(a, "__properties__");
            J.remove(a, "__super__");
            J.remove(a, "prototype");
            return a
        };
        U.getEnumConstructs = function(a) {
            return a.__constructs__.slice()
        };
        U["typeof"] = function(a) {
            switch (typeof a) {
                case "boolean":
                    return W.TBool;
                case "string":
                    return W.TClass(String);
                case "number":
                    return Math.ceil(a) == a % 2147483648 ? W.TInt : W.TFloat;
                case "object":
                    if (null == a) return W.TNull;
                    var b = a.__enum__;
                    if (null != b) return W.TEnum(b);
                    a = D.getClass(a);
                    return null != a ? W.TClass(a) : W.TObject;
                case "function":
                    return a.__name__ || a.__ename__ ? W.TObject : W.TFunction;
                case "undefined":
                    return W.TNull;
                default:
                    return W.TUnknown
            }
        };
        h.XmlType = {
            __ename__: ["XmlType"],
            __constructs__: []
        };
        var M = function() {};
        h.Xml = M;
        M.__name__ = ["Xml"];
        M.Element = null;
        M.PCData = null;
        M.CData = null;
        M.Comment = null;
        M.DocType = null;
        M.ProcessingInstruction = null;
        M.Document = null;
        M.parse = function(a) {
            return Zb.parse(a)
        };
        M.createElement = function(a) {
            var b = new M;
            b.nodeType = M.Element;
            b._children = [];
            b._attributes = new Da;
            b.set_nodeName(a);
            return b
        };
        M.createPCData = function(a) {
            var b = new M;
            b.nodeType = M.PCData;
            b.set_nodeValue(a);
            return b
        };
        M.createCData = function(a) {
            var b = new M;
            b.nodeType = M.CData;
            b.set_nodeValue(a);
            return b
        };
        M.createComment = function(a) {
            var b = new M;
            b.nodeType = M.Comment;
            b.set_nodeValue(a);
            return b
        };
        M.createDocType = function(a) {
            var b =
                new M;
            b.nodeType = M.DocType;
            b.set_nodeValue(a);
            return b
        };
        M.createProcessingInstruction = function(a) {
            var b = new M;
            b.nodeType = M.ProcessingInstruction;
            b.set_nodeValue(a);
            return b
        };
        M.createDocument = function() {
            var a = new M;
            a.nodeType = M.Document;
            a._children = [];
            return a
        };
        M.prototype = {
            get_nodeName: function() {
                if (this.nodeType != M.Element) throw "bad nodeType";
                return this._nodeName
            },
            set_nodeName: function(a) {
                if (this.nodeType != M.Element) throw "bad nodeType";
                return this._nodeName = a
            },
            set_nodeValue: function(a) {
                if (this.nodeType ==
                    M.Element || this.nodeType == M.Document) throw "bad nodeType";
                return this._nodeValue = a
            },
            get: function(a) {
                if (this.nodeType != M.Element) throw "bad nodeType";
                return this._attributes.get(a)
            },
            set: function(a, b) {
                if (this.nodeType != M.Element) throw "bad nodeType";
                this._attributes.set(a, b)
            },
            exists: function(a) {
                if (this.nodeType != M.Element) throw "bad nodeType";
                return this._attributes.exists(a)
            },
            elementsNamed: function(a) {
                if (null == this._children) throw "bad nodetype";
                return {
                    cur: 0,
                    x: this._children,
                    hasNext: function() {
                        for (var b =
                            this.cur, c = this.x.length; b < c;) {
                            var d = this.x[b];
                            if (d.nodeType == M.Element && d._nodeName == a) break;
                            b++
                        }
                        this.cur = b;
                        return b < c
                    },
                    next: function() {
                        for (var b = this.cur, c = this.x.length; b < c;) {
                            var d = this.x[b];
                            b++;
                            if (d.nodeType == M.Element && d._nodeName == a) return this.cur = b, d
                        }
                        return null
                    }
                }
            },
            firstElement: function() {
                if (null == this._children) throw "bad nodetype";
                for (var a = 0, b = this._children.length; a < b;) {
                    var c = this._children[a];
                    if (c.nodeType == M.Element) return c;
                    a++
                }
                return null
            },
            addChild: function(a) {
                if (null == this._children) throw "bad nodetype";
                null != a._parent && J.remove(a._parent._children, a);
                a._parent = this;
                this._children.push(a)
            },
            __class__: M,
            __properties__: {
                set_nodeValue: "set_nodeValue",
                set_nodeName: "set_nodeName",
                get_nodeName: "get_nodeName"
            }
        };
        var Ga = function(a, b) {
            null == b && (b = 0);
            null == a && (a = 0);
            this.x = a;
            this.y = b
        };
        h["openfl.geom.Point"] = Ga;
        Ga.__name__ = ["openfl", "geom", "Point"];
        Ga.prototype = {
            setTo: function(a, b) {
                this.x = a;
                this.y = b
            },
            __toLimeVector2: function() {
                return new pe(this.x, this.y)
            },
            __class__: Ga
        };
        var Ae = function(a) {
            this.__bitmap = a;
            this.__centerPoints = [];
            this.__tileRects = [];
            this.__tileUVs = [];
            this.__rectTile = new ib;
            this.__rectUV = new ib;
            this.__point = new Ga
        };
        h["openfl.display.Tilesheet"] = Ae;
        Ae.__name__ = ["openfl", "display", "Tilesheet"];
        Ae.prototype = {
            addTileRect: function(a, b) {
                this.__tileRects.push(a);
                null == b && (b = Ae.__defaultPoint);
                this.__centerPoints.push(b);
                this.__tileUVs.push(new ib(a.get_left() / this.__bitmap.width, a.get_top() / this.__bitmap.height, a.get_right() / this.__bitmap.width, a.get_bottom() / this.__bitmap.height));
                return this.__tileRects.length -
                    1
            },
            drawTiles: function(a, b, c, d, e) {
                null == e && (e = -1);
                null == d && (d = 0);
                null == c && (c = !1);
                a.drawTiles(this, b, c, d, e)
            },
            __class__: Ae
        };
        var Qe = function(a, b) {
            null == b && (b = 1);
            Ae.call(this, a);
            this.scale = 1 / b;
            this.defs = [];
            this.anims = new Da;
            this.sizes = []
        };
        h["aze.display.TilesheetEx"] = Qe;
        Qe.__name__ = ["aze", "display", "TilesheetEx"];
        Qe.__super__ = Ae;
        Qe.prototype = v(Ae.prototype, {
            addDefinition: function(a, b, c, d) {
                this.defs.push(a);
                this.sizes.push(b);
                this.addTileRect(c, d)
            },
            getAnim: function(a) {
                if (this.anims.exists(a)) return this.anims.get(a);
                for (var b = [], c = 0, d = this.defs.length; c < d;) {
                    var e = c++;
                    va.startsWith(this.defs[e], a) && b.push(e)
                }
                this.anims.set(a, b);
                return b
            },
            getSize: function(a) {
                return a < this.sizes.length ? this.sizes[a] : new ib
            },
            __class__: Qe
        });
        var mg = function(a, b, c) {
            null == c && (c = 1);
            Qe.call(this, a, c);
            new Ga(0, 0);
            for (a = (new lg(M.parse(b).firstElement())).nodes.resolve("SubTexture").iterator(); a.hasNext();) {
                var d = a.next();
                b = d.att.resolve("name");
                c = new ib(G.parseFloat(d.att.resolve("x")), G.parseFloat(d.att.resolve("y")), G.parseFloat(d.att.resolve("width")),
                    G.parseFloat(d.att.resolve("height")));
                var d = d.has.resolve("frameX") ? new ib(G.parseInt(d.att.resolve("frameX")), G.parseInt(d.att.resolve("frameY")), G.parseInt(d.att.resolve("frameWidth")), G.parseInt(d.att.resolve("frameHeight"))) : new ib(0, 0, c.width, c.height),
                    e = new Ga(d.x + d.width / 2, d.y + d.height / 2);
                this.addDefinition(b, d, c, e)
            }
        };
        h["aze.display.SparrowTilesheet"] = mg;
        mg.__name__ = ["aze", "display", "SparrowTilesheet"];
        mg.__super__ = Qe;
        mg.prototype = v(Qe.prototype, {
            __class__: mg
        });
        var $b = function(a) {
            this.layer =
                a;
            this.x = this.y = 0;
            this.visible = !0
        };
        h["aze.display.TileBase"] = $b;
        $b.__name__ = ["aze", "display", "TileBase"];
        $b.prototype = {
            init: function(a) {
                this.layer = a
            },
            step: function(a) {},
            __class__: $b
        };
        var oe = function(a, b) {
            $b.call(this, a);
            this._rotation = 0;
            this.alpha = this._scaleX = this._scaleY = 1;
            this._mirror = 0;
            this._indice = -1;
            this._transform = [];
            this.dirty = !0;
            this.set_tile(b)
        };
        h["aze.display.TileSprite"] = oe;
        oe.__name__ = ["aze", "display", "TileSprite"];
        oe.__super__ = $b;
        oe.prototype = v($b.prototype, {
            init: function(a) {
                this.layer =
                    a;
                var b = a.tilesheet.getAnim(this._tile);
                this.set_indice(b[0]);
                this.size = a.tilesheet.getSize(this._indice)
            },
            set_tile: function(a) {
                this._tile != a && (this._tile = a, null != this.layer && this.init(this.layer));
                return a
            },
            set_indice: function(a) {
                this._indice != a && (this._indice = a);
                return a
            },
            set_rotation: function(a) {
                this._rotation != a && (this._rotation = a, this.dirty = !0);
                return a
            },
            set_scaleX: function(a) {
                this._scaleX != a && (this._scaleX = a, this.dirty = !0);
                return a
            },
            set_scaleY: function(a) {
                this._scaleY != a && (this._scaleY = a, this.dirty = !0);
                return a
            },
            get_transform: function() {
                if (1 == this.dirty) {
                    this.dirty = !1;
                    var a;
                    a = 1 == this._mirror ? -1 : 1;
                    var b;
                    b = 2 == this._mirror ? -1 : 1;
                    var c = this._scaleX * this.layer.tilesheet.scale,
                        d = this._scaleY * this.layer.tilesheet.scale;
                    if (0 != this._rotation) {
                        var e = Math.cos(this._rotation),
                            f = Math.sin(this._rotation);
                        this._transform[0] = a * e * c;
                        this._transform[1] = a * f * c;
                        this._transform[2] = -b * f * d;
                        this._transform[3] = b * e * d
                    } else this._transform[0] = a * c, this._transform[1] = 0, this._transform[2] = 0, this._transform[3] = b * d
                }
                return this._transform
            },
            get_width: function() {
                return this.size.width * this._scaleX
            },
            set_offset: function(a) {
                return this._offset = null == a ? null : new Ga(a.x / this.layer.tilesheet.scale, a.y / this.layer.tilesheet.scale)
            },
            __class__: oe,
            __properties__: {
                set_offset: "set_offset",
                get_width: "get_width",
                get_transform: "get_transform",
                set_scaleY: "set_scaleY",
                set_scaleX: "set_scaleX",
                set_rotation: "set_rotation",
                set_indice: "set_indice",
                set_tile: "set_tile"
            }
        });
        var qe = function(a) {
            $b.call(this, a);
            this.children = []
        };
        h["aze.display.TileGroup"] = qe;
        qe.__name__ = ["aze", "display", "TileGroup"];
        qe.__super__ = $b;
        qe.prototype = v($b.prototype, {
            init: function(a) {
                this.layer = a;
                null != this.children && this.initChildren()
            },
            initChildren: function() {
                for (var a = 0, b = this.children; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.parent = this;
                    null != this.layer && c.init(this.layer)
                }
            },
            addChild: function(a) {
                this.removeChild(a);
                a.parent = this;
                null != this.layer && a.init(this.layer);
                return this.children.push(a)
            },
            removeChild: function(a) {
                if (null == a.parent) return a;
                if (a.parent != this) return console.log("Invalid parent"),
                    a;
                var b = be.indexOf(this.children, a);
                0 <= b && (this.children.splice(b, 1), a.parent = null);
                return a
            },
            getChildIndex: function(a) {
                return be.indexOf(this.children, a)
            },
            __class__: qe
        });
        var ng = function(a, b, c) {
            null == c && (c = !1);
            null == b && (b = !0);
            qe.call(this, this);
            this.view = new A;
            this.view.mouseEnabled = !1;
            this.view.mouseChildren = !1;
            this.tilesheet = a;
            this.useSmoothing = b;
            this.useAdditive = c;
            this.useTransforms = this.useAlpha = !0;
            this.drawList = new Ih
        };
        h["aze.display.TileLayer"] = ng;
        ng.__name__ = ["aze", "display", "TileLayer"];
        ng.__super__ =
            qe;
        ng.prototype = v(qe.prototype, {
            render: function(a) {
                this.drawList.begin(null == a ? 0 : a, this.useTransforms, this.useAlpha, this.useTint, this.useAdditive);
                this.renderGroup(this, 0, 0, 0);
                this.drawList.end();
                this.view.get_graphics().clear();
                this.tilesheet.drawTiles(this.view.get_graphics(), this.drawList.list, this.useSmoothing, this.drawList.flags);
                return this.drawList.elapsed
            },
            renderGroup: function(a, b, c, d) {
                var e = this.drawList.list,
                    f = this.drawList.fields,
                    k = this.drawList.offsetTransform,
                    q = this.drawList.offsetRGB,
                    n = this.drawList.offsetAlpha,
                    g = this.drawList.elapsed;
                c += a.x;
                d += a.y;
                var h;
                h = null != a.children ? a.children.length : 0;
                for (var B = 0; B < h;) {
                    var R = B++,
                        R = a.children[R];
                    R.animated && R.step(g);
                    if (R.visible) {
                        var l;
                        l = D.__instanceof(R, qe) ? R : null;
                        if (null != l) b = this.renderGroup(l, b, c, d);
                        else if (!(0 >= R.alpha)) {
                            e[b + 2] = R._indice;
                            if (null != R._offset)
                                if (l = R._offset, 0 < k) {
                                    var r = R.get_transform();
                                    e[b] = R.x - l.x * r[0] - l.y * r[2] + c;
                                    e[b + 1] = R.y - l.x * r[1] - l.y * r[3] + d;
                                    e[b + k] = r[0];
                                    e[b + k + 1] = r[1];
                                    e[b + k + 2] = r[2];
                                    e[b + k + 3] = r[3]
                                } else e[b] = R.x - l.x +
                                    c, e[b + 1] = R.y - l.y + d;
                            else e[b] = R.x + c, e[b + 1] = R.y + d, 0 < k && (l = R.get_transform(), e[b + k] = l[0], e[b + k + 1] = l[1], e[b + k + 2] = l[2], e[b + k + 3] = l[3]);
                            0 < q && (e[b + q] = R.r, e[b + q + 1] = R.g, e[b + q + 2] = R.b);
                            0 < n && (e[b + n] = R.alpha);
                            b += f
                        }
                    }
                }
                return this.drawList.index = b
            },
            __class__: ng
        });
        var Ih = function() {
            this.list = [];
            this.runs = this.elapsed = 0
        };
        h["aze.display.DrawList"] = Ih;
        Ih.__name__ = ["aze", "display", "DrawList"];
        Ih.prototype = {
            begin: function(a, b, c, d, e) {
                this.flags = 0;
                this.fields = 3;
                b ? (this.offsetTransform = this.fields, this.fields += 4, this.flags |=
                    16) : this.offsetTransform = 0;
                d ? (this.offsetRGB = this.fields, this.fields += 3, this.flags |= 4) : this.offsetRGB = 0;
                c ? (this.offsetAlpha = this.fields, this.fields++, this.flags |= 8) : this.offsetAlpha = 0;
                e && (this.flags |= 65536);
                0 < a ? this.elapsed = a : (this.index = 0, 0 < this.time ? (a = Z.getTimer(), this.elapsed = Math.min(67, a - this.time), this.time = a) : this.time = Z.getTimer())
            },
            end: function() {
                if (this.list.length > this.index)
                    if (60 < ++this.runs) this.list.splice(this.index, this.list.length - this.index), this.runs = 0;
                    else
                        for (; this.index < this.list.length;) this.list[this.index +
                            2] = -2, this.index += this.fields
            },
            __class__: Ih
        };
        var ij = function() {};
        h["com.alagatar.interfaces.IFree"] = ij;
        ij.__name__ = ["com", "alagatar", "interfaces", "IFree"];
        var Uj = function() {};
        h["com.alagatar.interfaces.IInit"] = Uj;
        Uj.__name__ = ["com", "alagatar", "interfaces", "IInit"];
        var Jh = function() {};
        h["com.alagatar.interfaces.IObject"] = Jh;
        Jh.__name__ = ["com", "alagatar", "interfaces", "IObject"];
        Jh.__interfaces__ = [ij, Oe, Uj];
        var ga = function(a) {
            this.needUpdate = this.needUpdateGraph = !0;
            A.call(this);
            this.params = a;
            this.set_x(this.params.x);
            this.set_y(this.params.y);
            this.lastOptions = {
                x: null,
                y: null,
                r: null
            };
            E.get_instance().signToNotify("clearAll", this);
            this.init()
        };
        h["blocks.BaseBlock"] = ga;
        ga.__name__ = ["blocks", "BaseBlock"];
        ga.__interfaces__ = [ye, Jh];
        ga.__super__ = A;
        ga.prototype = v(A.prototype, {
            checkChangeTransform: function() {
                if (this.lastOptions.x == this.body.get_position().get_x() && this.lastOptions.y == this.body.get_position().get_y() && this.lastOptions.r == this.body.zpp_inner.rot) return !1;
                this.lastOptions.x = this.body.get_position().get_x();
                this.lastOptions.y = this.body.get_position().get_y();
                this.lastOptions.r = this.body.zpp_inner.rot;
                return !0
            },
            receiveNotify: function(a, b, c) {
                "clearAll" == a && this.free()
            },
            init: function() {
                this.initPhys();
                this.initGraph();
                1 == this.needUpdate && Ib.get_instance().add(this)
            },
            initPhys: function() {},
            initGraph: function() {},
            update: function() {
                1 == this.needUpdateGraph && this.updateGraph()
            },
            updateGraph: function() {
                this.set_x(this.body.get_position().get_x());
                this.set_y(this.body.get_position().get_y());
                this.set_rotation(H.toDeg(this.body.zpp_inner.rot))
            },
            free: function() {
                this.params = this.graph = this.body = null
            },
            __class__: ga
        });
        var sf = function(a) {
            ga.call(this, a)
        };
        h["blocks.Border"] = sf;
        sf.__name__ = ["blocks", "Border"];
        sf.__super__ = ga;
        sf.prototype = v(ga.prototype, {
            initPhys: function() {
                this.disconected = !1;
                this.phys_w = 10;
                this.phys_h = 60;
                this.body = T.createBox("dynamic", this.phys_w, this.phys_h, this.get_x(), this.get_y());
                this.body.get_userData().data = this;
                this.body.set_space(ha.get_instance().space);
                var a = new K(this.get_x(), this.get_y() - 20);
                this.joint1 = T.createPivotJoint(ha.get_instance().space,
                    this.body, ha.get_instance().space.zpp_inner.__static, a, a);
                a.set_y(this.get_y() + 20);
                this.joint2 = T.createPivotJoint(ha.get_instance().space, this.body, ha.get_instance().space.zpp_inner.__static, a, a)
            },
            invertGraph: function() {
                this.tileGraph.set_scaleX(-1);
                this.tileGraph.set_x(this.get_x() + 28)
            },
            initGraph: function() {
                this.tileGraph = new yb("tilelayer1", "zabor_r");
                this.tileGraph.set_x(this.get_x() - 28);
                this.tileGraph.set_y(this.get_y() + 7);
                this.tileGraph.set_rotation(this.get_rotation())
            },
            disconect: function() {
                this.disconected = !0;
                T.setSensor(this.body);
                this.joint1.set_space(null);
                this.joint1 = null;
                this.joint2.set_space(null);
                this.joint2 = null
            },
            updateGraph: function() {
                0 != this.checkChangeTransform() && 0 != this.disconected && (ga.prototype.updateGraph.call(this), this.tileGraph.set_x(this.get_x()), this.tileGraph.set_y(this.get_y()), this.tileGraph.set_rotation(this.get_rotation()))
            },
            free: function() {
                null != this.joint1 && (this.joint1.set_space(null), this.joint1 = null);
                null != this.joint2 && (this.joint2.set_space(null), this.joint2 = null);
                null !=
                    this.tileGraph && (this.tileGraph.free(), this.tileGraph = null);
                ga.prototype.free.call(this)
            },
            __class__: sf
        });
        var og = function(a) {
            this.opened = !1;
            ga.call(this, a)
        };
        h["blocks.Finish"] = og;
        og.__name__ = ["blocks", "Finish"];
        og.__super__ = ga;
        og.prototype = v(ga.prototype, {
            receiveNotify: function(a, b, c) {
                ga.prototype.receiveNotify.call(this, a, b, c);
                "finish" != a && "finishLose" != a || 0 != this.opened || this.open()
            },
            init: function() {
                this.needUpdate = !1;
                ga.prototype.init.call(this);
                E.get_instance().signToNotify("finish", this);
                E.get_instance().signToNotify("finishLose",
                    this);
                this.addSensor();
                this.addGirl();
                this.addBorders()
            },
            addSensor: function() {
                var a = this.get_x(),
                    b = this.get_y() + 45,
                    a = T.createBox("static", 140, 10, a, b);
                null == a.zpp_inner_i.userData && (a.zpp_inner_i.userData = {});
                a.zpp_inner_i.userData.data = "finish";
                T.setSensor(a, !0);
                a.set_space(ha.get_instance().space)
            },
            addBorders: function() {
                this.leftBorder = new sf({
                    x: this.get_x() - 90,
                    y: this.get_y() + 24
                });
                this.leftBorder.invertGraph();
                ta.instance.layersManager.getLayer("objects2").addChild(this.leftBorder);
                this.rightBorder =
                    new sf({
                        x: this.get_x() + 90,
                        y: this.get_y() + 24
                    });
                ta.instance.layersManager.getLayer("objects2").addChild(this.rightBorder)
            },
            addGirl: function() {
                var a = new pg({
                    x: this.params.x,
                    y: this.params.y + 12,
                    r: this.params.r
                });
                ta.instance.layersManager.getLayer("units").addChild(a);
                ta.instance.levelManager.girl = a
            },
            open: function() {
                this.unSingToNotifies();
                this.opened = !0;
                this.leftBorder.disconect();
                this.rightBorder.disconect();
                var a = K.get(-2, -1, !0);
                a.normalise();
                a.set_length(100);
                this.leftBorder.body.applyImpulse(a);
                this.leftBorder.body.applyAngularImpulse(-150);
                a = K.get(2, -1, !0);
                a.normalise();
                a.set_length(100);
                this.rightBorder.body.applyImpulse(a);
                this.rightBorder.body.applyAngularImpulse(150);
                P.get_instance().playSound("wood_crash")
            },
            unSingToNotifies: function() {
                E.get_instance().unSignToNotify("finish", this);
                E.get_instance().unSignToNotify("finishLose", this)
            },
            free: function() {
                null != this.leftBorder && (this.leftBorder.free(), this.leftBorder = null);
                null != this.rightBorder && (this.rightBorder.free(), this.rightBorder = null);
                ga.prototype.free.call(this)
            },
            __class__: og
        });
        var sb = function(a) {
            ga.call(this, a)
        };
        h["blocks.heroes.BaseHero"] = sb;
        sb.__name__ = ["blocks", "heroes", "BaseHero"];
        sb.__super__ = ga;
        sb.prototype = v(ga.prototype, {
            init: function() {
                this.showed = this.active = !0;
                this.jumping = this.stoped = !1;
                this.jumpCounter = 20;
                this.jumpTimeout = 40;
                this.animPlay = !1;
                this.idleCount = 0;
                this.sleepNow = !1;
                this.lastAngle = null;
                this.parLPoint = {
                    x: -35,
                    y: 23
                };
                this.parRPoint = {
                    x: 35,
                    y: 23
                };
                this.centerPoint = {
                    x: 0,
                    y: 0
                };
                this.parAnimInited = !1;
                E.get_instance().signToNotify("clearAll", this);
                this.genAnimationTimers();
                ga.prototype.init.call(this)
            },
            receiveNotify: function(a, b, c) {
                ga.prototype.receiveNotify.call(this, a, b, c);
                "clearAll" == a && this.free()
            },
            stop: function() {
                this.stoped = !0;
                this.body.set_angularVel(0);
                this.body.set_velocity(K.get(0, 0, !0));
                this.body.set_rotation(0);
                this.body.set_allowRotation(!1)
            },
            startJumping: function() {
                this.jumping = !0
            },
            update: function() {
                ga.prototype.update.call(this);
                1 == this.jumping && this.processJumping();
                this.checkAnimation()
            },
            processJumping: function() {
                this.jumpCounter++;
                this.jumpCounter >=
                    this.jumpTimeout && (this.jumpCounter = 0, this.jump())
            },
            jump: function() {
                var a = K.get(0, -1, !0);
                a.normalise();
                a.set_length(850);
                this.body.applyImpulse(a)
            },
            updateGraph: function() {
                1 == this.showed && ga.prototype.updateGraph.call(this);
                null != this.anim && (this.anim.set_x(this.get_x()), this.anim.set_y(this.get_y()), this.anim.set_rotation(this.get_rotation()));
                this.updateParAnim()
            },
            updateParAnim: function() {
                if (0 != this.parAnimInited) {
                    var a = H.rotatePointByAngle(this.parLPoint, this.centerPoint, H.toRad(this.get_rotation()));
                    null != this.parAnimL && (this.parAnimL.set_x(this.get_x() + a.x), this.parAnimL.set_y(this.get_y() + a.y), this.parAnimL.set_rotation(this.get_rotation()));
                    a = H.rotatePointByAngle(this.parRPoint, this.centerPoint, H.toRad(this.get_rotation()));
                    null != this.parAnimR && (this.parAnimR.set_x(this.get_x() + a.x), this.parAnimR.set_y(this.get_y() + a.y), this.parAnimR.set_rotation(this.get_rotation()))
                }
            },
            checkAnimation: function() {
                1 == this.body.zpp_inner.component.sleeping ? (0 == this.sleepNow && (this.sleepNow = !0, this.sleep()), this.updateIdle()) :
                    (this.sleepNow = !1, this.stopIdle())
            },
            sleep: function() {},
            updateIdle: function() {
                0 == this.showed || -10 > H.toDeg(this.body.zpp_inner.rot) || 10 < H.toDeg(this.body.zpp_inner.rot) || (this.idleCount++, 0 == this.animPlay ? this.idleCount >= this.waitBeforeAnim && (this.startAnim(), this.idleCount = 0, this.animPlay = !0) : this.idleCount >= this.animTime && (this.animPlay = !1, this.idleCount = 0))
            },
            startAnim: function() {
                1 == this.parAnimInited ? 5 <= H.randTo(0, 10) ? null != this.anim && this.anim.play() : (this.parAnimL.play(), this.parAnimR.play()) :
                    null != this.anim && this.anim.play();
                this.genAnimationTimers()
            },
            genAnimationTimers: function() {
                this.waitBeforeAnim = Math.floor(H.randTo(20, 60));
                this.animTime = Math.floor(H.randTo(80, 200))
            },
            stopIdle: function() {
                this.idleCount = 0;
                this.animPlay = !1;
                1 == this.anim.isPlaying && this.anim.stop()
            },
            initParAnim: function() {
                this.parAnimInited = !0;
                var a = O.instance.getAnimationConfig("par_anim");
                this.parAnimL = new nd("tilelayer1", a);
                this.parAnimL.set_scaleX(1);
                this.parAnimL.setFps(40);
                this.addChild(this.parAnimL);
                a = O.instance.getAnimationConfig("par_anim");
                this.parAnimR = new nd("tilelayer1", a);
                this.parAnimR.set_scaleX(-1);
                this.parAnimR.setFps(40);
                this.addChild(this.parAnimR)
            },
            free: function() {
                ga.prototype.free.call(this);
                null != this.anim && (this.anim.free(), this.anim = null);
                null != this.parAnimL && (this.parAnimL.free(), this.parAnimL = null);
                null != this.parAnimR && (this.parAnimR.free(), this.parAnimR = null)
            },
            __class__: sb
        });
        var Xc = function(a) {
            ga.call(this, a)
        };
        h["blocks.heroes.EvilBull"] = Xc;
        Xc.__name__ = ["blocks", "heroes", "EvilBull"];
        Xc.__super__ = sb;
        Xc.prototype = v(sb.prototype, {
            init: function() {
                E.get_instance().signToNotify("startLoseAnimate", this);
                sb.prototype.init.call(this)
            },
            receiveNotify: function(a, b, c) {
                sb.prototype.receiveNotify.call(this, a, b, c);
                "startLoseAnimate" == a && this.startJumping()
            },
            initPhys: function() {
                this.phys_h = this.phys_w = 100;
                var a = Tb;
                null == g.BodyType_DYNAMIC && (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1);
                this.body = new a(g.BodyType_DYNAMIC);
                this.body.zpp_inner.wrap_shapes.add(new bb(bb.regular(45, 45, 8, H.toRad(20))));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15,
                    28, 28));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15, -28, 28));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15, 28, -28));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15, -28, -28));
                this.body.get_position().setxy(this.get_x(), this.get_y());
                this.body.get_userData().data = this;
                T.setMaterial(this.body, .5, 1, .6, 1);
                this.body.set_mass(3.3);
                a = new Re;
                a.set_collisionGroup(ya.get(["evil"]));
                this.body.setShapeFilters(a);
                this.body.set_rotation(H.toRad(this.params.r));
                this.set_rotation(this.params.r);
                this.body.set_space(ha.get_instance().space)
            },
            initGraph: function() {
                var a = O.instance.getAnimationConfig("hero3f");
                this.anim = new nd("tilelayer1", a);
                this.anim.setFps(37);
                this.anim.set_x(this.get_x());
                this.anim.set_y(this.get_y());
                this.anim.set_rotation(this.get_rotation());
                this.addChild(this.anim);
                this.initParAnim()
            },
            attack: function(a) {
                var b = 1;
                a.get_x() < this.get_x() && (b = -1);
                a.get_x() == this.get_x() && 5 < H.randTo(0, 10) && (b = -1);
                a.damage();
                b = K.get(b, -2, !0);
                b.normalise();
                b.set_length(1150);
                a.body.set_velocity(K.get(0,
                    0, !0));
                a.body.set_angularVel(0);
                a.body.set_rotation(0);
                var c = .8;
                5 <= H.randTo(0, 10) && (c *= -1);
                a.body.set_angularVel(c);
                a.body.applyImpulse(b);
                E.get_instance().postNotify("hitHero");
                P.get_instance().playSound("hit")
            },
            startJumping: function() {
                sb.prototype.startJumping.call(this);
                this.soundEffect();
                this.stop()
            },
            soundEffect: function() {
                P.get_instance().playSound("moo_boy")
            },
            sleep: function() {
                if (this.lastAngle != this.body.zpp_inner.rot && !(null != this.lastAngle && this.body.zpp_inner.rot >= this.lastAngle - 15 && this.body.zpp_inner.rot <=
                    this.lastAngle + 15)) {
                    this.lastAngle = this.body.zpp_inner.rot;
                    var a = this.body;
                    a.set_rotation(a.zpp_inner.rot + -1 * this.lastAngle)
                }
            },
            updateGraph: function() {
                0 != this.checkChangeTransform() && sb.prototype.updateGraph.call(this)
            },
            __class__: Xc
        });
        var pg = function(a) {
            ga.call(this, a)
        };
        h["blocks.heroes.Girl"] = pg;
        pg.__name__ = ["blocks", "heroes", "Girl"];
        pg.__super__ = sb;
        pg.prototype = v(sb.prototype, {
            init: function() {
                E.get_instance().signToNotify("startWinAnimate", this);
                sb.prototype.init.call(this);
                this.jumpCounter = 0;
                this.jumpTimeout =
                    40
            },
            receiveNotify: function(a, b, c) {
                sb.prototype.receiveNotify.call(this, a, b, c);
                "startWinAnimate" == a && this.startJumping()
            },
            initPhys: function() {
                this.phys_h = this.phys_w = 100;
                var a = Tb;
                null == g.BodyType_DYNAMIC && (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1);
                this.body = new a(g.BodyType_DYNAMIC);
                this.body.zpp_inner.wrap_shapes.add(new bb(bb.regular(45, 45, 8, H.toRad(20))));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15, 28, 28));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15, -28, 28));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15, 28, -28));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15, -28, -28));
                this.body.get_position().setxy(this.get_x(), this.get_y());
                this.body.set_allowRotation(!1);
                this.body.get_userData().data = this;
                T.setMaterial(this.body, .1, 1, .6, 0);
                this.body.set_mass(3.3);
                a = new Re;
                a.set_collisionGroup(ya.get(["girl"]));
                a.set_collisionMask(ya.getAllExcept(["hero", "evil"]));
                this.body.setShapeFilters(a);
                this.body.set_space(ha.get_instance().space)
            },
            initGraph: function() {
                var a = O.instance.getAnimationConfig("hero2f");
                this.anim = new nd("tilelayer1", a);
                this.anim.setFps(40);
                this.anim.set_x(this.get_x());
                this.anim.set_y(this.get_y());
                this.anim.set_rotation(this.get_rotation());
                this.addChild(this.anim)
            },
            startJumping: function() {
                sb.prototype.startJumping.call(this);
                ob.delay(l(this, this.soundEffect), 500)
            },
            soundEffect: function() {
                P.get_instance().playSound("moo_girl")
            },
            updateGraph: function() {
                0 != this.checkChangeTransform() && sb.prototype.updateGraph.call(this)
            },
            __class__: pg
        });
        var Mb = function(a) {
            ga.call(this, a)
        };
        h["blocks.heroes.Hero"] = Mb;
        Mb.__name__ = ["blocks", "heroes", "Hero"];
        Mb.__super__ = sb;
        Mb.prototype = v(sb.prototype, {
            init: function() {
                E.get_instance().signToNotify("finish", this);
                E.get_instance().signToNotify("startWinAnimate", this);
                E.get_instance().signToNotify("startLevel", this);
                this.startPoint = {
                    x: this.get_x(),
                    y: this.get_y()
                };
                sb.prototype.init.call(this);
                this.showed = !1;
                this.set_y(-100);
                this.updateGraph();
                1 == O.currentLevel && E.get_instance().postNotify("addHelper");
                this.eagle = new Kh
            },
            receiveNotify: function(a, b, c) {
                sb.prototype.receiveNotify.call(this, a, b, c);
                switch (a) {
                    case "finish":
                        0 == this.stoped && this.stop();
                        break;
                    case "startWinAnimate":
                        this.startJumping();
                        break;
                    case "startLevel":
                        this.show()
                }
            },
            initPhys: function() {
                this.phys_h = this.phys_w = 100;
                var a = Tb;
                null == g.BodyType_DYNAMIC && (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1);
                this.body = new a(g.BodyType_DYNAMIC);
                this.body.zpp_inner.wrap_shapes.add(new bb(bb.regular(40, 40, 8, H.toRad(22))));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15,
                    28, 28));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15, -28, 28));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15, 28, -28));
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(15, -28, -28));
                this.body.get_position().setxy(this.get_x(), this.get_y());
                this.body.get_userData().data = this;
                T.setMaterial(this.body, .5, 1, .6, 1);
                this.body.set_mass(3.3);
                a = new Re;
                a.set_collisionGroup(ya.get(["hero"]));
                this.body.setShapeFilters(a);
                this.body.set_rotation(H.toRad(this.params.r));
                this.set_rotation(this.params.r);
                this.body.set_space(ha.get_instance().space)
            },
            initGraph: function() {
                var a = O.instance.getAnimationConfig("hero1F");
                this.anim = new nd("tilelayer1", a);
                this.anim.setFps(39);
                this.anim.set_x(this.get_x());
                this.anim.set_y(this.get_y());
                this.anim.set_rotation(this.get_rotation());
                this.addChild(this.anim);
                this.initParAnim()
            },
            show: function() {
                this.eagle.moveHeroTo(this, this.startPoint.x, this.startPoint.y)
            },
            sleep: function() {
                if (this.lastAngle != this.body.zpp_inner.rot && !(null != this.lastAngle && this.body.zpp_inner.rot >=
                    this.lastAngle - 15 && this.body.zpp_inner.rot <= this.lastAngle + 15)) {
                    this.lastAngle = this.body.zpp_inner.rot;
                    var a = this.body;
                    a.set_rotation(a.zpp_inner.rot + -1 * this.lastAngle)
                }
            },
            completeShow: function() {
                this.showed = !0;
                E.get_instance().postNotify("heroReady")
            },
            startJumping: function() {
                sb.prototype.startJumping.call(this);
                this.soundEffect()
            },
            soundEffect: function() {
                P.get_instance().playSound("moo_boy")
            },
            damage: function() {
                0 != this.active && (this.active = !1, T.setSensor(this.body), this.hittedGraph = new yb("tilelayer1",
                    "hero1_dead"), this.hittedGraph.set_x(this.get_x()), this.hittedGraph.set_y(this.get_y()), this.hittedGraph.set_rotation(this.get_rotation()), this.anim.set_visible(!1))
            },
            updateGraph: function() {
                if (1 != this.showed || 0 != this.checkChangeTransform()) sb.prototype.updateGraph.call(this), null != this.hittedGraph && (this.hittedGraph.set_x(this.get_x()), this.hittedGraph.set_y(this.get_y()), this.hittedGraph.set_rotation(this.get_rotation()))
            },
            free: function() {
                sb.prototype.free.call(this);
                null != this.hittedGraph && (this.hittedGraph.free(),
                    this.hittedGraph = null);
                null != this.eagle && (this.eagle.free(), this.eagle = null)
            },
            __class__: Mb
        });
        var zb = function(a) {
            ga.call(this, a)
        };
        h["blocks.interactive.InteractiveBlock"] = zb;
        zb.__name__ = ["blocks", "interactive", "InteractiveBlock"];
        zb.__super__ = ga;
        zb.prototype = v(ga.prototype, {
            receiveNotify: function(a, b, c) {
                ga.prototype.receiveNotify.call(this, a, b, c);
                "startLevel" == a && this.freeTemp()
            },
            freeTemp: function() {
                this.removeChild(this.temp);
                this.temp = null
            },
            init: function() {
                ga.prototype.init.call(this);
                this.mechanismList = [];
                E.get_instance().signToNotify("startLevel", this)
            },
            initGraph: function() {
                this.graph = new A;
                this.addChild(this.graph);
                this.botLayer = new A;
                this.graph.addChild(this.botLayer);
                this.midLayer = new A;
                this.graph.addChild(this.midLayer);
                this.topLayer = new A;
                this.graph.addChild(this.topLayer);
                this.addTempGraph()
            },
            addTempGraph: function() {
                this.temp = new A;
                this.temp.set_alpha(.6);
                this.temp.mouseEnabled = !1;
                this.temp.get_graphics().lineStyle(2, 0);
                this.temp.get_graphics().beginFill(12686700);
                this.temp.get_graphics().drawRect(-this.phys_w /
                    2, -this.phys_h / 2, this.phys_w, this.phys_h);
                this.temp.get_graphics().endFill();
                this.addChild(this.temp)
            },
            addMechanism: function(a) {
                this.mechanismList.push(a)
            },
            update: function() {
                ga.prototype.update.call(this);
                this.updateMechanisms()
            },
            updateMechanisms: function() {
                if (0 != this.mechanismList.length)
                    for (var a = 0, b = this.mechanismList; a < b.length;) {
                        var c = b[a];
                        ++a;
                        c.update()
                    }
            },
            free: function() {
                this.botLayer = this.midLayer = this.topLayer = null;
                this.mechanismList = [];
                this.temp = this.mechanismList = null;
                ga.prototype.free.call(this)
            },
            __class__: zb
        });
        var qg = function(a) {
            ga.call(this, a)
        };
        h["blocks.interactive.DynamicBlock1"] = qg;
        qg.__name__ = ["blocks", "interactive", "DynamicBlock1"];
        qg.__super__ = zb;
        qg.prototype = v(zb.prototype, {
            initPhys: function() {
                this.phys_w = 234 * this.params.scaleX;
                this.phys_h = 73 * this.params.scaleY;
                this.body = T.createBox("dynamic", this.phys_w, this.phys_h, this.get_x(), this.get_y(), H.toRad(this.params.r));
                T.setMaterial(this.body, .05, 4, .7);
                this.body.get_userData().data = this;
                this.body.set_mass(5);
                this.body.set_gravMass(10);
                this.body.set_space(ha.get_instance().space);
                this.set_rotation(this.params.r)
            },
            initGraph: function() {
                var a = "woodfix";
                100 >= this.phys_w && (a = "woodfix_medium", this.params.scaleX = 1 - (.42735042735042733 - this.params.scaleX));
                this.tileGraph = new yb("tilelayer1", a);
                this.tileGraph.set_scaleX(this.params.scaleX);
                this.tileGraph.set_scaleY(this.params.scaleY);
                this.tileGraph.set_x(this.get_x());
                this.tileGraph.set_y(this.get_y());
                this.tileGraph.set_rotation(this.get_rotation());
                zb.prototype.initGraph.call(this)
            },
            updateGraph: function() {
                0 !=
                    this.checkChangeTransform() && (zb.prototype.updateGraph.call(this), this.tileGraph.set_x(this.get_x()), this.tileGraph.set_y(this.get_y()), this.tileGraph.set_rotation(this.get_rotation()))
            },
            free: function() {
                this.tileGraph.free();
                this.tileGraph = null;
                zb.prototype.free.call(this)
            },
            __class__: qg
        });
        var ac = h["blocks.interactive.PlatformState"] = {
            __ename__: ["blocks", "interactive", "PlatformState"],
            __constructs__: ["Stop", "Move", "Timeout"]
        };
        ac.Stop = ["Stop", 0];
        ac.Stop.toString = w;
        ac.Stop.__enum__ = ac;
        ac.Move = ["Move",
            1
        ];
        ac.Move.toString = w;
        ac.Move.__enum__ = ac;
        ac.Timeout = ["Timeout", 2];
        ac.Timeout.toString = w;
        ac.Timeout.__enum__ = ac;
        var tf = function(a) {
            ga.call(this, a)
        };
        h["blocks.interactive.MovingPlatform"] = tf;
        tf.__name__ = ["blocks", "interactive", "MovingPlatform"];
        tf.__super__ = zb;
        tf.prototype = v(zb.prototype, {
            receiveNotify: function(a, b, c) {
                zb.prototype.receiveNotify.call(this, a, b, c);
                "heroReady" == a && (this.body.set_velocity(this.speed), this.state = ac.Move)
            },
            initPath: function(a) {
                this.dir = 1;
                this.counter = 0;
                this.timeoutFrames =
                    60;
                var b = 10,
                    c = G.parseFloat(a.s);
                0 != c && (b = .7 * c);
                this.startPoint = {
                    x: this.get_x(),
                    y: this.get_y()
                };
                this.endPoint = {
                    x: G.parseFloat(a.tP.x),
                    y: G.parseFloat(a.tP.y)
                };
                this.speed = new K;
                this.speed.set_x(G.parseFloat(a.tP.x) - this.get_x());
                this.speed.set_y(G.parseFloat(a.tP.y) - this.get_y());
                this.speed.normalise();
                this.speed.set_length(b);
                this.initTargetPoint()
            },
            initTargetPoint: function() {
                this.targetPoint = 1 == this.dir ? this.endPoint : this.startPoint
            },
            initPhys: function() {
                this.phys_w = 80 * this.params.scaleX;
                this.phys_h =
                    80 * this.params.scaleY;
                this.body = T.createBox("kinematic", this.phys_w, this.phys_h, this.get_x(), this.get_y(), H.toRad(this.params.r));
                T.setMaterial(this.body, .05, 4, .7);
                this.body.get_userData().data = this;
                this.body.set_space(ha.get_instance().space);
                this.set_rotation(this.params.r);
                E.get_instance().signToNotify("heroReady", this);
                this.state = ac.Stop
            },
            initGraph: function() {
                this.tileGraph = new yb("tilelayer1", "movingPlatform");
                var a = this.phys_h / 82;
                this.tileGraph.set_scaleX(this.phys_w / 218);
                this.tileGraph.set_scaleY(a);
                this.tileGraph.set_x(this.get_x());
                this.tileGraph.set_y(this.get_y());
                this.tileGraph.set_rotation(this.get_rotation());
                zb.prototype.initGraph.call(this)
            },
            updateGraph: function() {
                0 != this.checkChangeTransform() && (zb.prototype.updateGraph.call(this), this.tileGraph.set_x(this.get_x()), this.tileGraph.set_y(this.get_y()), this.tileGraph.set_rotation(this.get_rotation()))
            },
            update: function() {
                zb.prototype.update.call(this);
                this.processSleepingMechanisms();
                switch (this.state[1]) {
                    case 1:
                        this.move();
                        break;
                    case 2:
                        this.timeout()
                }
            },
            move: function() {
                var a = H.calcDistOfDots(this.body.get_position().get_x(), this.body.get_position().get_y(), this.targetPoint.x, this.targetPoint.y);
                2 >= a ? (this.dir *= -1, this.initTargetPoint(), this.speed = this.speed.mul(-1), this.body.set_velocity(K.get(0, 0, !0)), this.state = ac.Timeout) : 0 > a - this.body.get_velocity().get_length() * ha.timeStep && this.fixVelocityForEnd()
            },
            fixVelocityForEnd: function() {
                var a = (new K(this.targetPoint.x, this.targetPoint.y)).sub(this.body.get_position()),
                    b = new K;
                b.set_x(function(b) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.x
                }(this) / ha.timeStep);
                b.set_y(function(b) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.y
                }(this) / ha.timeStep);
                this.body.set_velocity(b)
            },
            timeout: function() {
                this.counter == this.timeoutFrames ? (this.counter = 0, this.state = ac.Move, this.body.set_velocity(this.speed)) : this.counter++
            },
            processSleepingMechanisms: function() {
                for (var a = 0, b = this.mechanismList; a < b.length;) {
                    var c = b[a];
                    ++a;
                    1 == c.isSleeping() && c.wakeUp()
                }
            },
            free: function() {
                this.tileGraph.free();
                this.tileGraph = null;
                this.speed.dispose();
                this.speed =
                    null;
                zb.prototype.free.call(this)
            },
            __class__: tf
        });
        var rg = function(a) {
            ga.call(this, a)
        };
        h["blocks.interactive.StaticBlock1"] = rg;
        rg.__name__ = ["blocks", "interactive", "StaticBlock1"];
        rg.__super__ = zb;
        rg.prototype = v(zb.prototype, {
            init: function() {
                zb.prototype.init.call(this);
                this.needUpdateGraph = !1
            },
            initPhys: function() {
                this.phys_w = 80 * this.params.scaleX;
                this.phys_h = 80 * this.params.scaleY;
                this.set_rotation(this.params.r);
                this.body = T.createBox("static", this.phys_w, this.phys_h, this.get_x(), this.get_y(), H.toRad(this.params.r));
                this.body.get_userData().data = this;
                this.body.set_space(ha.get_instance().space)
            },
            __class__: rg
        });
        var Ya = function() {
            A.call(this)
        };
        h["com.alagatar.BasicScene"] = Ya;
        Ya.__name__ = ["com", "alagatar", "BasicScene"];
        Ya.__super__ = A;
        Ya.prototype = v(A.prototype, {
            init: function() {},
            start: function() {},
            free: function() {},
            __class__: Ya
        });
        var cg = function() {
            this.ready = !0;
            A.call(this);
            this.init()
        };
        h["com.alagatar.BasicSceneManager"] = cg;
        cg.__name__ = ["com", "alagatar", "BasicSceneManager"];
        cg.__super__ = A;
        cg.prototype = v(A.prototype, {
            init: function() {
                this.ready = !0;
                this.scenesList = [];
                this.sceneLayer = new A;
                this.addChild(this.sceneLayer);
                this.effectLayer = new A;
                this.addChild(this.effectLayer)
            },
            isReady: function() {
                return this.ready
            },
            show: function(a, b) {
                null == b && (b = !0);
                null != a && (this.ready = !1, a.set_visible(!1), this.scenesList.push(a), this.sceneLayer.addChild(a), 1 == b ? this.showHideEffect() : (this.initScene(), this.startScene()))
            },
            showHideEffect: function() {
                this.hideComplete()
            },
            hideComplete: function() {
                this.initScene();
                this.showEffect()
            },
            initScene: function() {
                if (2 ==
                    this.scenesList.length) {
                    var a = this.scenesList.shift();
                    a.free();
                    this.sceneLayer.removeChild(a)
                }
                a = this.scenesList[0];
                a.init();
                a.set_visible(!0)
            },
            showEffect: function() {
                this.showComplete()
            },
            showComplete: function() {
                this.startScene()
            },
            startScene: function() {
                this.ready = !0;
                this.scenesList[0].start()
            },
            __class__: cg
        });
        var oa = function() {
            A.call(this);
            this.set_anchorPoint(new Ga(.5, .5))
        };
        h["com.alagatar.BasicSprite"] = oa;
        oa.__name__ = ["com", "alagatar", "BasicSprite"];
        oa.buildSprite = function(a) {
            var b = new oa;
            b.buildBitmap(a);
            b.set_smooth(!0);
            return b
        };
        oa.__super__ = A;
        oa.prototype = v(A.prototype, {
            buildBitmap: function(a) {
                this.bitmapData = new Xb(X.getBitmapData(a));
                this.addChild(this.bitmapData);
                this.set_scaleX(1.00001);
                this.set_scaleY(1.00001);
                this._scale = 1.00001;
                this.upTransform()
            },
            get_anchorPoint: function() {
                return this._anchorPoint
            },
            set_anchorPoint: function(a) {
                -1 > a.x && (a.x = -1);
                1 < a.x && (a.x = 1); - 1 > a.y && (a.y = -1);
                1 < a.y && (a.y = 1);
                this._anchorPoint = a;
                this.upTransform();
                return this._anchorPoint
            },
            setAnchorPoint: function(a, b) {
                -1 > a &&
                    (a = -1);
                1 < a && (a = 1); - 1 > b && (b = -1);
                1 < b && (b = 1);
                this._anchorPoint.x = a;
                this._anchorPoint.y = b;
                this.upTransform()
            },
            upTransform: function() {
                null != this.bitmapData && (this.bitmapData.set_x(-this.bitmapData.get_width() * this.get_anchorPoint().x), this.bitmapData.set_y(-this.bitmapData.get_height() * this.get_anchorPoint().y))
            },
            set_smooth: function(a) {
                if (null == this.bitmapData) return !1;
                this._smooth = a;
                return this.bitmapData.smoothing = this._smooth
            },
            __class__: oa,
            __properties__: v(A.prototype.__properties__, {
                set_smooth: "set_smooth",
                set_anchorPoint: "set_anchorPoint",
                get_anchorPoint: "get_anchorPoint"
            })
        });
        var aa = function() {
            if (null != aa._instance) throw "Error: Allready inited. Use instance instead;";
        };
        h["com.alagatar.DataManager"] = aa;
        aa.__name__ = ["com", "alagatar", "DataManager"];
        aa.__properties__ = {
            get_instance: "get_instance"
        };
        aa._instance = null;
        aa.get_instance = function() {
            null == aa._instance && (aa._instance = new aa);
            return aa._instance
        };
        aa.prototype = {
            init: function(a) {
                this.name = a;
                this.storage = od.getLocal(this.name, "/");
                this.data = this.storage.data;
                null == this.data.inited && this.createDb();
                this.uuid = this.get("uuid")
            },
            createDb: function() {
                this.save("inited", !0, !0);
                this.save("uuid", H.generateUUID(), !0);
                this.storage.flush()
            },
            clear: function() {
                for (var a = 0, b = Q.fields(this.data); a < b.length;) {
                    var c = b[a];
                    ++a;
                    null != Q.getProperty(this.data, c) && 1 == Q.getProperty(this.data, c).fixed || Q.deleteField(this.data, c)
                }
                this.storage.flush();
                E.get_instance().postNotify("eraseSaves")
            },
            save: function(a, b, c) {
                null == c && (c = !1);
                this.data[a] = {
                    value: b,
                    fixed: c
                };
                this.storage.flush();
                E.get_instance().postNotify("saveNewData", this, {
                    key: a
                })
            },
            get: function(a) {
                a = Q.getProperty(this.data, a);
                return null == a ? null : a.value
            },
            saveBigger: function(a, b) {
                var c = this.get(a);
                b > c && this.save(a, b)
            },
            __class__: aa
        };
        var Lh = function(a) {
            null == a && (a = 30);
            this.accuracy = 8;
            this.initWith(a);
            this.reset()
        };
        h["com.alagatar.FixedFrameUpdate"] = Lh;
        Lh.__name__ = ["com", "alagatar", "FixedFrameUpdate"];
        Lh.prototype = {
            initWith: function(a) {
                this.updateFrameTime = 1 / a;
                this.updateFrameTime = H.roundDec(this.updateFrameTime, this.accuracy)
            },
            reset: function() {
                this.prevTime = 0
            },
            checkUpdate: function() {
                this.curTime = Z.getTimer();
                0 == this.prevTime && (this.prevTime = this.curTime);
                this.elapsed = (this.curTime - this.prevTime) / 1E3;
                return this.elapsed >= this.updateFrameTime ? (this.prevTime = this.curTime, !0) : !1
            },
            __class__: Lh
        };
        var Wc = function() {
            this.initParams()
        };
        h["com.alagatar.GAnalytics"] = Wc;
        Wc.__name__ = ["com", "alagatar", "GAnalytics"];
        Wc.__properties__ = {
            get_instance: "get_instance"
        };
        Wc._instance = null;
        Wc.get_instance = function() {
            null == Wc._instance && (Wc._instance =
                new Wc);
            return Wc._instance
        };
        Wc.prototype = {
            initParams: function() {
                this.cid = aa.get_instance().uuid;
                this.analyticsUrl = "http://www.google-analytics.com/collect";
                this.shortedUrl = this.url = window.location.href;
                90 < this.shortedUrl.length && (this.shortedUrl = J.substr(this.shortedUrl, 0, 87), this.shortedUrl += "...");
                this.host = window.location.host;
                this.protocol = window.location.protocol;
                "https:" == this.protocol && (this.analyticsUrl = "https://ssl.google-analytics.com/collect")
            },
            init: function(a, b) {
                this.tid = a;
                this.campainId =
                    b;
                this.viewPage("main", !0)
            },
            viewPage: function(a, b) {
                null == b && (b = !1);
                var c = "" + Math.round((new Date).getTime() / 1E3),
                    d = new uf;
                d.v = "1";
                d.tid = this.tid;
                d.cid = this.cid;
                d.t = "screenview";
                d.an = "BraveBullPirates";
                d.cd = a;
                1 == b && (d.cs = this.host, d.ck = this.shortedUrl, d.cn = this.campainId);
                d.z = c;
                this.sendStats(d)
            },
            sendEvent: function(a, b) {
                null == b && (b = "");
                var c = "" + Math.round((new Date).getTime() / 1E3),
                    d = new uf;
                d.v = "1";
                d.tid = this.tid;
                d.cid = this.cid;
                d.t = "event";
                d.an = "BraveBullPirates";
                d.ec = a;
                0 != b.length && (d.ea = b);
                d.z = c;
                this.sendStats(d)
            },
            sendStats: function(a) {
                var b = new vf(this.analyticsUrl);
                b.method = wf.POST;
                b.data = a;
                (new sg).load(b)
            },
            __class__: Wc
        };
        var Mh = function(a) {
            this.target = a;
            this.init()
        };
        h["com.alagatar.LayersManager"] = Mh;
        Mh.__name__ = ["com", "alagatar", "LayersManager"];
        Mh.prototype = {
            init: function() {
                this.list = new Da
            },
            addLayer: function(a, b, c) {
                null == c && (c = !0);
                null == b && (b = !0);
                if (1 == this.list.exists(a)) console.log("Layer " + a + " already exist");
                else {
                    var d = new A;
                    d.mouseEnabled = b;
                    d.mouseChildren = c;
                    this.target.addChild(d);
                    this.list.set(a, d)
                }
            },
            getLayer: function(a) {
                return 1 == this.list.exists(a) ? this.list.get(a) : null
            },
            free: function() {
                this.target = this.list = null
            },
            __class__: Mh
        };
        var Se = function() {
            A.call(this);
            this.listOfSource = [];
            this.drawRect = new ib(-1, -1, -1, -1)
        };
        h["com.alagatar.MaskedObject"] = Se;
        Se.__name__ = ["com", "alagatar", "MaskedObject"];
        Se.__super__ = A;
        Se.prototype = v(A.prototype, {
            addSource: function(a, b, c, d, e) {
                null == e && (e = 0);
                null == d && (d = 0);
                null == c && (c = -1);
                null == b && (b = -1);
                a = X.getBitmapData(a); - 1 == b && (b = a.width); - 1 == c &&
                    (c = a.height);
                this.listOfSource.push({
                    bitmapData: a,
                    width: b,
                    height: c,
                    x: d,
                    y: e
                })
            },
            init: function() {
                var a = this.calcSizeBySource();
                this.initResult(a.x, a.y);
                this.initSource(a.x, a.y);
                this.freeSourceConfig();
                this._width = a.x;
                this._height = a.y
            },
            calcSizeBySource: function() {
                for (var a = {
                    x: 0,
                    y: 0
                }, b = 0, c = this.listOfSource; b < c.length;) {
                    var d = c[b];
                    ++b;
                    d.width > a.x && (a.x = d.width);
                    a.y += d.height
                }
                return a
            },
            initResult: function(a, b) {
                this.resultBitmapdata = new Ta(a, b, !0, 0);
                this.result = new Xb(this.resultBitmapdata);
                this.result.smoothing = !0;
                this.setAnchor(.5, .5);
                this.addChild(this.result)
            },
            setAnchor: function(a, b) {
                0 > a && (a = 0);
                1 < a && (a = 1);
                0 > b && (b = 0);
                1 < b && (b = 1);
                this.result.set_x(-this.result.get_width() * a);
                this.result.set_y(-this.result.get_height() * b)
            },
            initSource: function(a, b) {
                this.sourceBitmapData = new Ta(a, b, !0, 0);
                new Ga;
                for (var c = new ib, d = new ib(0, 0, a, b), e = 0, f = this.listOfSource; e < f.length;) {
                    var k = f[e];
                    ++e;
                    c.width = k.bitmapData.width;
                    c.height = k.bitmapData.height;
                    d.x = k.x;
                    d.y += k.y;
                    d.width = k.width + k.x;
                    d.height = k.height + k.y;
                    d.y + d.height >
                        b && (d.height = b - d.y);
                    this.fillArea(this.sourceBitmapData, k.bitmapData, c, d);
                    d.y += d.height
                }
            },
            fillArea: function(a, b, c, d) {
                var e = this.calcDrawPram(d.width, d.height, c.width, c.height),
                    f = new ib,
                    k = new Ga,
                    q = e.x | 0,
                    e = e.y | 0;
                k.x = d.x;
                k.y = d.y;
                for (var n = new Ga, g = 0; g < e;) {
                    g++;
                    n.x = d.x;
                    k.x = d.x;
                    for (var h = 0; h < q;) h++, f.width = c.width, f.height = c.height, n.x + f.width > d.width && (f.width = d.width - n.x), n.y + f.height > d.height && (f.height = d.height - n.y), a.copyPixels(b, f, k), k.x += f.width, n.x += f.width;
                    k.y += f.height;
                    n.y += f.height
                }
            },
            calcDrawPram: function(a,
                b, c, d) {
                for (var e = {
                    x: 0,
                    y: 0
                }; 0 < a || 0 < b;) 0 < a && (e.x++, a -= c), 0 < b && (e.y++, b -= d);
                return e
            },
            freeSourceConfig: function() {
                this.listOfSource = [];
                this.listOfSource = null
            },
            drawFromBottom: function(a) {
                -1 == this.drawRect.y && (this.drawRect.x = 0, this.drawRect.y = this._height, this.drawRect.width = this._width);
                0 != this.drawRect.y && (this.drawRect.y -= a | 0, 0 > this.drawRect.y && (this.drawRect.y = 0), this.drawRect.height = a | 0, this.resultBitmapdata.copyPixels(this.sourceBitmapData, this.drawRect, new Ga(this.drawRect.x, this.drawRect.y)))
            },
            hideFromBottom: function(a) {
                this.drawRect.height = a;
                this.cleanAreaByPixels(this.drawRect);
                this.drawRect.y += a;
                this.drawRect.y > this._height && (this.drawRect.y = this._height)
            },
            cleanAreaByPixels: function(a) {
                a = this.drawRect.x | 0;
                var b = this.drawRect.y | 0,
                    c = a + (this.drawRect.width | 0) + 1,
                    d = b + (this.drawRect.height | 0) + 1;
                for (this.resultBitmapdata.lock(); b < d;)
                    for (var e = b++, f = a; f < c;) {
                        var k = f++;
                        this.resultBitmapdata.setPixel32(k, e, 255)
                    }
                this.resultBitmapdata.unlock()
            },
            free: function() {
                this.result = null;
                this.resultBitmapdata.dispose();
                this.resultBitmapdata = null;
                this.sourceBitmapData.dispose();
                this.drawRect = this.sourceBitmapData = null;
                this.listOfSource = [];
                this.listOfSource = null
            },
            __class__: Se
        });
        var T = function() {};
        h["com.alagatar.NapeTools"] = T;
        T.__name__ = ["com", "alagatar", "NapeTools"];
        T.calcImpulseVec = function(a, b, c, d) {
            null == d && (d = 0);
            null == c && (c = 0);
            a = b.sub(a);
            a.normalise();
            c = H.randTo(c, d, 2);
            c = H.toRad(c);
            a.rotate(c);
            return a
        };
        T.createBox = function(a, b, c, d, e, f) {
            null == f && (f = 0);
            null == e && (e = 0);
            null == d && (d = 0);
            var k;
            null == g.BodyType_DYNAMIC &&
                (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1);
            k = g.BodyType_DYNAMIC;
            "static" == a ? (null == g.BodyType_STATIC && (g.internal = !0, g.BodyType_STATIC = new Ba, g.internal = !1), k = g.BodyType_STATIC) : "kinematic" == a && (null == g.BodyType_KINEMATIC && (g.internal = !0, g.BodyType_KINEMATIC = new Ba, g.internal = !1), k = g.BodyType_KINEMATIC);
            a = new Tb(k);
            a.zpp_inner.wrap_shapes.add(new bb(bb.box(b, c)));
            null == a.zpp_inner.wrap_pos && a.zpp_inner.setupPosition();
            a.zpp_inner.wrap_pos.setxy(d, e);
            a.zpp_inner.immutable_midstep("Body::rotation");
            a.zpp_inner.rot != f && (a.zpp_inner.rot = f, a.zpp_inner.invalidate_rot(), a.zpp_inner.wake());
            a.zpp_inner.rot;
            return a
        };
        T.setMaterial = function(a, b, c, d, e) {
            null == e && (e = .01);
            var f = new tg;
            b != f.zpp_inner.elasticity && (f.zpp_inner.elasticity = b / 1, f.zpp_inner.invalidate(ba.WAKE | ba.ARBITERS));
            f.zpp_inner.elasticity;
            c != 1E3 * f.zpp_inner.density && (f.zpp_inner.density = c / 1E3, f.zpp_inner.invalidate(ba.WAKE | ba.PROPS));
            1E3 * f.zpp_inner.density;
            d != f.zpp_inner.staticFriction && (f.zpp_inner.staticFriction = d / 1, f.zpp_inner.invalidate(ba.WAKE |
                ba.ARBITERS));
            f.zpp_inner.staticFriction;
            d != f.zpp_inner.dynamicFriction && (f.zpp_inner.dynamicFriction = d / 1, f.zpp_inner.invalidate(ba.WAKE | ba.ANGDRAG | ba.ARBITERS));
            f.zpp_inner.dynamicFriction;
            e != f.zpp_inner.rollingFriction && (f.zpp_inner.rollingFriction = e / 1, f.zpp_inner.invalidate(ba.WAKE | ba.ARBITERS));
            f.zpp_inner.rollingFriction;
            a.setShapeMaterials(f)
        };
        T.createPolygon = function(a, b, c, d, e) {
            null == e && (e = !1);
            null == d && (d = 0);
            null == c && (c = 0);
            a = new bb(bb.box(a, b));
            a.transform(Be.translation(c, d));
            a.zpp_inner.immutable_midstep("Shape::sensorEnabled");
            a.zpp_inner.sensorEnabled = e;
            a.zpp_inner.wake();
            a.zpp_inner.sensorEnabled;
            return a
        };
        T.createCirclePolygon = function(a, b, c, d) {
            null == d && (d = !1);
            null == c && (c = 0);
            null == b && (b = 0);
            a = new xf(a);
            a.transform(Be.translation(b, c));
            a.zpp_inner.immutable_midstep("Shape::sensorEnabled");
            a.zpp_inner.sensorEnabled = d;
            a.zpp_inner.wake();
            a.zpp_inner.sensorEnabled;
            return a
        };
        T.setSensor = function(a, b) {
            null == b && (b = !0);
            for (var c = a.zpp_inner.wrap_shapes.iterator(); c.hasNext();) {
                var d;
                c.zpp_critical = !1;
                d = c.zpp_inner.at(c.zpp_i++);
                d.zpp_inner.immutable_midstep("Shape::sensorEnabled");
                d.zpp_inner.sensorEnabled = b;
                d.zpp_inner.wake();
                d.zpp_inner.sensorEnabled
            }
        };
        T.rotateVecAround = function(a, b, c) {
            var d = new K;
            d.set_x((function(b) {
                a.zpp_inner.validate();
                return a.zpp_inner.x
            }(this) - function(a) {
                b.zpp_inner.validate();
                return b.zpp_inner.x
            }(this)) * Math.cos(c) - (function(a) {
                b.zpp_inner.validate();
                return b.zpp_inner.y
            }(this) - function(b) {
                a.zpp_inner.validate();
                return a.zpp_inner.y
            }(this)) * Math.sin(c) + function(a) {
                b.zpp_inner.validate();
                return b.zpp_inner.x
            }(this));
            d.set_y((function(a) {
                b.zpp_inner.validate();
                return b.zpp_inner.y
            }(this) - function(b) {
                a.zpp_inner.validate();
                return a.zpp_inner.y
            }(this)) * Math.cos(c) - (function(b) {
                a.zpp_inner.validate();
                return a.zpp_inner.x
            }(this) - function(a) {
                b.zpp_inner.validate();
                return b.zpp_inner.x
            }(this)) * Math.sin(c) + function(a) {
                b.zpp_inner.validate();
                return b.zpp_inner.y
            }(this));
            return d
        };
        T.createPivotJoint = function(a, b, c, d, e, f) {
            null == f && (f = !0);
            b = new ug(b, c, b.worldPointToLocal(d, !0), c.worldPointToLocal(e, !0));
            b.zpp_inner.ignore !=
                f && (b.zpp_inner.ignore = f, b.zpp_inner.wake());
            b.zpp_inner.ignore;
            (null == b.zpp_inner.space ? null : b.zpp_inner.space.outer) != a && (null != b.zpp_inner.component && (b.zpp_inner.component.woken = !1), b.zpp_inner.clearcache(), null != b.zpp_inner.space && b.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(b), null != a ? a.zpp_inner.wrap_constraints.add(b) : b.zpp_inner.space = null);
            null == b.zpp_inner.space ? null : b.zpp_inner.space.outer;
            return b
        };
        T.createLineJoint = function(a, b, c, d, e, f, k, q, n) {
            null == n && (n = !0);
            b = new vg(b,
                c, b.worldPointToLocal(d, !0), c.worldPointToLocal(e, !0), f, k, q);
            b.zpp_inner.ignore != n && (b.zpp_inner.ignore = n, b.zpp_inner.wake());
            b.zpp_inner.ignore;
            (null == b.zpp_inner.space ? null : b.zpp_inner.space.outer) != a && (null != b.zpp_inner.component && (b.zpp_inner.component.woken = !1), b.zpp_inner.clearcache(), null != b.zpp_inner.space && b.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(b), null != a ? a.zpp_inner.wrap_constraints.add(b) : b.zpp_inner.space = null);
            null == b.zpp_inner.space ? null : b.zpp_inner.space.outer;
            return b
        };
        T.putRaycast = function(a, b, c, d, e, f) {
            null == e && (e = !1);
            null == d && (d = -1);
            c = new Nh(b, c); - 1 != d && (c.zpp_inner.maxdist = d, c.zpp_inner.maxdist);
            a = a.rayCast(c, !1);
            if (null != a) {
                d = a.zpp_inner.toiDistance;
                var k = c.at(d);
                if (1 == e && null != f) {
                    var q = c.at(a.zpp_inner.toiDistance);
                    f.get_graphics().clear();
                    f.get_graphics().lineStyle(2, 16711680, 1);
                    f.get_graphics().moveTo(function(a) {
                        b.zpp_inner.validate();
                        return b.zpp_inner.x
                    }(this), function(a) {
                        b.zpp_inner.validate();
                        return b.zpp_inner.y
                    }(this));
                    f.get_graphics().lineTo(function(a) {
                        q.zpp_inner.validate();
                        return q.zpp_inner.x
                    }(this), function(a) {
                        q.zpp_inner.validate();
                        return q.zpp_inner.y
                    }(this))
                }
                k.zpp_inner.validate();
                e = k.zpp_inner.x;
                k.zpp_inner.validate();
                return {
                    data: a,
                    x: e,
                    y: k.zpp_inner.y,
                    distance: d
                }
            }
            return null
        };
        var E = function() {
            this.init()
        };
        h["com.alagatar.NotificationCenter"] = E;
        E.__name__ = ["com", "alagatar", "NotificationCenter"];
        E.__properties__ = {
            get_instance: "get_instance"
        };
        E._instance = null;
        E.get_instance = function() {
            null == E._instance && (E._instance = new E);
            return E._instance
        };
        E.prototype = {
            init: function() {
                this.notifiList = []
            },
            postNotify: function(a, b, c) {
                for (var d = 0, e = this.notifiList; d < e.length;) {
                    var f = e[d];
                    ++d;
                    f.notifi == a && f.sender.receiveNotify(a, b, c)
                }
            },
            signToNotify: function(a, b, c) {
                null == c && (c = "local");
                if (1 == this.isSignedToNotify(a, b)) return !1;
                this.notifiList.push({
                    notifi: a,
                    sender: b,
                    group: c
                });
                return !0
            },
            unSignToNotify: function(a, b) {
                var c = this.seekNotificationItem(a, b);
                if (null == c) return !1;
                J.remove(this.notifiList, c);
                return !0
            },
            seekNotificationItem: function(a, b) {
                for (var c = null, d = this.notifiList.length, e = 0; e < d;) {
                    var f =
                        e++;
                    this.notifiList[f].notifi == a && this.notifiList[f].sender == b && (c = this.notifiList[f])
                }
                return c
            },
            isSignedToNotify: function(a, b) {
                return null != this.seekNotificationItem(a, b) ? !0 : !1
            },
            clear: function(a) {
                null == a && (a = "local");
                for (var b = 0, c = this.notifiList.length, d, e = 0; e < c;) {
                    e++;
                    d = this.notifiList.length;
                    if (0 == d || b >= d) break;
                    this.notifiList[b].group == a ? this.notifiList.splice(b, 1) : b++
                }
            },
            __class__: E
        };
        var ya = function() {};
        h["com.alagatar.PhysicsCollisionCategories"] = ya;
        ya.__name__ = ["com", "alagatar", "PhysicsCollisionCategories"];
        ya.add = function(a) {
            var b = ya._numCategories;
            15 == (0 > b ? 4294967296 + b : b + 0) ? console.log("You can only have 15 categories.") : 1 != ya._categoryNames.exists(a) && (b = ya._categoryIndexes[ya._numCategories], ya._categoryNames.set(a, b), b, ya._allCategories |= ya._categoryIndexes[ya._numCategories], ya._numCategories++)
        };
        ya.get = function(a) {
            for (var b = 0, c = 0; c < a.length;) {
                var d = a[c];
                ++c;
                var e = void 0,
                    e = ya._categoryNames.get(d),
                    e = 0 > e ? 4294967296 + e : e + 0;
                0 == e ? console.log("Warning: " + d + " category does not exist.") : (d = ya._categoryNames.get(d),
                    b |= d)
            }
            return b
        };
        ya.getAllExcept = function(a) {
            for (var b = ya._allCategories, c = 0; c < a.length;) {
                var d = a[c];
                ++c;
                var e = void 0,
                    e = ya._categoryNames.get(d),
                    e = 0 > e ? 4294967296 + e : e + 0;
                0 == e ? console.log("Warning: " + d + " category does not exist.") : (d = ya._categoryNames.get(d), b &= ~d)
            }
            return b
        };
        var H = function() {};
        h["com.alagatar.Tools"] = H;
        H.__name__ = ["com", "alagatar", "Tools"];
        H.randTo = function(a, b, c) {
            null == c && (c = 0);
            if (0 == c) return Math.floor(Math.random() * (b - a + 1)) + a;
            a = Math.random() * (b - a + 1) + a;
            a = H.roundDec(a, c);
            a > b && (a = b);
            return a
        };
        H.roundDec = function(a, b) {
            null == b && (b = 0);
            a *= Math.pow(10, b);
            return Math.round(a) / Math.pow(10, b)
        };
        H.clamp = function(a, b, c) {
            return Math.max(b, Math.min(c, a))
        };
        H.toDeg = function(a) {
            return 180 * a / Math.PI
        };
        H.toRad = function(a) {
            return a * Math.PI / 180
        };
        H.localToLocal = function(a, b, c) {
            var d = new Ga;
            null != c && (d.x = c.x, d.y = c.y);
            d = a.localToGlobal(d);
            d = b.globalToLocal(d);
            return {
                x: d.x,
                y: d.y
            }
        };
        H.calcDistOfDots = function(a, b, c, d) {
            return Math.sqrt((c - a) * (c - a) + (d - b) * (d - b))
        };
        H.angleOfPoints = function(a, b, c, d) {
            return 180 *
                Math.atan2(-(d - b), -(c - a)) / Math.PI
        };
        H.toPercent = function(a, b) {
            return a / b * 100
        };
        H.rotatePointByAngle = function(a, b, c) {
            var d = b.x;
            b = b.y;
            var e = a.x,
                f = a.y;
            a = d + (e - d) * Math.cos(c) + (b - f) * Math.sin(c);
            c = b + (e - d) * Math.sin(c) + (f - b) * Math.cos(c);
            return new Ga(a, c)
        };
        H.createObjectByClassName = function(a, b) {
            var c = U.resolveClass(a);
            if (null == c) return console.log("Can't create instance of " + a + ". Import this class anywhere!"), null;
            null == b && (b = []);
            return U.createInstance(c, b)
        };
        H.parseConfig = function(a) {
            if (0 == X.exists(a)) return console.log(a +
                " not found!"), null;
            a = X.getText(a);
            return yf.parse(a)
        };
        H.seekObjectWithClass = function(a, b, c) {
            null == c && (c = -1);
            var d = U.resolveClass(b);
            if (1 == D.__instanceof(a, d)) return a;
            if (-1 != c) {
                if (0 == c) return null;
                c--
            }
            return null == a.parent ? null : H.seekObjectWithClass(a.parent, b, c)
        };
        H.seekObjectWithClassOn = function(a, b, c, d, e) {
            null == e && (e = -1);
            var f = null;
            a = a.getObjectsUnderPoint(new Ga(b, c));
            b = a.length;
            c = b - 1;
            for (var k = 0; k < b;) {
                k++;
                f = H.seekObjectWithClass(a[c], d, e);
                if (null != f) break;
                c--
            }
            return f
        };
        H.generateUUID = function() {
            var a;
            a = new ce;
            a.data = Array(36);
            a.length = 36;
            a.fixed = !1;
            for (var b = 0; 36 > b;) {
                var c = b++,
                    d;
                d = Math.floor(16 * Math.random());
                d = J.substr("0123456789abcdef", d, 1);
                if (!a.fixed && (c >= a.length && (a.length = c + 1), a.data.length < a.length)) {
                    var e;
                    e = Array(a.data.length + 10);
                    bc.blit(a.data, 0, e, 0, a.data.length);
                    a.data = e
                }
                a.data[c] = d
            }
            a.fixed || (14 >= a.length && (a.length = 15), a.data.length < a.length && (b = Array(a.data.length + 10), bc.blit(a.data, 0, b, 0, a.data.length), a.data = b));
            a.data[14] = "4";
            b = G.parseInt(a.data[19]) & 3 | 8;
            b = J.substr("0123456789abcdef",
                b, 1);
            a.fixed || (19 >= a.length && (a.length = 20), a.data.length < a.length && (c = Array(a.data.length + 10), bc.blit(a.data, 0, c, 0, a.data.length), a.data = c));
            a.data[19] = b;
            a.fixed || (23 >= a.length && (a.length = 24), a.data.length < a.length && (b = Array(a.data.length + 10), bc.blit(a.data, 0, b, 0, a.data.length), a.data = b));
            b = a.data[23] = "-";
            a.fixed || (18 >= a.length && (a.length = 19), a.data.length < a.length && (c = Array(a.data.length + 10), bc.blit(a.data, 0, c, 0, a.data.length), a.data = c));
            b = a.data[18] = b;
            a.fixed || (13 >= a.length && (a.length = 14), a.data.length <
                a.length && (c = Array(a.data.length + 10), bc.blit(a.data, 0, c, 0, a.data.length), a.data = c));
            b = a.data[13] = b;
            a.fixed || (8 >= a.length && (a.length = 9), a.data.length < a.length && (c = Array(a.data.length + 10), bc.blit(a.data, 0, c, 0, a.data.length), a.data = c));
            a.data[8] = b;
            b = "";
            c = 0;
            for (d = a.length; c < d;) e = c++, 0 < e && (b += ""), b += G.string(a.data[e]);
            return b
        };
        var Ib = function() {
            this.init()
        };
        h["com.alagatar.Updater"] = Ib;
        Ib.__name__ = ["com", "alagatar", "Updater"];
        Ib.__interfaces__ = [Oe];
        Ib.__properties__ = {
            get_instance: "get_instance"
        };
        Ib._instance =
            null;
        Ib.get_instance = function() {
            null == Ib._instance && (Ib._instance = new Ib);
            return Ib._instance
        };
        Ib.prototype = {
            init: function() {
                this.items = []
            },
            add: function(a) {
                1 != this.has(a) && this.items.push(a)
            },
            del: function(a) {
                a = be.indexOf(this.items, a); - 1 != a && this.items.splice(a, 1)
            },
            update: function() {
                for (var a = 0, b = this.items; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.update()
                }
            },
            has: function(a) {
                for (var b = !1, c = this.items.length, d = 0; d < c;) {
                    var e = d++;
                    if (this.items[e] == a) {
                        b = !0;
                        break
                    }
                }
                return b
            },
            free: function() {
                this.items = []
            },
            __class__: Ib
        };
        var oc = function(a) {
            null == a && (a = !1);
            this.bgAlpha = .7;
            this.bgColor = 1118481;
            this.showTime = this.hideTime = .25;
            A.call(this);
            this.testMode = a;
            this.init()
        };
        h["com.alagatar.menu.BaseMenu"] = oc;
        oc.__name__ = ["com", "alagatar", "menu", "BaseMenu"];
        oc.__super__ = A;
        oc.prototype = v(A.prototype, {
            init: function() {
                this.baseTween = null;
                this.mouseChildren = this.mouseEnabled = !1;
                this.set_visible(!1);
                this.set_alpha(0);
                this.active = !0;
                this.createUi()
            },
            createUi: function() {
                this.get_graphics().beginFill(this.bgColor, this.bgAlpha);
                this.get_graphics().drawRect(0,
                    0, 1280, 720);
                this.get_graphics().endFill()
            },
            show: function() {
                this.mouseChildren = this.mouseEnabled = !0;
                this.set_visible(!0);
                this.baseTween = r.to(this, {
                    alpha: 1
                }, null, null, null, null, null, null, null, null, {
                    fileName: "BaseMenu.hx",
                    lineNumber: 52,
                    className: "com.alagatar.menu.BaseMenu",
                    methodName: "show"
                }).time(this.showTime).onFinish(l(this, this.completeShow))
            },
            completeShow: function() {},
            completeHide: function() {
                this.set_visible(!1);
                this.active = !0
            },
            __class__: oc
        });
        var wg = function(a, b, c, d) {
            null == d && (d = "");
            null == c &&
                (c = "");
            A.call(this);
            this.init(a, b, c, d)
        };
        h["com.alagatar.menu.Pagination"] = wg;
        wg.__name__ = ["com", "alagatar", "menu", "Pagination"];
        wg.__super__ = A;
        wg.prototype = v(A.prototype, {
            init: function(a, b, c, d) {
                this.currentPage = 0;
                for (var e = -(a * b / 2) + b / 2, f = 0; f < a;) {
                    var k = f++;
                    this.createPagePoint(k, e, b, c, d)
                }
                this.setPageMode(0, kb.ON)
            },
            createPagePoint: function(a, b, c, d, e) {
                d = this.createNormalAsset(d);
                e = this.createActiveAsset(e);
                var f = new Sd;
                f.addEventListener("changeState", l(this, this.paginationHandler));
                f.scaleChange = 1.3;
                f.zoomOutTime = .1;
                f.set_name("page" + a);
                f.setGraph(e, kb.ON);
                f.setGraph(d, kb.OFF);
                f.setState(kb.OFF);
                f.set_x(b + a * c);
                this.addChild(f)
            },
            createNormalAsset: function(a) {
                0 == a.length ? (a = new A, a.get_graphics().beginFill(16777215, 0), a.get_graphics().lineStyle(2, 16777215), a.get_graphics().drawCircle(0, 0, 8), a.get_graphics().endFill()) : a = oa.buildSprite(a);
                return a
            },
            createActiveAsset: function(a) {
                0 == a.length ? (a = new A, a.get_graphics().beginFill(16777215, 1), a.get_graphics().drawCircle(0, 0, 8), a.get_graphics().endFill()) :
                    a = oa.buildSprite(a);
                return a
            },
            paginationHandler: function(a) {
                a = a.target.get_name();
                a = G.parseInt(J.substr(a, 4, null));
                this.activatePage(a);
                this.dispatchEvent(new z(z.CHANGE, !0))
            },
            activatePage: function(a) {
                this.setPageMode(this.currentPage, kb.OFF);
                this.setPageMode(a, kb.ON);
                this.currentPage = a
            },
            setPageMode: function(a, b) {
                this.getChildByName("page" + a).setState(b)
            },
            __class__: wg
        });
        var zf = function() {
            A.call(this);
            this.pages = [];
            this.touchActive = !1;
            this.pageCount = 1;
            this.currentPage = 0;
            this.startPoint = {
                x: 0,
                y: 0
            };
            this.endPoint = {
                x: 0,
                y: 0
            };
            this.curPoint = {
                x: 0,
                y: 0
            };
            this.animTime = .65;
            this.animStarted = !1;
            this.tween = null;
            this.swipeTime = .23;
            this.swipeDist = 30;
            this.dragDist = 10
        };
        h["com.alagatar.menu.SlidingMenu"] = zf;
        zf.__name__ = ["com", "alagatar", "menu", "SlidingMenu"];
        zf.__interfaces__ = [ij];
        zf.__super__ = A;
        zf.prototype = v(A.prototype, {
            init: function(a, b, c, d, e) {
                this.breakDist = .33 * this.pageWidth;
                this.container = new A;
                this.addChild(this.container);
                this.buildGrid(a, b, c, d, e);
                this.addControls()
            },
            buildGrid: function(a, b, c, d, e) {
                this.cols = b;
                this.rows =
                    c;
                this.countLevelsInPage = this.cols * this.rows;
                c = b = 0;
                for (var f, k = this.createPage(), q = 0; q < a.length;) {
                    var n = a[q];
                    ++q;
                    b == this.cols && (b = 0, c++, c == this.rows && (this.pageCount++, c = b = 0, k = this.createPage()));
                    f = this.calcPos(b, c, d, e);
                    f = H.localToLocal(this.container, k, {
                        x: f.x,
                        y: f.y
                    });
                    n.set_x(f.x);
                    n.set_y(f.y);
                    k.addChild(n);
                    b++
                }
            },
            createPage: function() {
                var a = new A;
                a.set_x((this.pageCount - 1) * this.pageWidth);
                this.container.addChild(a);
                this.pages.push(a);
                return a
            },
            calcPos: function(a, b, c, d) {
                var e = {
                    x: 0,
                    y: 0
                };
                e.x = c.x + a * d.x +
                    (this.pageCount - 1) * this.pageWidth;
                e.y = c.y + b * d.y;
                return e
            },
            addControls: function() {
                Z.current.stage.addEventListener(N.MOUSE_DOWN, l(this, this.mouseDown));
                Z.current.stage.addEventListener(N.MOUSE_UP, l(this, this.mouseUp));
                Z.current.stage.addEventListener(N.MOUSE_MOVE, l(this, this.mouseMove))
            },
            mouseDown: function(a) {
                1 == this.animStarted && this.stopAnim();
                this.touchActive = !0;
                this.startPoint.x = Z.current.stage.get_mouseX();
                this.startPoint.y = Z.current.stage.get_mouseY();
                this.curPoint.x = this.startPoint.x;
                this.curPoint.y =
                    this.startPoint.y;
                this.startTime = Z.getTimer()
            },
            mouseUp: function(a) {
                this.stopTouch();
                this.checkChangePage();
                this.moveToCurrentPage();
                0 == this.animStarted && (this.mouseChildren = !0)
            },
            checkChangePage: function() {
                this.moveDist = this.startPoint.x - this.curPoint.x;
                this.moveDistPositive = Math.abs(this.moveDist);
                1 != this.checkSwipe(this.moveDistPositive) && 1 != this.checkBreak(this.moveDistPositive) || this.calcNewPage(this.moveDist)
            },
            checkSwipe: function(a) {
                this.curTime = Z.getTimer();
                this.elapsed = (this.curTime - this.startTime) /
                    1E3;
                return this.elapsed > this.swipeTime ? !1 : a >= this.swipeDist ? !0 : !1
            },
            checkBreak: function(a) {
                return a > this.breakDist ? !0 : !1
            },
            calcNewPage: function(a) {
                0 < a && this.currentPage < this.pageCount - 1 ? this.currentPage++ : 0 > a && 0 < this.currentPage && this.currentPage--
            },
            stopTouch: function() {
                this.touchActive = !1;
                this.endPoint.x = Z.current.stage.get_mouseX();
                this.endPoint.y = Z.current.stage.get_mouseY()
            },
            mouseMove: function(a) {
                0 != this.touchActive && (1 == this.animStarted && this.stopAnim(), this.processMove())
            },
            processMove: function() {
                this.moveDifX =
                    Z.current.stage.get_mouseX() - this.curPoint.x;
                var a = this.container;
                a.set_x(a.get_x() + this.moveDifX);
                this.curPoint.x = Z.current.stage.get_mouseX();
                this.curPoint.y = Z.current.stage.get_mouseY();
                this.moveDist = this.startPoint.x - this.curPoint.x;
                Math.abs(this.moveDist) > this.dragDist && 1 == this.mouseChildren && (this.mouseChildren = !1)
            },
            moveToCurrentPage: function() {
                var a = this.getPositionOfPage(this.currentPage);
                this.container.get_x() != a.x && (1 == this.animStarted && this.stopAnim(), this.startAnim(a), 1 == this.touchActive &&
                    this.stopTouch())
            },
            getPositionOfPage: function(a) {
                var b = {
                    x: 0,
                    y: 0
                };
                b.x = -(a * this.pageWidth);
                return b
            },
            startAnim: function(a) {
                this.animStarted = !0;
                this.container.mouseChildren = !1;
                this.container.mouseEnabled = !1;
                var b = Math.abs(this.container.get_x() - a.x),
                    b = H.toPercent(b, this.pageWidth / 2) / 100,
                    b = H.clamp(b, .4, 1),
                    b = this.animTime * b;
                this.tween = r.to(this.container, {
                    x: a.x
                }, null, null, null, null, null, null, null, null, {
                    fileName: "SlidingMenu.hx",
                    lineNumber: 301,
                    className: "com.alagatar.menu.SlidingMenu",
                    methodName: "startAnim"
                }).time(b).ease(lb.cubicOut).onFinish(l(this,
                    this.completeAnim))
            },
            stopAnim: function() {
                null != this.tween && (this.tween.stop(), this.tween = null);
                this.completeAnim()
            },
            completeAnim: function() {
                this.animStarted = !1;
                this.container.mouseChildren = !0;
                this.container.mouseEnabled = !0;
                null != this.pagination && this.pagination.activatePage(this.currentPage);
                this.mouseChildren = !0
            },
            addPagination: function(a, b, c, d) {
                null == d && (d = "");
                null == c && (c = "");
                this.pagination = new wg(this.pageCount, b, c, d);
                this.pagination.addEventListener(z.CHANGE, l(this, this.paginationHandler));
                this.pagination.set_x(a.x);
                this.pagination.set_y(a.y);
                this.addChild(this.pagination);
                this.pagination.activatePage(0)
            },
            paginationHandler: function(a) {
                this.pagination.currentPage != this.currentPage && (this.currentPage = this.pagination.currentPage, this.moveToCurrentPage())
            },
            free: function() {
                this.pages = [];
                this.delControls()
            },
            delControls: function() {
                Z.current.stage.removeEventListener(N.MOUSE_DOWN, l(this, this.mouseDown));
                Z.current.stage.removeEventListener(N.MOUSE_UP, l(this, this.mouseUp));
                Z.current.stage.removeEventListener(N.MOUSE_MOVE,
                    l(this, this.mouseMove))
            },
            addBackgroundToPages: function(a, b) {
                for (var c = 0, d = this.pageCount; c < d;) {
                    var e = c++;
                    this.addBackgroundToPage(e, a, b)
                }
            },
            addBackgroundToPage: function(a, b, c) {
                b = oa.buildSprite(b);
                b.set_x(c.x);
                b.set_y(c.y);
                this.pages[a].addChildAt(b, 0)
            },
            showPageWithLevel: function(a) {
                this.showPage(Math.floor((a - 1) / this.countLevelsInPage))
            },
            showPage: function(a) {
                this.currentPage = a;
                a = this.getPositionOfPage(this.currentPage);
                this.container.set_x(a.x);
                this.completeAnim()
            },
            __class__: zf
        });
        var Oh = function(a,
            b) {
            this.groupId = a;
            this.chanelId = b;
            this.volume = 1;
            this.looped = !1;
            this.position = 0;
            this.paused = this.muted = this.active = !1;
            this.transform = new xg;
            this.transform.volume = this.volume
        };
        h["com.alagatar.sound.SoundNode"] = Oh;
        Oh.__name__ = ["com", "alagatar", "sound", "SoundNode"];
        Oh.prototype = {
            play: function(a, b) {
                null == b && (b = !1);
                if (this.sound != a || 1 != this.looped || 1 != this.active) "music" == this.groupId && this.stop(), this.position = 0, this.active = !0, this.sound = a, this.looped = b, 0 == this.muted && this.startPlay()
            },
            startPlay: function() {
                this.chanel =
                    this.sound.play(this.position, 0, this.transform);
                1 == this.looped && null != this.chanel && 0 == this.chanel.hasEventListener(z.SOUND_COMPLETE) && this.chanel.addEventListener(z.SOUND_COMPLETE, l(this, this.complete))
            },
            complete: function(a) {
                this.position = 0;
                this.startPlay()
            },
            mute: function(a) {
                this.muted = a;
                0 != this.active && (1 == this.muted ? this.pausePlay() : 1 == this.looped && 0 == this.paused && this.startPlay())
            },
            pausePlay: function() {
                this.position = 0;
                null != this.chanel && (1 == this.looped && (this.position = this.chanel.get_position()),
                    this.chanel.stop())
            },
            pause: function(a) {
                a != this.paused && (this.paused = a, 0 != this.active && (1 == this.paused ? this.pausePlay() : 1 == this.looped && 0 == this.muted && this.startPlay()))
            },
            stop: function() {
                this.pausePlay();
                this.position = 0;
                this.active = !1
            },
            __class__: Oh
        };
        var P = of.SoundSystem = function() {
            null != P._instance && console.log("Error: Object allready inited. Use SoundSystem.instance instead");
            P._instance = this;
            P.inited = !0;
            this.init()
        };
        h["com.alagatar.sound.SoundSystem"] = P;
        P.__name__ = ["com", "alagatar", "sound", "SoundSystem"];
        P.__properties__ = {
            get_instance: "get_instance"
        };
        P._instance = null;
        P.get_instance = function() {
            null == P._instance && (P._instance = new P);
            return P._instance
        };
        P.prototype = {
            init: function() {
                this.sfxMuted = this.musicMuted = !1;
                this.mediaList = [];
                this.nodesList = []
            },
            isMuted: function() {
                return 1 == this.musicMuted && 1 == this.sfxMuted ? !0 : !1
            },
            addMusic: function(a, b, c) {
                null == c && (c = "music");
                this.addMedia(a, b, "music", c)
            },
            addSfx: function(a, b, c) {
                null == c && (c = "sfx");
                this.addMedia(a, b, "sfx", c)
            },
            addMedia: function(a, b, c, d) {
                0 == X.exists(b) ?
                    console.log("Media path " + b + " no exist") : (this.createMedia(a, b, c, d), null == this.findSoundNode(c, d) && this.createSoundNode(c, d))
            },
            createMedia: function(a, b, c, d) {
                a = {
                    id: a,
                    group: c,
                    chanel: d,
                    sound: X.getSound(b)
                };
                this.mediaList.push(a)
            },
            findSoundNode: function(a, b) {
                for (var c = null, d = 0, e = this.nodesList.length; d < e;) {
                    var f = d++;
                    if (this.nodesList[f].groupId == a && this.nodesList[f].chanelId == b) {
                        c = this.nodesList[f];
                        break
                    }
                }
                return c
            },
            createSoundNode: function(a, b) {
                var c = new Oh(a, b);
                this.nodesList.push(c)
            },
            playMusic: function(a,
                b) {
                null == b && (b = !0);
                this.playMedia(a, b)
            },
            playSound: function(a, b) {
                null == b && (b = !1);
                this.playMedia(a, b)
            },
            playMedia: function(a, b) {
                var c = this.findMedia(a);
                null == c ? console.log("Media " + a + " no founded") : this.findSoundNode(c.group, c.chanel).play(c.sound, b)
            },
            findMedia: function(a) {
                for (var b = null, c = 0, d = this.mediaList.length; c < d;) {
                    var e = c++;
                    if (this.mediaList[e].id == a) {
                        b = this.mediaList[e];
                        break
                    }
                }
                return b
            },
            mute: function(a) {
                this.muteMusic(a);
                this.muteSfx(a)
            },
            muteMusic: function(a) {
                this.musicMuted = a;
                this.muteSoundNodes("music",
                    a)
            },
            muteSfx: function(a) {
                this.sfxMuted = a;
                this.muteSoundNodes("sfx", a)
            },
            muteSoundNodes: function(a, b) {
                for (var c = 0, d = this.nodesList.length; c < d;) {
                    var e = c++;
                    this.nodesList[e].groupId == a && this.nodesList[e].mute(b)
                }
            },
            pause: function(a) {
                this.pauseMusic(a);
                this.pauseSfx(a)
            },
            pauseMusic: function(a) {
                this.pauseSoundNodes("music", a)
            },
            pauseSfx: function(a) {
                this.pauseSoundNodes("sfx", a)
            },
            pauseSoundNodes: function(a, b) {
                for (var c = 0, d = this.nodesList.length; c < d;) {
                    var e = c++;
                    this.nodesList[e].groupId == a && this.nodesList[e].pause(b)
                }
            },
            stopSfx: function() {
                this.stopSoundNodes("sfx")
            },
            stopSoundNodes: function(a) {
                for (var b = 0, c = this.nodesList.length; b < c;) {
                    var d = b++;
                    this.nodesList[d].groupId == a && this.nodesList[d].stop()
                }
            },
            __class__: P
        };
        var yb = function(a, b) {
            A.call(this);
            this.init(a, b)
        };
        h["com.alagatar.tiles.TileGraph"] = yb;
        yb.__name__ = ["com", "alagatar", "tiles", "TileGraph"];
        yb.__super__ = A;
        yb.prototype = v(A.prototype, {
            init: function(a, b) {
                this.isActive = !0;
                this.layerId = a;
                this.tileId = b;
                var c = Fa.get_instance().get(this.layerId);
                null == c ? console.log("Layer " +
                    this.layerId + " no found") : (this.graph = new oe(c, this.tileId), c.addChild(this.graph))
            },
            initBase: function(a) {
                this.baseX = a.x;
                this.baseY = a.y;
                this.baseRotation = a.rotation;
                this.baseScaleX = a.scaleX;
                this.baseScaleY = a.scaleY;
                this.set_x(this.baseX);
                this.set_y(this.baseY);
                this.set_rotation(this.baseRotation);
                this.set_scaleX(this.baseScaleX);
                this.set_scaleY(this.baseScaleY)
            },
            set_x: function(a) {
                A.prototype.set_x.call(this, a);
                1 == this.isActive && (this.graph.x = a);
                return a
            },
            set_y: function(a) {
                A.prototype.set_y.call(this,
                    a);
                1 == this.isActive && (this.graph.y = a);
                return a
            },
            set_rotation: function(a) {
                A.prototype.set_rotation.call(this, a);
                1 == this.isActive && this.graph.set_rotation(H.toRad(a));
                return a
            },
            set_scaleX: function(a) {
                A.prototype.set_scaleX.call(this, a);
                1 == this.isActive && this.graph.set_scaleX(a);
                return a
            },
            set_scaleY: function(a) {
                A.prototype.set_scaleY.call(this, a);
                1 == this.isActive && this.graph.set_scaleY(a);
                return a
            },
            set_alpha: function(a) {
                A.prototype.set_alpha.call(this, a);
                1 == this.isActive && (this.graph.alpha = a);
                return a
            },
            set_visible: function(a) {
                A.prototype.set_visible.call(this, a);
                1 == this.isActive && (this.graph.visible = a);
                return a
            },
            get_width: function() {
                return this.graph.get_width()
            },
            free: function() {
                var a = Fa.get_instance().get(this.layerId); - 1 != a.getChildIndex(this.graph) && a.removeChild(this.graph);
                this.graph = null;
                this.isActive = !1
            },
            __class__: yb
        });
        var nd = function(a, b) {
            A.call(this);
            this.config = b;
            this.layerId = a;
            this.init()
        };
        h["com.alagatar.tiles.TileSmartAnim"] = nd;
        nd.__name__ = ["com", "alagatar", "tiles", "TileSmartAnim"];
        nd.__interfaces__ = [Oe];
        nd.__super__ = A;
        nd.prototype = v(A.prototype, {
            init: function() {
                null == Fa.get_instance().get(this.layerId) ? console.log("Layer " + this.layerId + " no found") : (this.frame = 1, this.prevFrame = 0, this.loop = this.isPlaying = !1, this.items = [], this.cachedItems = [], this.setFps(30), this.fullFramesSpend = this.framesSpend = 0, this.centerFix = {
                    x: this.config.c.x,
                    y: this.config.c.y
                }, this.countFrames = this.config.f.length, this.buildFrame(), Ib.get_instance().add(this))
            },
            buildFrame: function() {
                this.cleanItems();
                this.buildLayers(this.config.f[this.frame -
                    1])
            },
            cleanItems: function() {
                for (var a = 0, b = this.items; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.graph.visible = !1;
                    this.removeChild(c);
                    this.cachedItems.push(c)
                }
                this.items = []
            },
            buildLayers: function(a) {
                for (var b = a.l.length, c = 0; c < b;) {
                    var d = c++;
                    this.buildItems(a.l[d])
                }
            },
            buildItems: function(a) {
                for (var b = a.i.length, c = 0; c < b;) {
                    var d = c++;
                    this.buildItem(a.i[d])
                }
            },
            buildItem: function(a) {
                var b = this.getItem(a.n);
                b.initBase({
                    x: a.x + this.centerFix.x,
                    y: a.y + this.centerFix.y,
                    rotation: a.r,
                    scaleX: a.w,
                    scaleY: a.h
                });
                this.items.push(b);
                this.addChild(b);
                this.updateOptions(b)
            },
            getItem: function(a) {
                var b = this.getItemFromCache(a);
                null == b && (b = new yb(this.layerId, a));
                return b
            },
            getItemFromCache: function(a) {
                for (var b = null, c = 0, d = this.cachedItems; c < d.length;) {
                    var e = d[c];
                    ++c;
                    if (e.tileId == a) {
                        b = e;
                        b.graph.visible = !0;
                        break
                    }
                }
                null != b && J.remove(this.cachedItems, b);
                return b
            },
            updateOptions: function(a) {
                this.setItemOption(a, "x");
                this.setItemOption(a, "y");
                this.setItemOption(a, "rotation");
                this.setItemOption(a, "scaleX");
                this.setItemOption(a, "scaleY");
                this.setItemOption(a,
                    "visible")
            },
            play: function(a) {
                null == a && (a = !1);
                this.loop = a;
                this.isPlaying = !0;
                this.frame = 1;
                this.prevFrame = 0
            },
            stop: function() {
                this.isPlaying = !1;
                1 != this.frame && (this.frame = 1, this.prevFrame = 0, this.buildFrame())
            },
            update: function() {
                0 != this.isPlaying && this.updateFrame()
            },
            updateFrame: function() {
                this.framesSpend += this.frameTime;
                1 <= this.framesSpend && (this.fullFramesSpend = Math.floor(this.framesSpend), this.framesSpend -= this.fullFramesSpend, this.prevFrame = this.frame, this.frame += this.fullFramesSpend, this.frame > this.countFrames &&
                    (this.frame = 1, 0 == this.loop && (this.isPlaying = !1)), this.frame != this.prevFrame && this.buildFrame())
            },
            updateItemsOption: function(a) {
                if (null != this.items)
                    for (var b = 0, c = this.items; b < c.length;) {
                        var d = c[b];
                        ++b;
                        this.setItemOption(d, a)
                    }
            },
            setItemOption: function(a, b) {
                switch (b) {
                    case "x":
                    case "y":
                        this.updatePosition(a);
                        break;
                    case "rotation":
                        a.set_rotation(this.get_rotation() + a.baseRotation);
                        this.updatePosition(a);
                        break;
                    case "scaleX":
                        a.set_scaleX(this.get_scaleX() * a.baseScaleX);
                        this.updatePosition(a);
                        break;
                    case "scaleY":
                        a.set_scaleY(this.get_scaleY() *
                            a.baseScaleY);
                        this.updatePosition(a);
                        break;
                    case "visible":
                        a.set_visible(this.get_visible())
                }
            },
            updatePosition: function(a) {
                var b = {
                        x: this.get_x(),
                        y: this.get_y()
                    },
                    c = {
                        x: 0,
                        y: 0
                    };
                c.x = this.get_x() + a.baseX * this.get_scaleX();
                c.y = this.get_y() + a.baseY * this.get_scaleY();
                b = H.rotatePointByAngle(c, b, H.toRad(this.get_rotation()));
                a.set_x(b.x);
                a.set_y(b.y)
            },
            setFps: function(a) {
                this.frameTime = a / 60
            },
            set_x: function(a) {
                A.prototype.set_x.call(this, a);
                this.updateItemsOption("x");
                return a
            },
            set_y: function(a) {
                A.prototype.set_y.call(this,
                    a);
                this.updateItemsOption("y");
                return a
            },
            set_rotation: function(a) {
                A.prototype.set_rotation.call(this, a);
                this.updateItemsOption("rotation");
                return a
            },
            set_scaleX: function(a) {
                A.prototype.set_scaleX.call(this, a);
                this.updateItemsOption("scaleX");
                return a
            },
            set_scaleY: function(a) {
                A.prototype.set_scaleY.call(this, a);
                this.updateItemsOption("scaleY");
                return a
            },
            set_visible: function(a) {
                A.prototype.set_visible.call(this, a);
                this.updateItemsOption("visible");
                return a
            },
            free: function() {
                Ib.get_instance().del(this);
                this.freeItems();
                this.config = null
            },
            freeItems: function() {
                for (var a = 0, b = this.items; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.free()
                }
                this.items = [];
                this.items = null;
                a = 0;
                for (b = this.cachedItems; a < b.length;) c = b[a], ++a, c.free();
                this.cachedItems = [];
                this.cachedItems = null
            },
            __class__: nd
        });
        var Fa = function() {
            if (null != Fa._instance) throw "Error: Allready inited. Use instance instead;";
            this.layers = []
        };
        h["com.alagatar.tiles.TilelayerManager"] = Fa;
        Fa.__name__ = ["com", "alagatar", "tiles", "TilelayerManager"];
        Fa.__properties__ = {
            get_instance: "get_instance"
        };
        Fa._instance = null;
        Fa.get_instance = function() {
            null == Fa._instance && (Fa._instance = new Fa);
            return Fa._instance
        };
        Fa.prototype = {
            init: function(a) {
                this.target = a
            },
            create: function(a, b, c) {
                b = X.getText(b);
                c = X.getBitmapData(c);
                c = new mg(c, b);
                c = new ng(c);
                this.target.addChild(c.view);
                this.layers.push({
                    id: a,
                    layer: c
                })
            },
            get: function(a) {
                for (var b = 0, c = this.layers; b < c.length;) {
                    var d = c[b];
                    ++b;
                    if (d.id == a) return d.layer
                }
                return null
            },
            update: function() {
                for (var a = 0, b = this.layers; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.layer.render()
                }
            },
            free: function() {
                this.target = null;
                this.layers = []
            },
            __class__: Fa
        };
        var xa = function(a, b) {
            null == b && (b = !0);
            A.call(this);
            null != a && this.createGraphFrom(a, b);
            this.init()
        };
        h["com.alagatar.ui.Button"] = xa;
        xa.__name__ = ["com", "alagatar", "ui", "Button"];
        xa.__super__ = A;
        xa.prototype = v(A.prototype, {
            init: function() {
                this.scaleChange = 1.122;
                this.zoomInTime = .1575;
                this.zoomOutTime = .063;
                this.paramsSet = !1;
                this.timeToClick = .3;
                this.tileMode = this.touchActive = !1;
                this.addEventListener(N.MOUSE_DOWN, l(this, this.touchDown));
                this.addEventListener(N.MOUSE_UP,
                    l(this, this.touchUp))
            },
            createGraphFrom: function(a, b) {
                null == b && (b = !0);
                var c = oa.buildSprite(a);
                c.set_smooth(b);
                this.setGraph(c)
            },
            setGraph: function(a) {
                this.addChild(a);
                this.graph = a;
                this.graphAlpha = this.graph.get_alpha();
                this.graphScaleX = this.graph.get_scaleX();
                this.graphScaleY = this.graph.get_scaleY()
            },
            setTileGraph: function(a) {
                this.tileGraph = a;
                this.tileMode = !0
            },
            touchDown: function(a) {
                this.touchActive = !0
            },
            touchUp: function(a) {
                0 != this.touchActive && (this.touchActive = !1, null != this.graph && (0 == this.paramsSet &&
                    (this.paramsSet = !0, this.initParams()), this.startAnim()))
            },
            startAnim: function() {
                1 == P.inited && P.get_instance().playSound("click");
                this.reset();
                this.zoomIn();
                this.dispatchEvent(new z("b_start", !0))
            },
            initParams: function() {
                this.graphAlpha = this.get_alpha();
                this.graphScaleX = this.get_scaleX();
                this.graphScaleY = this.get_scaleY()
            },
            zoomIn: function() {
                r.to(1 == this.tileMode ? this.tileGraph : this, {
                        scaleX: this.graphScaleX * this.scaleChange,
                        scaleY: this.graphScaleY * this.scaleChange
                    }, null, null, null, null, null, null, null,
                    null, {
                        fileName: "Button.hx",
                        lineNumber: 157,
                        className: "com.alagatar.ui.Button",
                        methodName: "zoomIn"
                    }).time(this.zoomInTime).onFinish(l(this, this.zoomOut)).ease(lb.quintInOut)
            },
            zoomOut: function() {
                r.to(1 == this.tileMode ? this.tileGraph : this, {
                    scaleX: this.graphScaleX,
                    scaleY: this.graphScaleY
                }, null, null, null, null, null, null, null, null, {
                    fileName: "Button.hx",
                    lineNumber: 174,
                    className: "com.alagatar.ui.Button",
                    methodName: "zoomOut"
                }).time(this.zoomOutTime).onFinish(l(this, this.completeAnim)).ease(lb.linear)
            },
            completeAnim: function() {
                this.reset();
                this.dispatchEvent(new z("b_complete"))
            },
            reset: function() {
                this.set_alpha(this.graphAlpha);
                this.set_scaleX(this.graphScaleX);
                this.set_scaleY(this.graphScaleY)
            },
            addChild: function(a) {
                A.prototype.addChild.call(this, a);
                this.fixScale();
                return a
            },
            fixScale: function() {
                this.set_scaleX(1.0001 * this.get_scaleX());
                this.set_scaleY(1.0001 * this.get_scaleY())
            },
            free: function() {
                this.tileGraph = this.graph = null
            },
            __class__: xa
        });
        var kb = h["com.alagatar.ui.ButtonState"] = {
            __ename__: ["com", "alagatar", "ui", "ButtonState"],
            __constructs__: ["ON",
                "OFF"
            ]
        };
        kb.ON = ["ON", 0];
        kb.ON.toString = w;
        kb.ON.__enum__ = kb;
        kb.OFF = ["OFF", 1];
        kb.OFF.toString = w;
        kb.OFF.__enum__ = kb;
        var Sd = function(a, b) {
            A.call(this);
            this.init(a, b)
        };
        h["com.alagatar.ui.ButtonToggle"] = Sd;
        Sd.__name__ = ["com", "alagatar", "ui", "ButtonToggle"];
        Sd.__super__ = A;
        Sd.prototype = v(A.prototype, {
            init: function(a, b) {
                this.scaleChange = 1.122;
                this.zoomInTime = .1575;
                this.zoomOutTime = .063;
                this.touchActive = this.configInited = !1;
                this.config = {
                    alpha: 1,
                    scaleX: 1,
                    scaleY: 1
                };
                null != a && this.setGraph(oa.buildSprite(a), kb.ON);
                null != b && this.setGraph(oa.buildSprite(b), kb.OFF);
                this.setSmooth(!0);
                this.setState(kb.ON);
                this.addControls()
            },
            setGraph: function(a, b) {
                this.removeState(b);
                this.addChild(a);
                b == kb.ON ? this.graph1 = a : this.graph2 = a
            },
            removeState: function(a) {
                a = a == kb.ON ? this.graph1 : this.graph2;
                null != a && this.removeChild(a)
            },
            setState: function(a) {
                this.state = a;
                null != this.graph1 && null != this.graph2 && (this.state == kb.ON ? (this.graph1.set_visible(!0), this.graph2.set_visible(!1)) : (this.graph1.set_visible(!1), this.graph2.set_visible(!0)))
            },
            addControls: function() {
                this.addEventListener(N.MOUSE_DOWN, l(this, this.touchDown));
                this.addEventListener(N.MOUSE_UP, l(this, this.touchUp))
            },
            touchDown: function(a) {
                this.touchActive = !0
            },
            touchUp: function(a) {
                0 != this.touchActive && (this.touchActive = !1, 0 == this.configInited && (this.configInited = !0, this.initParams()), this.startAnim())
            },
            startAnim: function() {
                P.get_instance().playSound("click");
                this.reset();
                this.zoomIn();
                this.dispatchEvent(new z("start", !0))
            },
            initParams: function() {
                this.config.alpha = this.get_alpha();
                this.config.scaleX = this.get_scaleX();
                this.config.scaleY = this.get_scaleY()
            },
            zoomIn: function() {
                r.to(this, {
                    scaleX: this.config.scaleX * this.scaleChange,
                    scaleY: this.config.scaleY * this.scaleChange
                }, null, null, null, null, null, null, null, null, {
                    fileName: "ButtonToggle.hx",
                    lineNumber: 179,
                    className: "com.alagatar.ui.ButtonToggle",
                    methodName: "zoomIn"
                }).time(this.zoomInTime).onFinish(l(this, this.zoomOut)).ease(lb.quintInOut)
            },
            zoomOut: function() {
                r.to(this, {
                        scaleX: this.config.scaleX,
                        scaleY: this.config.scaleY
                    }, null, null,
                    null, null, null, null, null, null, {
                        fileName: "ButtonToggle.hx",
                        lineNumber: 184,
                        className: "com.alagatar.ui.ButtonToggle",
                        methodName: "zoomOut"
                    }).time(this.zoomOutTime).onFinish(l(this, this.completeAnim)).ease(lb.linear)
            },
            completeAnim: function() {
                this.reset();
                this.switchState();
                this.dispatchEvent(new z("complete", !0));
                this.dispatchEvent(new z("changeState", !0))
            },
            reset: function() {
                this.set_alpha(this.config.alpha);
                this.set_scaleX(this.config.scaleX);
                this.set_scaleY(this.config.scaleY)
            },
            switchState: function() {
                var a =
                    kb.ON;
                this.state == kb.ON && (a = kb.OFF);
                this.setState(a)
            },
            addChild: function(a) {
                A.prototype.addChild.call(this, a);
                this.fixScale();
                return a
            },
            fixScale: function() {
                this.set_scaleX(1.0001 * this.get_scaleX());
                this.set_scaleY(1.0001 * this.get_scaleY())
            },
            setSmooth: function(a) {
                1 == D.__instanceof(this.graph1, oa) && D.__cast(this.graph1, oa).set_smooth(a);
                1 == D.__instanceof(this.graph2, oa) && D.__cast(this.graph2, oa).set_smooth(a)
            },
            __class__: Sd
        });
        var Ua = function() {
            Lb.call(this);
            this.__height = this.__width = 100;
            this.__text =
                "";
            this.set_type(pd.DYNAMIC);
            this.set_autoSize(Za.NONE);
            this.embedFonts = this.displayAsPassword = !1;
            this.selectable = !0;
            this.set_borderColor(0);
            this.set_border(!1);
            this.set_backgroundColor(16777215);
            this.set_background(!1);
            this.gridFitType = Dc.PIXEL;
            this.maxChars = 0;
            this.multiline = !1;
            this.scrollH = this.sharpness = 0;
            this.scrollV = 1;
            this.set_wordWrap(!1);
            null == Ua.__defaultTextFormat && (Ua.__defaultTextFormat = new Af("Times New Roman", 12, 0, !1, !1, !1, "", "", qa.LEFT, 0, 0, 0, 0), Ua.__defaultTextFormat.blockIndent = 0, Ua.__defaultTextFormat.bullet = !1, Ua.__defaultTextFormat.letterSpacing = 0, Ua.__defaultTextFormat.kerning = !1);
            this.__textFormat = Ua.__defaultTextFormat.clone()
        };
        h["openfl.text.TextField"] = Ua;
        Ua.__name__ = ["openfl", "text", "TextField"];
        Ua.__defaultTextFormat = null;
        Ua.__super__ = Lb;
        Ua.prototype = v(Lb.prototype, {
            setTextFormat: function(a, b, c) {
                null != a.font && (this.__textFormat.font = a.font);
                null != a.size && (this.__textFormat.size = a.size);
                null != a.color && (this.__textFormat.color = a.color);
                null != a.bold && (this.__textFormat.bold = a.bold);
                null != a.italic &&
                    (this.__textFormat.italic = a.italic);
                null != a.underline && (this.__textFormat.underline = a.underline);
                null != a.url && (this.__textFormat.url = a.url);
                null != a.target && (this.__textFormat.target = a.target);
                null != a.align && (this.__textFormat.align = a.align);
                null != a.leftMargin && (this.__textFormat.leftMargin = a.leftMargin);
                null != a.rightMargin && (this.__textFormat.rightMargin = a.rightMargin);
                null != a.indent && (this.__textFormat.indent = a.indent);
                null != a.leading && (this.__textFormat.leading = a.leading);
                null != a.blockIndent && (this.__textFormat.blockIndent =
                    a.blockIndent);
                null != a.bullet && (this.__textFormat.bullet = a.bullet);
                null != a.kerning && (this.__textFormat.kerning = a.kerning);
                null != a.letterSpacing && (this.__textFormat.letterSpacing = a.letterSpacing);
                null != a.tabStops && (this.__textFormat.tabStops = a.tabStops);
                this.__dirty = !0
            },
            __disableInputMode: function() {
                this.this_onRemovedFromStage(null)
            },
            __enableInputMode: function() {
                this.__cursorPosition = -1;
                null == this.__hiddenInput && (this.__hiddenInput = window.document.createElement("input"), this.__hiddenInput.type = "text",
                    this.__hiddenInput.style.position = "absolute", this.__hiddenInput.style.opacity = "0", this.__hiddenInput.style.pointerEvents = "none", this.__hiddenInput.style.left = this.get_x() + (null != this.__canvas ? this.__canvas.offsetLeft : 0) + "px", this.__hiddenInput.style.top = this.get_y() + (null != this.__canvas ? this.__canvas.offsetTop : 0) + "px", this.__hiddenInput.style.width = this.__width + "px", this.__hiddenInput.style.height = this.__height + "px", this.__hiddenInput.style.zIndex = "0", 0 < this.maxChars && (this.__hiddenInput.maxLength =
                        this.maxChars), window.document.body.appendChild(this.__hiddenInput), this.__hiddenInput.value = this.__text);
                null != this.stage ? this.this_onAddedToStage(null) : (this.addEventListener(z.ADDED_TO_STAGE, l(this, this.this_onAddedToStage)), this.addEventListener(z.REMOVED_FROM_STAGE, l(this, this.this_onRemovedFromStage)))
            },
            __getBounds: function(a, b) {
                var c = new ib(0, 0, this.__width, this.__height);
                c.transform(this.__worldTransform);
                a.__expand(c.x, c.y, c.width, c.height)
            },
            __getFont: function(a) {
                var b;
                b = a.italic ? "italic " :
                    "normal ";
                b += "normal ";
                b = a.bold ? b + "bold " : b + "normal ";
                b += a.size + "px";
                b += "/" + (a.size + a.leading + 4) + "px ";
                switch (a.font) {
                    case "_sans":
                        a = "sans-serif";
                        break;
                    case "_serif":
                        a = "serif";
                        break;
                    case "_typewriter":
                        a = "monospace";
                        break;
                    default:
                        a = a.font
                }
                b += "'" + a;
                return b + "'"
            },
            __getPosition: function(a, b) {
                var c = this.get_text(),
                    d = 0,
                    e = c.length;
                if (a < this.__getTextWidth(c))
                    for (var f = 0, k = c.length; f < k;) {
                        var q = f++,
                            d = d + this.__getTextWidth(c.charAt(q));
                        if (d >= a) {
                            e = q;
                            break
                        }
                    }
                return e
            },
            __getTextWidth: function(a) {
                null == this.__context &&
                    (this.__canvas = window.document.createElement("canvas"), this.__context = this.__canvas.getContext("2d"));
                this.__context.font = this.__getFont(this.__textFormat);
                this.__context.textAlign = "left";
                return this.__context.measureText(a).width
            },
            __hitTest: function(a, b, c, d, e) {
                if (!this.get_visible() || e && !this.mouseEnabled) return !1;
                a = this.globalToLocal(new Ga(a, b));
                return 0 < a.x && 0 < a.y && a.x <= this.__width && a.y <= this.__height ? (null != d && d.push(this), !0) : !1
            },
            __measureText: function() {
                if (null == this.__ranges) return this.__context.font =
                    this.__getFont(this.__textFormat), [this.__context.measureText(this.__text).width];
                for (var a = [], b = 0, c = this.__ranges; b < c.length;) {
                    var d = c[b];
                    ++b;
                    this.__context.font = this.__getFont(d.format);
                    a.push(this.__context.measureText(this.get_text().substring(d.start, d.end)).width)
                }
                return a
            },
            __measureTextWithDOM: function() {
                var a = this.__div;
                null == this.__div && (a = window.document.createElement("div"), a.innerHTML = (new ea("\n", "g")).replace(this.__text, "<br>"), a.style.setProperty("font", this.__getFont(this.__textFormat),
                    null), a.style.position = "absolute", a.style.top = "110%", window.document.body.appendChild(a));
                this.__measuredWidth = a.clientWidth;
                null == this.__div && (a.style.width = G.string(this.__width) + "px");
                this.__measuredHeight = a.clientHeight;
                null == this.__div && window.document.body.removeChild(a)
            },
            __renderCanvas: function(a) {
                ra.render(this, a)
            },
            __renderDOM: function(a) {
                jj.render(this, a)
            },
            __renderGL: function(a) {
                kj.render(this, a)
            },
            __startCursorTimer: function() {
                this.__cursorTimer = ob.delay(l(this, this.__startCursorTimer), 500);
                this.__showCursor = !this.__showCursor;
                this.__dirty = !0
            },
            __stopCursorTimer: function() {
                null != this.__cursorTimer && this.__cursorTimer.stop()
            },
            input_onKeyUp: function(a) {
                this.__isKeyDown = !1;
                null == a && a == window.event;
                this.__text = this.__hiddenInput.value;
                this.__ranges = null;
                this.__isHTML = !1;
                this.__selectionStart = this.__cursorPosition = this.__hiddenInput.selectionStart;
                this.__dirty = !0;
                this.dispatchEvent(new z(z.CHANGE, !0))
            },
            input_onKeyDown: function(a) {
                this.__isKeyDown = !0;
                null == a && a == window.event;
                var b = a.which;
                65 == b && (a.ctrlKey || a.metaKey) ? (this.__hiddenInput.selectionStart = 0, this.__hiddenInput.selectionEnd = this.get_text().length, a.preventDefault(), this.__dirty = !0) : 17 == b || a.metaKey || a.ctrlKey || (this.__text = this.__hiddenInput.value, this.__ranges = null, this.__isHTML = !1, this.__selectionStart = this.__hiddenInput.selectionStart, this.__dirty = !0)
            },
            stage_onFocusOut: function(a) {
                this.__cursorPosition = -1;
                this.__hasFocus = !1;
                this.__stopCursorTimer();
                this.__hiddenInput.blur();
                this.__dirty = !0
            },
            stage_onMouseMove: function(a) {
                this.__hasFocus &&
                    0 <= this.__selectionStart && (this.__cursorPosition = this.__getPosition(a.localX, a.localY), this.__dirty = !0)
            },
            stage_onMouseUp: function(a) {
                var b = this.__getPosition(a.localX, a.localY);
                a = G["int"](Math.min(this.__selectionStart, b));
                b = G["int"](Math.max(this.__selectionStart, b));
                this.__selectionStart = a;
                this.__cursorPosition = b;
                this.stage.removeEventListener(N.MOUSE_MOVE, l(this, this.stage_onMouseMove));
                this.stage.addEventListener(N.MOUSE_UP, l(this, this.stage_onMouseUp));
                this.stage.set_focus(this);
                0 > this.__cursorPosition &&
                    (this.__selectionStart = this.__cursorPosition = this.__text.length);
                this.__hiddenInput.focus();
                this.__hiddenInput.selectionStart = this.__selectionStart;
                this.__hiddenInput.selectionEnd = this.__cursorPosition;
                this.__stopCursorTimer();
                this.__startCursorTimer();
                this.__dirty = this.__hasFocus = !0
            },
            this_onAddedToStage: function(a) {
                this.stage.addEventListener(cc.FOCUS_OUT, l(this, this.stage_onFocusOut));
                this.__hiddenInput.addEventListener("keydown", l(this, this.input_onKeyDown));
                this.__hiddenInput.addEventListener("keyup",
                    l(this, this.input_onKeyUp));
                this.__hiddenInput.addEventListener("input", l(this, this.input_onKeyUp));
                this.addEventListener(N.MOUSE_DOWN, l(this, this.this_onMouseDown))
            },
            this_onMouseDown: function(a) {
                this.__selectionStart = this.__getPosition(a.localX, a.localY);
                this.stage.addEventListener(N.MOUSE_MOVE, l(this, this.stage_onMouseMove));
                this.stage.addEventListener(N.MOUSE_UP, l(this, this.stage_onMouseUp))
            },
            this_onRemovedFromStage: function(a) {
                null != this.stage && this.stage.removeEventListener(cc.FOCUS_OUT, l(this,
                    this.stage_onFocusOut));
                null != this.__hiddenInput && this.__hiddenInput.removeEventListener("keydown", l(this, this.input_onKeyDown));
                null != this.__hiddenInput && this.__hiddenInput.removeEventListener("keyup", l(this, this.input_onKeyUp));
                null != this.__hiddenInput && this.__hiddenInput.removeEventListener("input", l(this, this.input_onKeyUp));
                this.removeEventListener(N.MOUSE_DOWN, l(this, this.this_onMouseDown));
                null != this.stage && this.stage.removeEventListener(N.MOUSE_MOVE, l(this, this.stage_onMouseMove));
                null != this.stage &&
                    this.stage.removeEventListener(N.MOUSE_UP, l(this, this.stage_onMouseUp))
            },
            set_autoSize: function(a) {
                a != this.autoSize && (this.__dirty = !0);
                return this.autoSize = a
            },
            set_background: function(a) {
                a != this.background && (this.__dirty = !0);
                return this.background = a
            },
            set_backgroundColor: function(a) {
                a != this.backgroundColor && (this.__dirty = !0);
                return this.backgroundColor = a
            },
            set_border: function(a) {
                a != this.border && (this.__dirty = !0);
                return this.border = a
            },
            set_borderColor: function(a) {
                a != this.borderColor && (this.__dirty = !0);
                return this.borderColor = a
            },
            get_defaultTextFormat: function() {
                return this.__textFormat.clone()
            },
            set_defaultTextFormat: function(a) {
                this.__textFormat.__merge(a);
                return a
            },
            get_height: function() {
                return this.__height * this.get_scaleY()
            },
            set_height: function(a) {
                if (1 != this.get_scaleY() || a != this.__height) this.__transformDirty || (this.__transformDirty = !0, ia.__worldTransformDirty++), this.__dirty = !0;
                this.set_scaleY(1);
                return this.__height = a
            },
            get_text: function() {
                return this.__text
            },
            set_text: function(a) {
                this.__text !=
                    a && null != this.__hiddenInput && (this.__hiddenInput.value = a);
                if (this.__isHTML || this.__text != a) this.__dirty = !0;
                this.__ranges = null;
                this.__isHTML = !1;
                return this.__text = a
            },
            get_textWidth: function() {
                if (null != this.__canvas) {
                    for (var a = this.__measureText(), b = 0, c = 0; c < a.length;) {
                        var d = a[c];
                        ++c;
                        b += d
                    }
                    return b
                }
                if (null != this.__div) return this.__div.clientWidth;
                this.__measureTextWithDOM();
                return this.__measuredWidth
            },
            get_textHeight: function() {
                if (null != this.__canvas) return 1.185 * this.__textFormat.size;
                if (null != this.__div) return this.__div.clientHeight;
                this.__measureTextWithDOM();
                return this.__measuredHeight + .185 * this.__textFormat.size
            },
            set_type: function(a) {
                a != this.type && (a == pd.INPUT ? this.__enableInputMode() : this.__disableInputMode(), this.__dirty = !0);
                return this.type = a
            },
            get_width: function() {
                return this.autoSize == Za.LEFT ? (this.get_textWidth() + 4) * this.get_scaleX() : this.__width * this.get_scaleX()
            },
            set_width: function(a) {
                if (1 != this.get_scaleX() || this.__width != a) this.__transformDirty || (this.__transformDirty = !0, ia.__worldTransformDirty++), this.__dirty = !0;
                this.set_scaleX(1);
                return this.__width = a
            },
            set_wordWrap: function(a) {
                return this.wordWrap = a
            },
            __class__: Ua,
            __properties__: v(Lb.prototype.__properties__, {
                get_textHeight: "get_textHeight",
                get_textWidth: "get_textWidth",
                set_text: "set_text",
                get_text: "get_text",
                set_defaultTextFormat: "set_defaultTextFormat",
                get_defaultTextFormat: "get_defaultTextFormat",
                set_wordWrap: "set_wordWrap",
                set_type: "set_type",
                set_borderColor: "set_borderColor",
                set_border: "set_border",
                set_backgroundColor: "set_backgroundColor",
                set_background: "set_background",
                set_autoSize: "set_autoSize"
            })
        });
        var Ce = function() {
            Ua.call(this);
            this.init()
        };
        h["com.alagatar.ui.Label"] = Ce;
        Ce.__name__ = ["com", "alagatar", "ui", "Label"];
        Ce.__super__ = Ua;
        Ce.prototype = v(Ua.prototype, {
            init: function() {
                var a = new Af(null, 12, 0);
                a.align = qa.LEFT;
                this.set_autoSize(Za.LEFT);
                this.set_defaultTextFormat(a);
                this.setTextFormat(a);
                this.mouseEnabled = this.selectable = !1;
                this.set_align("left")
            },
            set_color: function(a) {
                this.color = a;
                a = this.get_defaultTextFormat();
                a.color = this.color;
                this.set_defaultTextFormat(a);
                this.setTextFormat(a);
                return this.color
            },
            set_size: function(a) {
                this.size = a;
                a = this.get_defaultTextFormat();
                a.size = this.size;
                this.set_defaultTextFormat(a);
                this.setTextFormat(a);
                return this.size
            },
            set_font: function(a) {
                this.font = a;
                a = this.get_defaultTextFormat();
                var b = X.getFont(this.font);
                a.font = b.get_fontName();
                this.set_defaultTextFormat(a);
                this.setTextFormat(a);
                this.embedFonts = !0;
                return this.font
            },
            set_fieldWidth: function(a) {
                this.fieldWidth = a;
                this.set_autoSize(Za.NONE);
                this.set_width(this.fieldWidth);
                this.set_align(this.align);
                return this.fieldWidth
            },
            set_fieldHeight: function(a) {
                this.fieldHeight = a;
                this.set_autoSize(Za.NONE);
                this.set_height(this.fieldHeight);
                this.set_align(this.align);
                return this.fieldWidth
            },
            set_align: function(a) {
                this.align = a;
                a = this.get_defaultTextFormat();
                switch (this.align) {
                    case "left":
                        a.align = qa.LEFT;
                        break;
                    case "center":
                        a.align = qa.CENTER;
                        break;
                    case "right":
                        a.align = qa.RIGHT
                }
                this.set_defaultTextFormat(a);
                this.setTextFormat(a);
                return this.align
            },
            set_y: function(a) {
                Ua.prototype.set_y.call(this, a);
                return a
            },
            __class__: Ce,
            __properties__: v(Ua.prototype.__properties__, {
                set_align: "set_align",
                set_fieldHeight: "set_fieldHeight",
                set_fieldWidth: "set_fieldWidth",
                set_font: "set_font",
                set_size: "set_size",
                set_color: "set_color"
            })
        });
        var Kh = function() {
            this.init()
        };
        h["dynamics.Eagle"] = Kh;
        Kh.__name__ = ["dynamics", "Eagle"];
        Kh.prototype = {
            init: function() {
                this.space = 50;
                this.start = -200;
                this.backSpace = 300;
                this.tween2 = this.tween = null;
                var a = O.instance.getAnimationConfig("hero5");
                this.anim = new nd("tilelayer1", a);
                this.anim.set_y(-200);
                this.anim.setFps(70);
                Fa.get_instance().update()
            },
            moveHeroTo: function(a, b, c) {
                this.target = a;
                this.targetY = c;
                this.target.set_y(this.start - this.space);
                this.anim.set_y(this.start);
                this.anim.set_x(this.target.get_x());
                this.anim.play(!0);
                a = c - this.space;
                b = c + 20;
                this.dist = Math.abs(this.start - c);
                c = this.dist / 100 * .2;
                1.15 < c && (c = 1.15);
                this.tween = r.to(this.target, {
                    y: a
                }, null, null, null, null, null, null, null, null, {
                    fileName: "Eagle.hx",
                    lineNumber: 67,
                    className: "dynamics.Eagle",
                    methodName: "moveHeroTo"
                }).time(c).onFinish(l(this,
                    this.completeMoveTo)).ease(lb.cubicOut);
                this.tween2 = r.to(this.anim, {
                    y: b
                }, null, null, null, null, null, null, null, null, {
                    fileName: "Eagle.hx",
                    lineNumber: 68,
                    className: "dynamics.Eagle",
                    methodName: "moveHeroTo"
                }).time(c).ease(lb.cubicOut);
                P.get_instance().playSound("eagle")
            },
            completeMoveTo: function() {
                this.tween = r.to(this.target, {
                    y: this.targetY
                }, null, null, null, null, null, null, null, null, {
                    fileName: "Eagle.hx",
                    lineNumber: 75,
                    className: "dynamics.Eagle",
                    methodName: "completeMoveTo"
                }).time(.2).ease(lb.backIn).onFinish(l(this,
                    this.startHero));
                this.completeWait()
            },
            startHero: function() {
                null != this.target && (this.target.completeShow(), this.target = null)
            },
            completeWait: function() {
                var a = -this.backSpace;
                5 < H.randTo(0, 10) && (a = 1280 + this.backSpace);
                this.dist = H.calcDistOfDots(this.anim.get_x(), this.anim.get_y(), a, this.start);
                var b = this.dist / 100 * .15;
                this.tween = r.to(this.anim, {
                    x: a,
                    y: this.start
                }, null, null, null, null, null, null, null, null, {
                    fileName: "Eagle.hx",
                    lineNumber: 100,
                    className: "dynamics.Eagle",
                    methodName: "completeWait"
                }).time(b).ease(lb.cubicIn).onFinish(l(this,
                    this.free))
            },
            free: function() {
                null != this.anim && (this.anim.free(), this.anim = null);
                this.target = null;
                null != this.tween && (this.tween.stop(), this.tween = null);
                null != this.tween2 && (this.tween2.stop(), this.tween2 = null)
            },
            __class__: Kh
        };
        var yg = function() {
            A.call(this);
            this.init()
        };
        h["dynamics.Heart"] = yg;
        yg.__name__ = ["dynamics", "Heart"];
        yg.__super__ = A;
        yg.prototype = v(A.prototype, {
            init: function() {
                this.active = !0;
                this.waveLength = 50;
                this.waveHeight = 80;
                var a = oa.buildSprite("assets/images/heart.png");
                this.addChild(a)
            },
            start: function(a) {
                null == a && (a = !0);
                this.active = !0;
                this.set_alpha(0);
                this.starX = this.get_x();
                this.set_scaleX(1);
                this.set_scaleY(1);
                if (0 == a && 0 < this.waveLength || 1 == a && 0 > this.waveLength) this.waveLength *= -1;
                this.tween = r.parallel([r.to(this, {
                    alpha: 1
                }, null, null, null, null, null, null, null, null, {
                    fileName: "Heart.hx",
                    lineNumber: 49,
                    className: "dynamics.Heart",
                    methodName: "start"
                }).time(.5), r.to(this, {
                    y: this.get_y() - 220,
                    scaleX: .6,
                    scaleY: .6
                }, null, null, null, null, null, null, null, null, {
                    fileName: "Heart.hx",
                    lineNumber: 50,
                    className: "dynamics.Heart",
                    methodName: "start"
                }).onUpdate(l(this, this.update)).time(7).onFinish(l(this, this.complete)), r.to(this, {
                    alpha: 0
                }, null, null, null, null, null, null, null, null, {
                    fileName: "Heart.hx",
                    lineNumber: 51,
                    className: "dynamics.Heart",
                    methodName: "start"
                }).time(5.5).delay(1.5)], null, {
                    fileName: "Heart.hx",
                    lineNumber: 48,
                    className: "dynamics.Heart",
                    methodName: "start"
                })
            },
            update: function() {
                this.set_x(Math.sin(this.get_y() / this.waveLength) * this.waveHeight + this.starX)
            },
            complete: function() {
                0 != this.active &&
                    (this.active = !1)
            },
            free: function() {
                this.active = !1;
                this.tween.stop();
                this.tween = null
            },
            __class__: yg
        });
        var ze = function() {};
        h["haxe.Resource"] = ze;
        ze.__name__ = ["haxe", "Resource"];
        ze.content = null;
        ze.getString = function(a) {
            for (var b = 0, c = ze.content; b < c.length;) {
                var d = c[b];
                ++b;
                if (d.name == a) return null != d.str ? d.str : Te.decode(d.data).toString()
            }
            return null
        };
        var qd = function() {
            this.buf = new Pe;
            this.cache = [];
            this.useCache = qd.USE_CACHE;
            this.useEnumIndex = qd.USE_ENUM_INDEX;
            this.shash = new Da;
            this.scount = 0
        };
        h["haxe.Serializer"] =
            qd;
        qd.__name__ = ["haxe", "Serializer"];
        qd.run = function(a) {
            var b = new qd;
            b.serialize(a);
            return b.toString()
        };
        qd.prototype = {
            toString: function() {
                return this.buf.b
            },
            serializeString: function(a) {
                var b = this.shash.get(a);
                null != b ? (this.buf.b += "R", this.buf.b = null == b ? this.buf.b + "null" : this.buf.b + ("" + b)) : (this.shash.set(a, this.scount++), this.buf.b += "y", a = encodeURIComponent(a), this.buf.b = null == a.length ? this.buf.b + "null" : this.buf.b + ("" + a.length), this.buf.b += ":", this.buf.b = null == a ? this.buf.b + "null" : this.buf.b + ("" +
                    a))
            },
            serializeRef: function(a) {
                for (var b = typeof a, c = 0, d = this.cache.length; c < d;) {
                    var e = c++,
                        f = this.cache[e];
                    if (typeof f == b && f == a) return this.buf.b += "r", this.buf.b = null == e ? this.buf.b + "null" : this.buf.b + ("" + e), !0
                }
                this.cache.push(a);
                return !1
            },
            serializeFields: function(a) {
                for (var b = 0, c = Q.fields(a); b < c.length;) {
                    var d = c[b];
                    ++b;
                    this.serializeString(d);
                    this.serialize(Q.field(a, d))
                }
                this.buf.b += "g"
            },
            serialize: function(a) {
                var b = U["typeof"](a);
                switch (b[1]) {
                    case 0:
                        this.buf.b += "n";
                        break;
                    case 1:
                        if (0 == a) {
                            this.buf.b +=
                                "z";
                            break
                        }
                        this.buf.b += "i";
                        this.buf.b = null == a ? this.buf.b + "null" : this.buf.b + ("" + a);
                        break;
                    case 2:
                        Math.isNaN(a) ? this.buf.b += "k" : Math.isFinite(a) ? (this.buf.b += "d", this.buf.b = null == a ? this.buf.b + "null" : this.buf.b + ("" + a)) : this.buf.b = 0 > a ? this.buf.b + "m" : this.buf.b + "p";
                        break;
                    case 3:
                        this.buf.b = a ? this.buf.b + "t" : this.buf.b + "f";
                        break;
                    case 6:
                        b = b[2];
                        if (b == String) {
                            this.serializeString(a);
                            break
                        }
                        if (this.useCache && this.serializeRef(a)) break;
                        switch (b) {
                            case Array:
                                b = 0;
                                this.buf.b += "a";
                                for (var c = a.length, d = 0; d < c;) {
                                    var e = d++;
                                    null == a[e] ? b++ : (0 < b && (1 == b ? this.buf.b += "n" : (this.buf.b += "u", this.buf.b = null == b ? this.buf.b + "null" : this.buf.b + ("" + b)), b = 0), this.serialize(a[e]))
                                }
                                0 < b && (1 == b ? this.buf.b += "n" : (this.buf.b += "u", this.buf.b = null == b ? this.buf.b + "null" : this.buf.b + ("" + b)));
                                this.buf.b += "h";
                                break;
                            case qf:
                                this.buf.b += "l";
                                for (a = a.iterator(); a.hasNext();) b = a.next(), this.serialize(b);
                                this.buf.b += "h";
                                break;
                            case Date:
                                this.buf.b += "v";
                                this.buf.add(J.dateStr(a));
                                break;
                            case Da:
                                this.buf.b += "b";
                                for (b = a.keys(); b.hasNext();) c = b.next(), this.serializeString(c),
                                    this.serialize(a.get(c));
                                this.buf.b += "h";
                                break;
                            case Bf:
                                this.buf.b += "q";
                                for (b = a.keys(); b.hasNext();) c = b.next(), this.buf.b += ":", this.buf.b = null == c ? this.buf.b + "null" : this.buf.b + ("" + c), this.serialize(a.get(c));
                                this.buf.b += "h";
                                break;
                            case Yc:
                                this.buf.b += "M";
                                for (b = a.keys(); b.hasNext();) c = b.next(), d = Q.field(c, "__id__"), Q.deleteField(c, "__id__"), this.serialize(c), c.__id__ = d, this.serialize(a.h[c.__id__]);
                                this.buf.b += "h";
                                break;
                            case rd:
                                d = 0;
                                e = a.length - 2;
                                b = new Pe;
                                for (c = qd.BASE64; d < e;) {
                                    var f = a.get(d++),
                                        k = a.get(d++),
                                        q = a.get(d++);
                                    b.add(c.charAt(f >> 2));
                                    b.add(c.charAt((f << 4 | k >> 4) & 63));
                                    b.add(c.charAt((k << 2 | q >> 6) & 63));
                                    b.add(c.charAt(q & 63))
                                }
                                d == e ? (e = a.get(d++), a = a.get(d++), b.add(c.charAt(e >> 2)), b.add(c.charAt((e << 4 | a >> 4) & 63)), b.add(c.charAt(a << 2 & 63))) : d == e + 1 && (a = a.get(d++), b.add(c.charAt(a >> 2)), b.add(c.charAt(a << 4 & 63)));
                                a = b.b;
                                this.buf.b += "s";
                                this.buf.b = null == a.length ? this.buf.b + "null" : this.buf.b + ("" + a.length);
                                this.buf.b += ":";
                                this.buf.b = null == a ? this.buf.b + "null" : this.buf.b + ("" + a);
                                break;
                            default:
                                this.useCache && this.cache.pop(),
                                    null != a.hxSerialize ? (this.buf.b += "C", this.serializeString(U.getClassName(b)), this.useCache && this.cache.push(a), a.hxSerialize(this), this.buf.b += "g") : (this.buf.b += "c", this.serializeString(U.getClassName(b)), this.useCache && this.cache.push(a), this.serializeFields(a))
                        }
                        break;
                    case 4:
                        if (this.useCache && this.serializeRef(a)) break;
                        this.buf.b += "o";
                        this.serializeFields(a);
                        break;
                    case 7:
                        b = b[2];
                        if (this.useCache) {
                            if (this.serializeRef(a)) break;
                            this.cache.pop()
                        }
                        this.buf.b = this.useEnumIndex ? this.buf.b + "j" : this.buf.b +
                            "w";
                        this.serializeString(U.getEnumName(b));
                        this.useEnumIndex ? (this.buf.b += ":", this.buf.b += G.string(a[1])) : this.serializeString(a[0]);
                        this.buf.b += ":";
                        b = a.length;
                        this.buf.b += G.string(b - 2);
                        for (c = 2; c < b;) d = c++, this.serialize(a[d]);
                        this.useCache && this.cache.push(a);
                        break;
                    case 5:
                        throw "Cannot serialize function";
                    default:
                        throw "Cannot serialize " + G.string(a);
                }
            },
            __class__: qd
        };
        var ob = function(a) {
            var b = this;
            this.id = setInterval(function() {
                b.run()
            }, a)
        };
        h["haxe.Timer"] = ob;
        ob.__name__ = ["haxe", "Timer"];
        ob.delay = function(a,
            b) {
            var c = new ob(b);
            c.run = function() {
                c.stop();
                a()
            };
            return c
        };
        ob.prototype = {
            stop: function() {
                null != this.id && (clearInterval(this.id), this.id = null)
            },
            run: function() {},
            __class__: ob
        };
        var dc = function(a) {
            this.buf = a;
            this.length = a.length;
            this.pos = 0;
            this.scache = [];
            this.cache = [];
            a = dc.DEFAULT_RESOLVER;
            null == a && (a = U, dc.DEFAULT_RESOLVER = a);
            this.setResolver(a)
        };
        h["haxe.Unserializer"] = dc;
        dc.__name__ = ["haxe", "Unserializer"];
        dc.initCodes = function() {
            for (var a = [], b = 0, c = dc.BASE64.length; b < c;) {
                var d = b++;
                a[dc.BASE64.charCodeAt(d)] =
                    d
            }
            return a
        };
        dc.prototype = {
            setResolver: function(a) {
                this.resolver = null == a ? {
                    resolveClass: function(a) {
                        return null
                    },
                    resolveEnum: function(a) {
                        return null
                    }
                } : a
            },
            get: function(a) {
                return this.buf.charCodeAt(a)
            },
            readDigits: function() {
                for (var a = 0, b = !1, c = this.pos;;) {
                    var d = this.buf.charCodeAt(this.pos);
                    if (d != d) break;
                    if (45 == d) {
                        if (this.pos != c) break;
                        b = !0
                    } else {
                        if (48 > d || 57 < d) break;
                        a = 10 * a + (d - 48)
                    }
                    this.pos++
                }
                b && (a *= -1);
                return a
            },
            unserializeObject: function(a) {
                for (;;) {
                    if (this.pos >= this.length) throw "Invalid object";
                    if (103 ==
                        this.buf.charCodeAt(this.pos)) break;
                    var b = this.unserialize();
                    if ("string" != typeof b) throw "Invalid object key";
                    var c = this.unserialize();
                    a[b] = c
                }
                this.pos++
            },
            unserializeEnum: function(a, b) {
                if (58 != this.get(this.pos++)) throw "Invalid enum format";
                var c = this.readDigits();
                if (0 == c) return U.createEnum(a, b);
                for (var d = []; 0 < c--;) d.push(this.unserialize());
                return U.createEnum(a, b, d)
            },
            unserialize: function() {
                switch (this.get(this.pos++)) {
                    case 110:
                        return null;
                    case 116:
                        return !0;
                    case 102:
                        return !1;
                    case 122:
                        return 0;
                    case 105:
                        return this.readDigits();
                    case 100:
                        for (var a = this.pos;;) {
                            var b = this.buf.charCodeAt(this.pos);
                            if (43 <= b && 58 > b || 101 == b || 69 == b) this.pos++;
                            else break
                        }
                        return G.parseFloat(J.substr(this.buf, a, this.pos - a));
                    case 121:
                        a = this.readDigits();
                        if (58 != this.get(this.pos++) || this.length - this.pos < a) throw "Invalid string length";
                        b = J.substr(this.buf, this.pos, a);
                        this.pos += a;
                        b = decodeURIComponent(b.split("+").join(" "));
                        this.scache.push(b);
                        return b;
                    case 107:
                        return Math.NaN;
                    case 109:
                        return Math.NEGATIVE_INFINITY;
                    case 112:
                        return Math.POSITIVE_INFINITY;
                    case 97:
                        a = [];
                        for (this.cache.push(a);;) {
                            b = this.buf.charCodeAt(this.pos);
                            if (104 == b) {
                                this.pos++;
                                break
                            }
                            117 == b ? (this.pos++, b = this.readDigits(), a[a.length + b - 1] = null) : a.push(this.unserialize())
                        }
                        return a;
                    case 111:
                        return a = {}, this.cache.push(a), this.unserializeObject(a), a;
                    case 114:
                        a = this.readDigits();
                        if (0 > a || a >= this.cache.length) throw "Invalid reference";
                        return this.cache[a];
                    case 82:
                        a = this.readDigits();
                        if (0 > a || a >= this.scache.length) throw "Invalid string reference";
                        return this.scache[a];
                    case 120:
                        throw this.unserialize();
                    case 99:
                        a = this.unserialize();
                        b = this.resolver.resolveClass(a);
                        if (null == b) throw "Class not found " + a;
                        a = U.createEmptyInstance(b);
                        this.cache.push(a);
                        this.unserializeObject(a);
                        return a;
                    case 119:
                        a = this.unserialize();
                        b = this.resolver.resolveEnum(a);
                        if (null == b) throw "Enum not found " + a;
                        a = this.unserializeEnum(b, this.unserialize());
                        this.cache.push(a);
                        return a;
                    case 106:
                        a = this.unserialize();
                        b = this.resolver.resolveEnum(a);
                        if (null == b) throw "Enum not found " + a;
                        this.pos++;
                        var c = this.readDigits(),
                            d = U.getEnumConstructs(b)[c];
                        if (null == d) throw "Unknown enum index " + a + "@" + c;
                        a = this.unserializeEnum(b, d);
                        this.cache.push(a);
                        return a;
                    case 108:
                        a = new qf;
                        for (this.cache.push(a); 104 != this.buf.charCodeAt(this.pos);) a.add(this.unserialize());
                        this.pos++;
                        return a;
                    case 98:
                        a = new Da;
                        for (this.cache.push(a); 104 != this.buf.charCodeAt(this.pos);) b = this.unserialize(), a.set(b, this.unserialize());
                        this.pos++;
                        return a;
                    case 113:
                        a = new Bf;
                        this.cache.push(a);
                        for (b = this.get(this.pos++); 58 == b;) b = this.readDigits(), a.set(b, this.unserialize()), b = this.get(this.pos++);
                        if (104 != b) throw "Invalid IntMap format";
                        return a;
                    case 77:
                        a = new Yc;
                        for (this.cache.push(a); 104 != this.buf.charCodeAt(this.pos);) b = this.unserialize(), a.set(b, this.unserialize());
                        this.pos++;
                        return a;
                    case 118:
                        return a = J.substr(this.buf, this.pos, 19), a = J.strDate(a), this.cache.push(a), this.pos += 19, a;
                    case 115:
                        a = this.readDigits();
                        d = this.buf;
                        if (58 != this.get(this.pos++) || this.length - this.pos < a) throw "Invalid bytes length";
                        var e = dc.CODES;
                        null == e && (e = dc.initCodes(), dc.CODES = e);
                        for (var f = this.pos, k = a & 3, q = f + (a - k), b =
                            rd.alloc(3 * (a >> 2) + (2 <= k ? k - 1 : 0)), c = 0; f < q;) {
                            var n = e[va.fastCodeAt(d, f++)],
                                g = e[va.fastCodeAt(d, f++)];
                            b.set(c++, n << 2 | g >> 4);
                            n = e[va.fastCodeAt(d, f++)];
                            b.set(c++, g << 4 | n >> 2);
                            g = e[va.fastCodeAt(d, f++)];
                            b.set(c++, n << 6 | g)
                        }
                        2 <= k && (g = e[va.fastCodeAt(d, f++)], q = e[va.fastCodeAt(d, f++)], b.set(c++, g << 2 | q >> 4), 3 == k && (d = e[va.fastCodeAt(d, f++)], b.set(c++, q << 4 | d >> 2)));
                        this.pos += a;
                        this.cache.push(b);
                        return b;
                    case 67:
                        a = this.unserialize();
                        b = this.resolver.resolveClass(a);
                        if (null == b) throw "Class not found " + a;
                        a = U.createEmptyInstance(b);
                        this.cache.push(a);
                        a.hxUnserialize(this);
                        if (103 != this.get(this.pos++)) throw "Invalid custom data";
                        return a
                }
                this.pos--;
                throw "Invalid char " + this.buf.charAt(this.pos) + " at position " + this.pos;
            },
            __class__: dc
        };
        var Ph = function(a) {
            this.__b = ""
        };
        h["haxe.Utf8"] = Ph;
        Ph.__name__ = ["haxe", "Utf8"];
        Ph.prototype = {
            __class__: Ph
        };
        var rd = function(a, b) {
            this.length = a;
            this.b = b
        };
        h["haxe.io.Bytes"] = rd;
        rd.__name__ = ["haxe", "io", "Bytes"];
        rd.alloc = function(a) {
            for (var b = [], c = 0; c < a;) c++, b.push(0);
            return new rd(a, b)
        };
        rd.ofString =
            function(a) {
                for (var b = [], c = 0; c < a.length;) {
                    var d = va.fastCodeAt(a, c++);
                    55296 <= d && 56319 >= d && (d = d - 55232 << 10 | va.fastCodeAt(a, c++) & 1023);
                    127 >= d ? b.push(d) : (2047 >= d ? b.push(192 | d >> 6) : (65535 >= d ? b.push(224 | d >> 12) : (b.push(240 | d >> 18), b.push(128 | d >> 12 & 63)), b.push(128 | d >> 6 & 63)), b.push(128 | d & 63))
                }
                return new rd(b.length, b)
            };
        rd.prototype = {
            get: function(a) {
                return this.b[a]
            },
            set: function(a, b) {
                this.b[a] = b & 255
            },
            getString: function(a, b) {
                if (0 > a || 0 > b || a + b > this.length) throw Ab.OutsideBounds;
                for (var c = "", d = this.b, e = String.fromCharCode,
                    f = a, k = a + b; f < k;) {
                    var q = d[f++];
                    if (128 > q) {
                        if (0 == q) break;
                        c += e(q)
                    } else if (224 > q) c += e((q & 63) << 6 | d[f++] & 127);
                    else if (240 > q) var n = d[f++],
                        c = c + e((q & 31) << 12 | (n & 127) << 6 | d[f++] & 127);
                    else var n = d[f++],
                        g = d[f++],
                        q = (q & 15) << 18 | (n & 127) << 12 | (g & 127) << 6 | d[f++] & 127,
                        c = c + e((q >> 10) + 55232),
                        c = c + e(q & 1023 | 56320)
                }
                return c
            },
            toString: function() {
                return this.getString(0, this.length)
            },
            __class__: rd
        };
        var Te = function() {};
        h["haxe.crypto.Base64"] = Te;
        Te.__name__ = ["haxe", "crypto", "Base64"];
        Te.decode = function(a, b) {
            null == b && (b = !0);
            if (b)
                for (; 61 ==
                    J.cca(a, a.length - 1);) a = J.substr(a, 0, -1);
            return (new Qh(Te.BYTES)).decodeBytes(rd.ofString(a))
        };
        var Qh = function(a) {
            for (var b = a.length, c = 1; b > 1 << c;) c++;
            if (8 < c || b != 1 << c) throw "BaseCode : base length must be a power of two.";
            this.base = a;
            this.nbits = c
        };
        h["haxe.crypto.BaseCode"] = Qh;
        Qh.__name__ = ["haxe", "crypto", "BaseCode"];
        Qh.prototype = {
            initTable: function() {
                for (var a = [], b = 0; 256 > b;) {
                    var c = b++;
                    a[c] = -1
                }
                b = 0;
                for (c = this.base.length; b < c;) {
                    var d = b++;
                    a[this.base.b[d]] = d
                }
                this.tbl = a
            },
            decodeBytes: function(a) {
                var b = this.nbits;
                null == this.tbl && this.initTable();
                for (var c = this.tbl, d = a.length * b >> 3, e = rd.alloc(d), f = 0, k = 0, q = 0, g = 0; g < d;) {
                    for (; 8 > k;) {
                        var k = k + b,
                            f = f << b,
                            h = c[a.get(q++)];
                        if (-1 == h) throw "BaseCode : invalid encoded char";
                        f |= h
                    }
                    k -= 8;
                    e.set(g++, f >> k & 255)
                }
                return e
            },
            __class__: Qh
        };
        var zg = function() {};
        h["haxe.ds.BalancedTree"] = zg;
        zg.__name__ = ["haxe", "ds", "BalancedTree"];
        zg.prototype = {
            set: function(a, b) {
                this.root = this.setLoop(a, b, this.root)
            },
            get: function(a) {
                for (var b = this.root; null != b;) {
                    var c = this.compare(a, b.key);
                    if (0 == c) return b.value;
                    b = 0 > c ? b.left : b.right
                }
                return null
            },
            setLoop: function(a, b, c) {
                if (null == c) return new Nb(null, a, b, null);
                var d = this.compare(a, c.key);
                if (0 == d) return new Nb(c.left, a, b, c.right, null == c ? 0 : c._height);
                if (0 > d) return a = this.setLoop(a, b, c.left), this.balance(a, c.key, c.value, c.right);
                a = this.setLoop(a, b, c.right);
                return this.balance(c.left, c.key, c.value, a)
            },
            balance: function(a, b, c, d) {
                var e;
                e = null == a ? 0 : a._height;
                var f;
                f = null == d ? 0 : d._height;
                return e > f + 2 ? function(b) {
                    b = a.left;
                    return null == b ? 0 : b._height
                }(this) >= function(b) {
                    b =
                        a.right;
                    return null == b ? 0 : b._height
                }(this) ? new Nb(a.left, a.key, a.value, new Nb(a.right, b, c, d)) : new Nb(new Nb(a.left, a.key, a.value, a.right.left), a.right.key, a.right.value, new Nb(a.right.right, b, c, d)) : f > e + 2 ? function(a) {
                    a = d.right;
                    return null == a ? 0 : a._height
                }(this) > function(a) {
                    a = d.left;
                    return null == a ? 0 : a._height
                }(this) ? new Nb(new Nb(a, b, c, d.left), d.key, d.value, d.right) : new Nb(new Nb(a, b, c, d.left.left), d.left.key, d.left.value, new Nb(d.left.right, d.key, d.value, d.right)) : new Nb(a, b, c, d, (e > f ? e : f) + 1)
            },
            compare: function(a,
                b) {
                return Q.compare(a, b)
            },
            __class__: zg
        };
        var Nb = function(a, b, c, d, e) {
            null == e && (e = -1);
            this.left = a;
            this.key = b;
            this.value = c;
            this.right = d;
            this._height = -1 == e ? (function(a) {
                a = a.left;
                return null == a ? 0 : a._height
            }(this) > function(a) {
                a = a.right;
                return null == a ? 0 : a._height
            }(this) ? function(a) {
                a = a.left;
                return null == a ? 0 : a._height
            }(this) : function(a) {
                a = a.right;
                return null == a ? 0 : a._height
            }(this)) + 1 : e
        };
        h["haxe.ds.TreeNode"] = Nb;
        Nb.__name__ = ["haxe", "ds", "TreeNode"];
        Nb.prototype = {
            __class__: Nb
        };
        var Cf = function() {};
        h["haxe.ds.EnumValueMap"] =
            Cf;
        Cf.__name__ = ["haxe", "ds", "EnumValueMap"];
        Cf.__interfaces__ = [kg];
        Cf.__super__ = zg;
        Cf.prototype = v(zg.prototype, {
            compare: function(a, b) {
                var c = a[1] - b[1];
                if (0 != c) return c;
                var c = a.slice(2),
                    d = b.slice(2);
                return 0 == c.length && 0 == d.length ? 0 : this.compareArgs(c, d)
            },
            compareArgs: function(a, b) {
                var c = a.length - b.length;
                if (0 != c) return c;
                for (var c = 0, d = a.length; c < d;) {
                    var e = c++,
                        e = this.compareArg(a[e], b[e]);
                    if (0 != e) return e
                }
                return 0
            },
            compareArg: function(a, b) {
                return Q.isEnumValue(a) && Q.isEnumValue(b) ? this.compare(a, b) :
                    a instanceof Array && null == a.__enum__ && b instanceof Array && null == b.__enum__ ? this.compareArgs(a, b) : Q.compare(a, b)
            },
            __class__: Cf
        });
        var Bf = function() {
            this.h = {}
        };
        h["haxe.ds.IntMap"] = Bf;
        Bf.__name__ = ["haxe", "ds", "IntMap"];
        Bf.__interfaces__ = [kg];
        Bf.prototype = {
            set: function(a, b) {
                this.h[a] = b
            },
            get: function(a) {
                return this.h[a]
            },
            keys: function() {
                var a = [],
                    b;
                for (b in this.h) this.h.hasOwnProperty(b) && a.push(b | 0);
                return J.iter(a)
            },
            __class__: Bf
        };
        var Yc = function() {
            this.h = {};
            this.h.__keys__ = {}
        };
        h["haxe.ds.ObjectMap"] =
            Yc;
        Yc.__name__ = ["haxe", "ds", "ObjectMap"];
        Yc.__interfaces__ = [kg];
        Yc.prototype = {
            set: function(a, b) {
                var c = a.__id__ || (a.__id__ = ++Yc.count);
                this.h[c] = b;
                this.h.__keys__[c] = a
            },
            get: function(a) {
                return this.h[a.__id__]
            },
            keys: function() {
                var a = [],
                    b;
                for (b in this.h.__keys__) this.h.hasOwnProperty(b) && a.push(this.h.__keys__[b]);
                return J.iter(a)
            },
            __class__: Yc
        };
        var Da = function() {
            this.h = {}
        };
        h["haxe.ds.StringMap"] = Da;
        Da.__name__ = ["haxe", "ds", "StringMap"];
        Da.__interfaces__ = [kg];
        Da.prototype = {
            set: function(a, b) {
                this.h["$" +
                    a] = b
            },
            get: function(a) {
                return this.h["$" + a]
            },
            exists: function(a) {
                return this.h.hasOwnProperty("$" + a)
            },
            remove: function(a) {
                a = "$" + a;
                if (!this.h.hasOwnProperty(a)) return !1;
                delete this.h[a];
                return !0
            },
            keys: function() {
                var a = [],
                    b;
                for (b in this.h) this.h.hasOwnProperty(b) && a.push(b.substr(1));
                return J.iter(a)
            },
            iterator: function() {
                return {
                    ref: this.h,
                    it: this.keys(),
                    hasNext: function() {
                        return this.it.hasNext()
                    },
                    next: function() {
                        var a = this.it.next();
                        return this.ref["$" + a]
                    }
                }
            },
            __class__: Da
        };
        var bc = function() {};
        h["haxe.ds._Vector.Vector_Impl_"] =
            bc;
        bc.__name__ = ["haxe", "ds", "_Vector", "Vector_Impl_"];
        bc.blit = function(a, b, c, d, e) {
            for (var f = 0; f < e;) {
                var k = f++;
                c[d + k] = a[b + k]
            }
        };
        var lj = function() {};
        h["haxe.io.Eof"] = lj;
        lj.__name__ = ["haxe", "io", "Eof"];
        lj.prototype = {
            toString: function() {
                return "Eof"
            },
            __class__: lj
        };
        var Ab = h["haxe.io.Error"] = {
            __ename__: ["haxe", "io", "Error"],
            __constructs__: ["Blocked", "Overflow", "OutsideBounds", "Custom"]
        };
        Ab.Blocked = ["Blocked", 0];
        Ab.Blocked.toString = w;
        Ab.Blocked.__enum__ = Ab;
        Ab.Overflow = ["Overflow", 1];
        Ab.Overflow.toString = w;
        Ab.Overflow.__enum__ = Ab;
        Ab.OutsideBounds = ["OutsideBounds", 2];
        Ab.OutsideBounds.toString = w;
        Ab.OutsideBounds.__enum__ = Ab;
        Ab.Custom = function(a) {
            a = ["Custom", 3, a];
            a.__enum__ = Ab;
            a.toString = w;
            return a
        };
        var Ue = function(a) {
            var b = a.lastIndexOf("/"),
                c = a.lastIndexOf("\\");
            b < c ? (this.dir = J.substr(a, 0, c), a = J.substr(a, c + 1, null), this.backslash = !0) : c < b ? (this.dir = J.substr(a, 0, b), a = J.substr(a, b + 1, null)) : this.dir = null;
            b = a.lastIndexOf("."); - 1 != b ? (this.ext = J.substr(a, b + 1, null), this.file = J.substr(a, 0, b)) : (this.ext = null, this.file =
                a)
        };
        h["haxe.io.Path"] = Ue;
        Ue.__name__ = ["haxe", "io", "Path"];
        Ue.withoutExtension = function(a) {
            a = new Ue(a);
            a.ext = null;
            return a.toString()
        };
        Ue.prototype = {
            toString: function() {
                return (null == this.dir ? "" : this.dir + (this.backslash ? "\\" : "/")) + this.file + (null == this.ext ? "" : "." + this.ext)
            },
            __class__: Ue
        };
        var Rh = function(a) {
            this.__x = a
        };
        h["haxe.xml._Fast.NodeAccess"] = Rh;
        Rh.__name__ = ["haxe", "xml", "_Fast", "NodeAccess"];
        Rh.prototype = {
            __class__: Rh
        };
        var Sh = function(a) {
            this.__x = a
        };
        h["haxe.xml._Fast.AttribAccess"] = Sh;
        Sh.__name__ = ["haxe", "xml", "_Fast", "AttribAccess"];
        Sh.prototype = {
            resolve: function(a) {
                if (this.__x.nodeType == M.Document) throw "Cannot access document attribute " + a;
                var b = this.__x.get(a);
                if (null == b) throw this.__x.get_nodeName() + " is missing attribute " + a;
                return b
            },
            __class__: Sh
        };
        var Th = function(a) {
            this.__x = a
        };
        h["haxe.xml._Fast.HasAttribAccess"] = Th;
        Th.__name__ = ["haxe", "xml", "_Fast", "HasAttribAccess"];
        Th.prototype = {
            resolve: function(a) {
                if (this.__x.nodeType == M.Document) throw "Cannot access document attribute " + a;
                return this.__x.exists(a)
            },
            __class__: Th
        };
        var Uh = function(a) {
            this.__x = a
        };
        h["haxe.xml._Fast.HasNodeAccess"] = Uh;
        Uh.__name__ = ["haxe", "xml", "_Fast", "HasNodeAccess"];
        Uh.prototype = {
            __class__: Uh
        };
        var Vh = function(a) {
            this.__x = a
        };
        h["haxe.xml._Fast.NodeListAccess"] = Vh;
        Vh.__name__ = ["haxe", "xml", "_Fast", "NodeListAccess"];
        Vh.prototype = {
            resolve: function(a) {
                var b = new qf;
                for (a = this.__x.elementsNamed(a); a.hasNext();) {
                    var c = a.next();
                    b.add(new lg(c))
                }
                return b
            },
            __class__: Vh
        };
        var lg = function(a) {
            if (a.nodeType != M.Document && a.nodeType != M.Element) throw "Invalid nodeType " +
                G.string(a.nodeType);
            this.x = a;
            this.node = new Rh(a);
            this.nodes = new Vh(a);
            this.att = new Sh(a);
            this.has = new Th(a);
            this.hasNode = new Uh(a)
        };
        h["haxe.xml.Fast"] = lg;
        lg.__name__ = ["haxe", "xml", "Fast"];
        lg.prototype = {
            __class__: lg
        };
        var Zb = function() {};
        h["haxe.xml.Parser"] = Zb;
        Zb.__name__ = ["haxe", "xml", "Parser"];
        Zb.parse = function(a) {
            var b = M.createDocument();
            Zb.doParse(a, 0, b);
            return b
        };
        Zb.doParse = function(a, b, c) {
            null == b && (b = 0);
            for (var d = null, e = 1, f = 1, k = null, q = 0, g = 0, h = 0, m = a.charCodeAt(b), B = new Pe; m == m;) {
                switch (e) {
                    case 0:
                        switch (m) {
                            case 10:
                            case 13:
                            case 9:
                            case 32:
                                break;
                            default:
                                e = f;
                                continue
                        }
                        break;
                    case 1:
                        switch (m) {
                            case 60:
                                e = 0;
                                f = 2;
                                break;
                            default:
                                q = b;
                                e = 13;
                                continue
                        }
                        break;
                    case 13:
                        60 == m ? (f = M.createPCData(B.b + J.substr(a, q, b - q)), B = new Pe, c.addChild(f), g++, e = 0, f = 2) : 38 == m && (B.addSub(a, q, b - q), e = 18, f = 13, q = b + 1);
                        break;
                    case 17:
                        93 == m && 93 == a.charCodeAt(b + 1) && 62 == a.charCodeAt(b + 2) && (e = M.createCData(J.substr(a, q, b - q)), c.addChild(e), g++, b += 2, e = 1);
                        break;
                    case 2:
                        switch (m) {
                            case 33:
                                if (91 == a.charCodeAt(b + 1)) {
                                    b += 2;
                                    if ("CDATA[" != J.substr(a, b, 6).toUpperCase()) throw "Expected <![CDATA[";
                                    b += 5;
                                    e =
                                        17
                                } else if (68 == a.charCodeAt(b + 1) || 100 == a.charCodeAt(b + 1)) {
                                    if ("OCTYPE" != J.substr(a, b + 2, 6).toUpperCase()) throw "Expected <!DOCTYPE";
                                    b += 8;
                                    e = 16
                                } else {
                                    if (45 != a.charCodeAt(b + 1) || 45 != a.charCodeAt(b + 2)) throw "Expected \x3c!--";
                                    b += 2;
                                    e = 15
                                }
                                q = b + 1;
                                break;
                            case 63:
                                e = 14;
                                q = b;
                                break;
                            case 47:
                                if (null == c) throw "Expected node name";
                                q = b + 1;
                                e = 0;
                                f = 10;
                                break;
                            default:
                                e = 3;
                                q = b;
                                continue
                        }
                        break;
                    case 3:
                        if (!(97 <= m && 122 >= m || 65 <= m && 90 >= m || 48 <= m && 57 >= m || 58 == m || 46 == m || 95 == m || 45 == m)) {
                            if (b == q) throw "Expected node name";
                            d = M.createElement(J.substr(a,
                                q, b - q));
                            c.addChild(d);
                            e = 0;
                            f = 4;
                            continue
                        }
                        break;
                    case 4:
                        switch (m) {
                            case 47:
                                e = 11;
                                g++;
                                break;
                            case 62:
                                e = 9;
                                g++;
                                break;
                            default:
                                e = 5;
                                q = b;
                                continue
                        }
                        break;
                    case 5:
                        if (!(97 <= m && 122 >= m || 65 <= m && 90 >= m || 48 <= m && 57 >= m || 58 == m || 46 == m || 95 == m || 45 == m)) {
                            if (q == b) throw "Expected attribute name";
                            k = J.substr(a, q, b - q);
                            if (d.exists(k)) throw "Duplicate attribute";
                            e = 0;
                            f = 6;
                            continue
                        }
                        break;
                    case 6:
                        switch (m) {
                            case 61:
                                e = 0;
                                f = 7;
                                break;
                            default:
                                throw "Expected =";
                        }
                        break;
                    case 7:
                        switch (m) {
                            case 34:
                            case 39:
                                e = 8;
                                q = b;
                                break;
                            default:
                                throw 'Expected "';
                        }
                        break;
                    case 8:
                        m ==
                            a.charCodeAt(q) && (f = J.substr(a, q + 1, b - q - 1), d.set(k, f), e = 0, f = 4);
                        break;
                    case 9:
                        q = b = Zb.doParse(a, b, d);
                        e = 1;
                        break;
                    case 11:
                        switch (m) {
                            case 62:
                                e = 1;
                                break;
                            default:
                                throw "Expected >";
                        }
                        break;
                    case 12:
                        switch (m) {
                            case 62:
                                return 0 == g && c.addChild(M.createPCData("")), b;
                            default:
                                throw "Expected >";
                        }
                    case 10:
                        if (!(97 <= m && 122 >= m || 65 <= m && 90 >= m || 48 <= m && 57 >= m || 58 == m || 46 == m || 95 == m || 45 == m)) {
                            if (q == b) throw "Expected node name";
                            if (J.substr(a, q, b - q) != c.get_nodeName()) throw "Expected </" + c.get_nodeName() + ">";
                            e = 0;
                            f = 12;
                            continue
                        }
                        break;
                    case 15:
                        45 ==
                            m && 45 == a.charCodeAt(b + 1) && 62 == a.charCodeAt(b + 2) && (c.addChild(M.createComment(J.substr(a, q, b - q))), b += 2, e = 1);
                        break;
                    case 16:
                        91 == m ? h++ : 93 == m ? h-- : 62 == m && 0 == h && (c.addChild(M.createDocType(J.substr(a, q, b - q))), e = 1);
                        break;
                    case 14:
                        63 == m && 62 == a.charCodeAt(b + 1) && (b++, e = J.substr(a, q + 1, b - q - 2), c.addChild(M.createProcessingInstruction(e)), e = 1);
                        break;
                    case 18:
                        59 == m && (q = J.substr(a, q, b - q), 35 == q.charCodeAt(0) ? (q = 120 == q.charCodeAt(1) ? G.parseInt("0" + J.substr(q, 1, q.length - 1)) : G.parseInt(J.substr(q, 1, q.length - 1)), B.add(String.fromCharCode(q))) :
                            Zb.escapes.exists(q) ? B.add(Zb.escapes.get(q)) : B.b += G.string("&" + q + ";"), q = b + 1, e = f)
                }
                m = va.fastCodeAt(a, ++b)
            }
            1 == e && (q = b, e = 13);
            if (13 == e) return b == q && 0 != g || c.addChild(M.createPCData(B.b + J.substr(a, q, b - q))), b;
            throw "Unexpected end";
        };
        var D = function() {};
        h["js.Boot"] = D;
        D.__name__ = ["js", "Boot"];
        D.getClass = function(a) {
            if (a instanceof Array && null == a.__enum__) return Array;
            var b = a.__class__;
            if (null != b) return b;
            a = D.__nativeClassName(a);
            return null != a ? D.__resolveNativeClass(a) : null
        };
        D.__string_rec = function(a, b) {
            if (null ==
                a) return "null";
            if (5 <= b.length) return "<...>";
            var c = typeof a;
            "function" == c && (a.__name__ || a.__ename__) && (c = "object");
            switch (c) {
                case "object":
                    if (a instanceof Array) {
                        if (a.__enum__) {
                            if (2 == a.length) return a[0];
                            c = a[0] + "(";
                            b += "\t";
                            for (var d = 2, e = a.length; d < e;) var f = d++,
                                c = 2 != f ? c + ("," + D.__string_rec(a[f], b)) : c + D.__string_rec(a[f], b);
                            return c + ")"
                        }
                        c = a.length;
                        d = "[";
                        b += "\t";
                        for (e = 0; e < c;) f = e++, d += (0 < f ? "," : "") + D.__string_rec(a[f], b);
                        return d + "]"
                    }
                    try {
                        d = a.toString
                    } catch (k) {
                        return "???"
                    }
                    if (null != d && d != Object.toString &&
                        "function" == typeof d && (c = a.toString(), "[object Object]" != c)) return c;
                    c = null;
                    d = "{\n";
                    b += "\t";
                    e = null != a.hasOwnProperty;
                    for (c in a) e && !a.hasOwnProperty(c) || "prototype" == c || "__class__" == c || "__super__" == c || "__interfaces__" == c || "__properties__" == c || (2 != d.length && (d += ", \n"), d += b + c + " : " + D.__string_rec(a[c], b));
                    b = b.substring(1);
                    return d + ("\n" + b + "}");
                case "function":
                    return "<function>";
                case "string":
                    return a;
                default:
                    return String(a)
            }
        };
        D.__interfLoop = function(a, b) {
            if (null == a) return !1;
            if (a == b) return !0;
            var c =
                a.__interfaces__;
            if (null != c)
                for (var d = 0, e = c.length; d < e;) {
                    var f = d++,
                        f = c[f];
                    if (f == b || D.__interfLoop(f, b)) return !0
                }
            return D.__interfLoop(a.__super__, b)
        };
        D.__instanceof = function(a, b) {
            if (null == b) return !1;
            switch (b) {
                case rk:
                    return (a | 0) === a;
                case Zj:
                    return "number" == typeof a;
                case Vj:
                    return "boolean" == typeof a;
                case String:
                    return "string" == typeof a;
                case Array:
                    return a instanceof Array && null == a.__enum__;
                case sk:
                    return !0;
                default:
                    if (null != a)
                        if ("function" == typeof b) {
                            if (a instanceof b || D.__interfLoop(D.getClass(a),
                                b)) return !0
                        } else {
                            if ("object" == typeof b && D.__isNativeObj(b) && a instanceof b) return !0
                        } else return !1;
                    return b == tk && null != a.__name__ || b == uk && null != a.__ename__ ? !0 : a.__enum__ == b
            }
        };
        D.__cast = function(a, b) {
            if (D.__instanceof(a, b)) return a;
            throw "Cannot cast " + G.string(a) + " to " + G.string(b);
        };
        D.__nativeClassName = function(a) {
            a = D.__toStr.call(a).slice(8, -1);
            return "Object" == a || "Function" == a || "Math" == a || "JSON" == a ? null : a
        };
        D.__isNativeObj = function(a) {
            return null != D.__nativeClassName(a)
        };
        D.__resolveNativeClass = function(a) {
            return "undefined" !=
                typeof window ? window[a] : global[a]
        };
        var mj = function() {};
        h["js.Browser"] = mj;
        mj.__name__ = ["js", "Browser"];
        mj.getLocalStorage = function() {
            try {
                var a = window.localStorage;
                a.getItem("");
                return a
            } catch (b) {
                return null
            }
        };
        var Wh = function() {
            this.enabled = !0;
            this.audio = new Da;
            this.font = new Da;
            this.image = new Da
        };
        h["lime.AssetCache"] = Wh;
        Wh.__name__ = ["lime", "AssetCache"];
        Wh.prototype = {
            clear: function(a) {
                if (null == a) this.audio = new Da, this.font = new Da, this.image = new Da;
                else {
                    for (var b = this.audio.keys(); b.hasNext();) {
                        var c =
                            b.next();
                        va.startsWith(c, a) && this.audio.remove(c)
                    }
                    for (b = this.font.keys(); b.hasNext();) c = b.next(), va.startsWith(c, a) && this.font.remove(c);
                    for (b = this.image.keys(); b.hasNext();) c = b.next(), va.startsWith(c, a) && this.image.remove(c)
                }
            },
            __class__: Wh
        };
        var ca = function() {};
        h["lime.Assets"] = ca;
        ca.__name__ = ["lime", "Assets"];
        ca.exists = function(a, b) {
            ca.initialize();
            null == b && (b = "BINARY");
            var c = a.substring(0, a.indexOf(":")),
                d;
            d = a.indexOf(":") + 1;
            d = J.substr(a, d, null);
            c = ca.getLibrary(c);
            return null != c ? c.exists(d, b) : !1
        };
        ca.getFont = function(a, b) {
            null == b && (b = !0);
            ca.initialize();
            if (b && ca.cache.enabled && ca.cache.font.exists(a)) return ca.cache.font.get(a);
            var c = a.substring(0, a.indexOf(":")),
                d;
            d = a.indexOf(":") + 1;
            d = J.substr(a, d, null);
            var e = ca.getLibrary(c);
            if (null != e)
                if (e.exists(d, "FONT")) {
                    if (e.isLocal(d, "FONT")) return c = e.getFont(d), b && ca.cache.enabled && ca.cache.font.set(a, c), c;
                    console.log('[Assets] Font asset "' + a + '" exists, but only asynchronously')
                } else console.log('[Assets] There is no Font asset with an ID of "' +
                    a + '"');
            else console.log('[Assets] There is no asset library named "' + c + '"');
            return null
        };
        ca.getImage = function(a, b) {
            null == b && (b = !0);
            ca.initialize();
            if (b && ca.cache.enabled && ca.cache.image.exists(a)) {
                var c = ca.cache.image.get(a);
                if (ca.isValidImage(c)) return c
            }
            var c = a.substring(0, a.indexOf(":")),
                d;
            d = a.indexOf(":") + 1;
            d = J.substr(a, d, null);
            var e = ca.getLibrary(c);
            if (null != e)
                if (e.exists(d, "IMAGE")) {
                    if (e.isLocal(d, "IMAGE")) return c = e.getImage(d), b && ca.cache.enabled && ca.cache.image.set(a, c), c;
                    console.log('[Assets] Image asset "' +
                        a + '" exists, but only asynchronously')
                } else console.log('[Assets] There is no Image asset with an ID of "' + a + '"');
            else console.log('[Assets] There is no asset library named "' + c + '"');
            return null
        };
        ca.getLibrary = function(a) {
            if (null == a || "" == a) a = "default";
            return ca.libraries.get(a)
        };
        ca.getPath = function(a) {
            ca.initialize();
            var b = a.substring(0, a.indexOf(":")),
                c;
            c = a.indexOf(":") + 1;
            c = J.substr(a, c, null);
            var d = ca.getLibrary(b);
            if (null != d) {
                if (d.exists(c, null)) return d.getPath(c);
                console.log('[Assets] There is no asset with an ID of "' +
                    a + '"')
            } else console.log('[Assets] There is no asset library named "' + b + '"');
            return null
        };
        ca.getText = function(a) {
            ca.initialize();
            var b = a.substring(0, a.indexOf(":")),
                c;
            c = a.indexOf(":") + 1;
            c = J.substr(a, c, null);
            var d = ca.getLibrary(b);
            if (null != d)
                if (d.exists(c, "TEXT")) {
                    if (d.isLocal(c, "TEXT")) return d.getText(c);
                    console.log('[Assets] String asset "' + a + '" exists, but only asynchronously')
                } else console.log('[Assets] There is no String asset with an ID of "' + a + '"');
            else console.log('[Assets] There is no asset library named "' +
                b + '"');
            return null
        };
        ca.initialize = function() {
            ca.initialized || (ca.registerLibrary("default", new fg), ca.initialized = !0)
        };
        ca.isValidImage = function(a) {
            return !0
        };
        ca.registerLibrary = function(a, b) {
            ca.libraries.exists(a) && ca.unloadLibrary(a);
            null != b && (b.eventCallback = ca.library_onEvent);
            ca.libraries.set(a, b)
        };
        ca.unloadLibrary = function(a) {
            ca.initialize();
            var b = ca.libraries.get(a);
            null != b && (ca.cache.clear(a + ":"), b.eventCallback = null);
            ca.libraries.remove(a)
        };
        ca.library_onEvent = function(a, b) {
            "change" == b && ca.cache.clear()
        };
        var Xh = function(a) {
            this.parent = a;
            de.init()
        };
        h["lime._backend.html5.HTML5Application"] = Xh;
        Xh.__name__ = ["lime", "_backend", "html5", "HTML5Application"];
        Xh.prototype = {
            convertKeyCode: function(a) {
                if (65 <= a && 90 >= a) return a + 32;
                switch (a) {
                    case 16:
                        return 1073742049;
                    case 17:
                        return 1073742048;
                    case 18:
                        return 1073742050;
                    case 20:
                        return 1073741881;
                    case 144:
                        return 1073741907;
                    case 37:
                        return 1073741904;
                    case 38:
                        return 1073741906;
                    case 39:
                        return 1073741903;
                    case 40:
                        return 1073741905;
                    case 45:
                        return 1073741897;
                    case 46:
                        return 127;
                    case 36:
                        return 1073741898;
                    case 35:
                        return 1073741901;
                    case 33:
                        return 1073741899;
                    case 34:
                        return 1073741902;
                    case 112:
                        return 1073741882;
                    case 113:
                        return 1073741883;
                    case 114:
                        return 1073741884;
                    case 115:
                        return 1073741885;
                    case 116:
                        return 1073741886;
                    case 117:
                        return 1073741887;
                    case 118:
                        return 1073741888;
                    case 119:
                        return 1073741889;
                    case 120:
                        return 1073741890;
                    case 121:
                        return 1073741891;
                    case 122:
                        return 1073741892;
                    case 123:
                        return 1073741893
                }
                return a
            },
            create: function(a) {
                this.parent.config = a;
                if (null != a) {
                    a = new Yh(a);
                    var b = new Zh(a);
                    this.parent.addWindow(a);
                    this.parent.addRenderer(b);
                    this.parent.init(b.context)
                }
            },
            exec: function() {
                window.addEventListener("keydown", l(this, this.handleKeyEvent), !1);
                window.addEventListener("keyup", l(this, this.handleKeyEvent), !1);
                window.addEventListener("focus", l(this, this.handleWindowEvent), !1);
                window.addEventListener("blur", l(this, this.handleWindowEvent), !1);
                window.addEventListener("resize", l(this, this.handleWindowEvent), !1);
                window.addEventListener("beforeunload", l(this, this.handleWindowEvent), !1);
                for (var a = 0, b = ["ms", "moz", "webkit", "o"], c = 0; c < b.length && !window.requestAnimationFrame; ++c) window.requestAnimationFrame = window[b[c] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[b[c] + "CancelAnimationFrame"] || window[b[c] + "CancelRequestAnimationFrame"];
                window.requestAnimationFrame || (window.requestAnimationFrame = function(b, c) {
                    var f = (new Date).getTime(),
                        k = Math.max(0, 16 - (f - a)),
                        q = window.setTimeout(function() {
                            b(f + k)
                        }, k);
                    a = f + k;
                    return q
                });
                window.cancelAnimationFrame || (window.cancelAnimationFrame =
                    function(a) {
                        clearTimeout(a)
                    });
                window.requestAnimFrame = window.requestAnimationFrame;
                this.cacheTime = (new Date).getTime();
                this.handleUpdateEvent();
                return 0
            },
            handleKeyEvent: function(a) {
                if (null != this.parent.windows[0]) {
                    switch (a.keyCode) {
                        case 32:
                        case 37:
                        case 38:
                        case 39:
                        case 40:
                            a.preventDefault()
                    }
                    var b = this.convertKeyCode(null != a.keyCode ? a.keyCode : a.which),
                        c;
                    c = (a.shiftKey ? 3 : 0) | (a.ctrlKey ? 192 : 0) | (a.altKey ? 768 : 0) | (a.metaKey ? 3072 : 0);
                    if ("keydown" == a.type) {
                        a = this.parent.windows[0].onKeyDown.listeners;
                        for (var d =
                            this.parent.windows[0].onKeyDown.repeat, e = a.length, f = 0; f < e;) a[f](b, c), d[f] ? f++ : (this.parent.windows[0].onKeyDown.remove(a[f]), e--)
                    } else
                        for (a = this.parent.windows[0].onKeyUp.listeners, d = this.parent.windows[0].onKeyUp.repeat, e = a.length, f = 0; f < e;) a[f](b, c), d[f] ? f++ : (this.parent.windows[0].onKeyUp.remove(a[f]), e--)
                }
            },
            handleUpdateEvent: function(a) {
                var b = (new Date).getTime();
                a = b - this.cacheTime;
                this.cacheTime = b;
                for (var b = this.parent.onUpdate.listeners, c = this.parent.onUpdate.repeat, d = b.length, e = 0; e < d;) b[e](a |
                    0), c[e] ? e++ : (this.parent.onUpdate.remove(b[e]), d--);
                if (null != this.parent.renderers[0]) {
                    a = this.parent.renderers[0].onRender.listeners;
                    b = this.parent.renderers[0].onRender.repeat;
                    c = a.length;
                    for (d = 0; d < c;) a[d](this.parent.renderers[0].context), b[d] ? d++ : (this.parent.renderers[0].onRender.remove(a[d]), c--);
                    this.parent.renderers[0].flip()
                }
                window.requestAnimationFrame(l(this, this.handleUpdateEvent))
            },
            handleWindowEvent: function(a) {
                if (null != this.parent.windows[0]) switch (a.type) {
                    case "focus":
                        a = this.parent.windows[0].onWindowFocusIn.listeners;
                        for (var b = this.parent.windows[0].onWindowFocusIn.repeat, c = a.length, d = 0; d < c;) a[d](), b[d] ? d++ : (this.parent.windows[0].onWindowFocusIn.remove(a[d]), c--);
                        a = this.parent.windows[0].onWindowActivate.listeners;
                        b = this.parent.windows[0].onWindowActivate.repeat;
                        c = a.length;
                        for (d = 0; d < c;) a[d](), b[d] ? d++ : (this.parent.windows[0].onWindowActivate.remove(a[d]), c--);
                        break;
                    case "blur":
                        a = this.parent.windows[0].onWindowFocusOut.listeners;
                        b = this.parent.windows[0].onWindowFocusOut.repeat;
                        c = a.length;
                        for (d = 0; d < c;) a[d](), b[d] ?
                            d++ : (this.parent.windows[0].onWindowFocusOut.remove(a[d]), c--);
                        a = this.parent.windows[0].onWindowDeactivate.listeners;
                        b = this.parent.windows[0].onWindowDeactivate.repeat;
                        c = a.length;
                        for (d = 0; d < c;) a[d](), b[d] ? d++ : (this.parent.windows[0].onWindowDeactivate.remove(a[d]), c--);
                        break;
                    case "resize":
                        a = this.parent.windows[0].__width;
                        b = this.parent.windows[0].__height;
                        this.parent.windows[0].backend.handleResize();
                        if (this.parent.windows[0].__width != a || this.parent.windows[0].__height != b)
                            for (a = this.parent.windows[0].onWindowResize.listeners,
                                b = this.parent.windows[0].onWindowResize.repeat, c = a.length, d = 0; d < c;) a[d](this.parent.windows[0].__width, this.parent.windows[0].__height), b[d] ? d++ : (this.parent.windows[0].onWindowResize.remove(a[d]), c--);
                        break;
                    case "beforeunload":
                        for (a = this.parent.windows[0].onWindowClose.listeners, b = this.parent.windows[0].onWindowClose.repeat, c = a.length, d = 0; d < c;) a[d](), b[d] ? d++ : (this.parent.windows[0].onWindowClose.remove(a[d]), c--)
                }
            },
            __class__: Xh
        };
        var ee = function() {};
        h["lime._backend.html5.HTML5Mouse"] = ee;
        ee.__name__ = ["lime", "_backend", "html5", "HTML5Mouse"];
        ee.__cursor = null;
        ee.__hidden = null;
        ee.set_cursor = function(a) {
            if (ee.__cursor != a) {
                if (!ee.__hidden)
                    for (var b = 0, c = Bb.current.windows; b < c.length;) {
                        var d = c[b];
                        ++b;
                        switch (a[1]) {
                            case 0:
                                d.backend.element.style.cursor = "default";
                                break;
                            case 1:
                                d.backend.element.style.cursor = "crosshair";
                                break;
                            case 3:
                                d.backend.element.style.cursor = "move";
                                break;
                            case 4:
                                d.backend.element.style.cursor = "pointer";
                                break;
                            case 5:
                                d.backend.element.style.cursor = "nesw-resize";
                                break;
                            case 6:
                                d.backend.element.style.cursor =
                                    "ns-resize";
                                break;
                            case 7:
                                d.backend.element.style.cursor = "nwse-resize";
                                break;
                            case 8:
                                d.backend.element.style.cursor = "ew-resize";
                                break;
                            case 9:
                                d.backend.element.style.cursor = "text";
                                break;
                            case 10:
                                d.backend.element.style.cursor = "wait";
                                break;
                            case 11:
                                d.backend.element.style.cursor = "wait";
                                break;
                            default:
                                d.backend.element.style.cursor = "auto"
                        }
                    }
                ee.__cursor = a
            }
            return ee.__cursor
        };
        var $h = function(a) {
            this.parent = a
        };
        h["lime._backend.html5.HTML5Renderer"] = $h;
        $h.__name__ = ["lime", "_backend", "html5", "HTML5Renderer"];
        $h.prototype = {
            create: function() {
                this.createContext();
                switch (this.parent.context[1]) {
                    case 0:
                        this.parent.window.backend.canvas.addEventListener("webglcontextlost", l(this, this.handleEvent), !1), this.parent.window.backend.canvas.addEventListener("webglcontextrestored", l(this, this.handleEvent), !1)
                }
            },
            createContext: function() {
                null != this.parent.window.backend.div ? this.parent.context = sd.DOM(this.parent.window.backend.div) : null != this.parent.window.backend.canvas && (this.parent.context = sd.CANVAS(this.parent.window.backend.canvas.getContext("2d")))
            },
            flip: function() {},
            handleEvent: function(a) {
                switch (a.type) {
                    case "webglcontextlost":
                        a.preventDefault();
                        this.parent.context = null;
                        a = this.parent.onRenderContextLost.listeners;
                        for (var b = this.parent.onRenderContextLost.repeat, c = a.length, d = 0; d < c;) a[d](), b[d] ? d++ : (this.parent.onRenderContextLost.remove(a[d]), c--);
                        break;
                    case "webglcontextrestored":
                        for (this.createContext(), a = this.parent.onRenderContextRestored.listeners, b = this.parent.onRenderContextRestored.repeat, c = a.length, d = 0; d < c;) a[d](this.parent.context),
                            b[d] ? d++ : (this.parent.onRenderContextRestored.remove(a[d]), c--)
                }
            },
            __class__: $h
        };
        var ai = function(a) {
            this.parent = a;
            null != a.config && Object.prototype.hasOwnProperty.call(a.config, "element") && (this.element = a.config.element)
        };
        h["lime._backend.html5.HTML5Window"] = ai;
        ai.__name__ = ["lime", "_backend", "html5", "HTML5Window"];
        ai.prototype = {
            create: function(a) {
                this.setWidth = this.parent.__width;
                this.setHeight = this.parent.__height;
                D.__instanceof(this.element, HTMLCanvasElement) ? this.canvas = this.element : this.canvas =
                    window.document.createElement("canvas");
                null != this.canvas ? (a = this.canvas.style, a.setProperty("-webkit-transform", "translateZ(0)", null), a.setProperty("transform", "translateZ(0)", null)) : null != this.div && (a = this.div.style, a.setProperty("-webkit-transform", "translate3D(0,0,0)", null), a.setProperty("transform", "translate3D(0,0,0)", null), a.position = "relative", a.overflow = "hidden", a.setProperty("-webkit-user-select", "none", null), a.setProperty("-moz-user-select", "none", null), a.setProperty("-ms-user-select",
                    "none", null), a.setProperty("-o-user-select", "none", null));
                0 == this.parent.__width && 0 == this.parent.__height && (null != this.element ? (this.parent.set_width(this.element.clientWidth), this.parent.set_height(this.element.clientHeight)) : (this.parent.set_width(window.innerWidth), this.parent.set_height(window.innerHeight)), this.parent.set_fullscreen(!0));
                null != this.canvas ? (this.canvas.width = this.parent.__width, this.canvas.height = this.parent.__height) : (this.div.style.width = this.parent.__width + "px", this.div.style.height =
                    this.parent.__height + "px");
                this.handleResize();
                if (null != this.element) {
                    null != this.canvas ? this.element != this.canvas && this.element.appendChild(this.canvas) : this.element.appendChild(this.div);
                    a = ["mousedown", "mousemove", "mouseup", "wheel"];
                    for (var b = 0; b < a.length;) {
                        var c = a[b];
                        ++b;
                        this.element.addEventListener(c, l(this, this.handleMouseEvent), !0)
                    }
                    window.document.addEventListener("dragstart", function(a) {
                        return "img" == a.target.nodeName.toLowerCase() ? (a.preventDefault(), !1) : !0
                    }, !1);
                    this.element.addEventListener("touchstart",
                        l(this, this.handleTouchEvent), !0);
                    this.element.addEventListener("touchmove", l(this, this.handleTouchEvent), !0);
                    this.element.addEventListener("touchend", l(this, this.handleTouchEvent), !0)
                }
            },
            handleMouseEvent: function(a) {
                var b = 0,
                    c = 0;
                if ("wheel" != a.type) switch (null != this.element ? null != this.canvas ? (c = this.canvas.getBoundingClientRect(), b = this.parent.__width / c.width * (a.clientX - c.left), c = this.parent.__height / c.height * (a.clientY - c.top)) : null != this.div ? (c = this.div.getBoundingClientRect(), b = a.clientX - c.left, c =
                    a.clientY - c.top) : (c = this.element.getBoundingClientRect(), b = this.parent.__width / c.width * (a.clientX - c.left), c = this.parent.__height / c.height * (a.clientY - c.top)) : (b = a.clientX, c = a.clientY), a.type) {
                    case "mousedown":
                        for (var d = this.parent.onMouseDown.listeners, e = this.parent.onMouseDown.repeat, f = d.length, k = 0; k < f;) d[k](b, c, a.button), e[k] ? k++ : (this.parent.onMouseDown.remove(d[k]), f--);
                        break;
                    case "mouseup":
                        d = this.parent.onMouseUp.listeners;
                        e = this.parent.onMouseUp.repeat;
                        f = d.length;
                        for (k = 0; k < f;) d[k](b, c, a.button),
                            e[k] ? k++ : (this.parent.onMouseUp.remove(d[k]), f--);
                        break;
                    case "mousemove":
                        for (d = this.parent.onMouseMove.listeners, e = this.parent.onMouseMove.repeat, f = d.length, k = 0; k < f;) d[k](b, c, a.button), e[k] ? k++ : (this.parent.onMouseMove.remove(d[k]), f--)
                } else
                    for (b = this.parent.onMouseWheel.listeners, c = this.parent.onMouseWheel.repeat, d = b.length, e = 0; e < d;) b[e](a.deltaX, -a.deltaY), c[e] ? e++ : (this.parent.onMouseWheel.remove(b[e]), d--)
            },
            handleResize: function() {
                var a = this.parent.__fullscreen || 0 == this.setWidth && 0 == this.setHeight;
                if (null != this.element && (null == this.div || null != this.div && a))
                    if (a) {
                        if (this.parent.__width != this.element.clientWidth || this.parent.__height != this.element.clientHeight) this.parent.set_width(this.element.clientWidth), this.parent.set_height(this.element.clientHeight), null != this.canvas ? this.element != this.canvas && (this.canvas.width = this.element.clientWidth, this.canvas.height = this.element.clientHeight) : (this.div.style.width = this.element.clientWidth + "px", this.div.style.height = this.element.clientHeight + "px")
                    } else a =
                        Math.min(this.element.clientWidth / this.setWidth, this.element.clientHeight / this.setHeight), null != this.canvas ? this.element != this.canvas && (this.canvas.style.width = this.setWidth * a + "px", this.canvas.style.height = this.setHeight * a + "px", this.canvas.style.marginLeft = (this.element.clientWidth - this.setWidth * a) / 2 + "px", this.canvas.style.marginTop = (this.element.clientHeight - this.setHeight * a) / 2 + "px") : (this.div.style.width = this.setWidth * a + "px", this.div.style.height = this.setHeight * a + "px", this.div.style.marginLeft =
                            (this.element.clientWidth - this.setWidth * a) / 2 + "px", this.div.style.marginTop = (this.element.clientHeight - this.setHeight * a) / 2 + "px")
            },
            handleTouchEvent: function(a) {
                a.preventDefault();
                var b = a.changedTouches[0],
                    c = b.identifier,
                    d = 0,
                    e = 0;
                null != this.element ? null != this.canvas ? (e = this.canvas.getBoundingClientRect(), d = this.parent.__width / e.width * (b.clientX - e.left), e = this.parent.__height / e.height * (b.clientY - e.top)) : null != this.div ? (e = this.div.getBoundingClientRect(), d = b.clientX - e.left, e = b.clientY - e.top) : (e = this.element.getBoundingClientRect(),
                    d = this.parent.__width / e.width * (b.clientX - e.left), e = this.parent.__height / e.height * (b.clientY - e.top)) : (d = b.clientX, e = b.clientY);
                switch (a.type) {
                    case "touchstart":
                        a = this.parent.onTouchStart.listeners;
                        for (var b = this.parent.onTouchStart.repeat, f = a.length, k = 0; k < f;) a[k](d, e, c), b[k] ? k++ : (this.parent.onTouchStart.remove(a[k]), f--);
                        break;
                    case "touchmove":
                        a = this.parent.onTouchMove.listeners;
                        b = this.parent.onTouchMove.repeat;
                        f = a.length;
                        for (k = 0; k < f;) a[k](d, e, c), b[k] ? k++ : (this.parent.onTouchMove.remove(a[k]), f--);
                        break;
                    case "touchend":
                        for (a = this.parent.onTouchEnd.listeners, b = this.parent.onTouchEnd.repeat, f = a.length, k = 0; k < f;) a[k](d, e, c), b[k] ? k++ : (this.parent.onTouchEnd.remove(a[k]), f--)
                }
            },
            resize: function(a, b) {},
            setFullscreen: function(a) {
                return !1
            },
            __class__: ai
        };
        var bi = function() {};
        h["lime.app.IModule"] = bi;
        bi.__name__ = ["lime", "app", "IModule"];
        bi.prototype = {
            __class__: bi
        };
        var Df = function() {};
        h["lime.app.Module"] = Df;
        Df.__name__ = ["lime", "app", "Module"];
        Df.__interfaces__ = [bi];
        Df.prototype = {
            init: function(a) {},
            onGamepadAxisMove: function(a,
                b, c) {},
            onGamepadButtonDown: function(a, b) {},
            onGamepadButtonUp: function(a, b) {},
            onGamepadConnect: function(a) {},
            onGamepadDisconnect: function(a) {},
            onKeyDown: function(a, b) {},
            onKeyUp: function(a, b) {},
            onMouseDown: function(a, b, c) {},
            onMouseMove: function(a, b, c) {},
            onMouseUp: function(a, b, c) {},
            onMouseWheel: function(a, b) {},
            onRenderContextLost: function() {},
            onRenderContextRestored: function(a) {},
            onTouchEnd: function(a, b, c) {},
            onTouchMove: function(a, b, c) {},
            onTouchStart: function(a, b, c) {},
            onWindowActivate: function() {},
            onWindowClose: function() {},
            onWindowDeactivate: function() {},
            onWindowFocusIn: function() {},
            onWindowFocusOut: function() {},
            onWindowFullscreen: function() {},
            onWindowMinimize: function() {},
            onWindowMove: function(a, b) {},
            onWindowResize: function(a, b) {},
            onWindowRestore: function() {},
            render: function(a) {},
            update: function(a) {},
            __class__: Df
        };
        var Bb = function() {
            this.onUpdate = new za;
            null == Bb.current && (Bb.current = this);
            this.modules = [];
            this.renderers = [];
            this.windows = [];
            this.backend = new Xh(this);
            this.onUpdate.add(l(this, this.update))
        };
        h["lime.app.Application"] =
            Bb;
        Bb.__name__ = ["lime", "app", "Application"];
        Bb.current = null;
        Bb.__super__ = Df;
        Bb.prototype = v(Df.prototype, {
            addRenderer: function(a) {
                a.onRender.add(l(this, this.render));
                a.onRenderContextLost.add(l(this, this.onRenderContextLost));
                a.onRenderContextRestored.add(l(this, this.onRenderContextRestored));
                this.renderers.push(a)
            },
            addWindow: function(a) {
                this.windows.push(a);
                a.onGamepadAxisMove.add(l(this, this.onGamepadAxisMove));
                a.onGamepadButtonDown.add(l(this, this.onGamepadButtonDown));
                a.onGamepadButtonUp.add(l(this,
                    this.onGamepadButtonUp));
                a.onGamepadConnect.add(l(this, this.onGamepadConnect));
                a.onGamepadDisconnect.add(l(this, this.onGamepadDisconnect));
                a.onKeyDown.add(l(this, this.onKeyDown));
                a.onKeyUp.add(l(this, this.onKeyUp));
                a.onMouseDown.add(l(this, this.onMouseDown));
                a.onMouseMove.add(l(this, this.onMouseMove));
                a.onMouseUp.add(l(this, this.onMouseUp));
                a.onMouseWheel.add(l(this, this.onMouseWheel));
                a.onTouchStart.add(l(this, this.onTouchStart));
                a.onTouchMove.add(l(this, this.onTouchMove));
                a.onTouchEnd.add(l(this,
                    this.onTouchEnd));
                a.onWindowActivate.add(l(this, this.onWindowActivate));
                a.onWindowClose.add(l(this, this.onWindowClose));
                a.onWindowDeactivate.add(l(this, this.onWindowDeactivate));
                a.onWindowFocusIn.add(l(this, this.onWindowFocusIn));
                a.onWindowFocusOut.add(l(this, this.onWindowFocusOut));
                a.onWindowFullscreen.add(l(this, this.onWindowFullscreen));
                a.onWindowMinimize.add(l(this, this.onWindowMinimize));
                a.onWindowMove.add(l(this, this.onWindowMove));
                a.onWindowResize.add(l(this, this.onWindowResize));
                a.onWindowRestore.add(l(this,
                    this.onWindowRestore));
                a.create(this)
            },
            create: function(a) {
                this.backend.create(a)
            },
            exec: function() {
                Bb.current = this;
                return this.backend.exec()
            },
            init: function(a) {
                for (var b = 0, c = this.modules; b < c.length;) {
                    var d = c[b];
                    ++b;
                    d.init(a)
                }
                this.initialized = !0
            },
            onGamepadAxisMove: function(a, b, c) {
                for (var d = 0, e = this.modules; d < e.length;) {
                    var f = e[d];
                    ++d;
                    f.onGamepadAxisMove(a, b, c)
                }
            },
            onGamepadButtonDown: function(a, b) {
                for (var c = 0, d = this.modules; c < d.length;) {
                    var e = d[c];
                    ++c;
                    e.onGamepadButtonDown(a, b)
                }
            },
            onGamepadButtonUp: function(a,
                b) {
                for (var c = 0, d = this.modules; c < d.length;) {
                    var e = d[c];
                    ++c;
                    e.onGamepadButtonUp(a, b)
                }
            },
            onGamepadConnect: function(a) {
                for (var b = 0, c = this.modules; b < c.length;) {
                    var d = c[b];
                    ++b;
                    d.onGamepadConnect(a)
                }
            },
            onGamepadDisconnect: function(a) {
                for (var b = 0, c = this.modules; b < c.length;) {
                    var d = c[b];
                    ++b;
                    d.onGamepadDisconnect(a)
                }
            },
            onKeyDown: function(a, b) {
                for (var c = 0, d = this.modules; c < d.length;) {
                    var e = d[c];
                    ++c;
                    e.onKeyDown(a, b)
                }
            },
            onKeyUp: function(a, b) {
                for (var c = 0, d = this.modules; c < d.length;) {
                    var e = d[c];
                    ++c;
                    e.onKeyUp(a, b)
                }
            },
            onMouseDown: function(a,
                b, c) {
                for (var d = 0, e = this.modules; d < e.length;) {
                    var f = e[d];
                    ++d;
                    f.onMouseDown(a, b, c)
                }
            },
            onMouseMove: function(a, b, c) {
                for (var d = 0, e = this.modules; d < e.length;) {
                    var f = e[d];
                    ++d;
                    f.onMouseMove(a, b, c)
                }
            },
            onMouseUp: function(a, b, c) {
                for (var d = 0, e = this.modules; d < e.length;) {
                    var f = e[d];
                    ++d;
                    f.onMouseUp(a, b, c)
                }
            },
            onMouseWheel: function(a, b) {
                for (var c = 0, d = this.modules; c < d.length;) {
                    var e = d[c];
                    ++c;
                    e.onMouseWheel(a, b)
                }
            },
            onRenderContextLost: function() {
                for (var a = 0, b = this.modules; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.onRenderContextLost()
                }
            },
            onRenderContextRestored: function(a) {
                for (var b = 0, c = this.modules; b < c.length;) {
                    var d = c[b];
                    ++b;
                    d.onRenderContextRestored(a)
                }
            },
            onTouchEnd: function(a, b, c) {
                for (var d = 0, e = this.modules; d < e.length;) {
                    var f = e[d];
                    ++d;
                    f.onTouchEnd(a, b, c)
                }
            },
            onTouchMove: function(a, b, c) {
                for (var d = 0, e = this.modules; d < e.length;) {
                    var f = e[d];
                    ++d;
                    f.onTouchMove(a, b, c)
                }
            },
            onTouchStart: function(a, b, c) {
                for (var d = 0, e = this.modules; d < e.length;) {
                    var f = e[d];
                    ++d;
                    f.onTouchStart(a, b, c)
                }
            },
            onWindowActivate: function() {
                for (var a = 0, b = this.modules; a < b.length;) {
                    var c =
                        b[a];
                    ++a;
                    c.onWindowActivate()
                }
            },
            onWindowClose: function() {
                for (var a = 0, b = this.modules; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.onWindowClose()
                }
            },
            onWindowDeactivate: function() {
                for (var a = 0, b = this.modules; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.onWindowDeactivate()
                }
            },
            onWindowFocusIn: function() {
                for (var a = 0, b = this.modules; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.onWindowFocusIn()
                }
            },
            onWindowFocusOut: function() {
                for (var a = 0, b = this.modules; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.onWindowFocusOut()
                }
            },
            onWindowFullscreen: function() {
                for (var a = 0, b = this.modules; a <
                    b.length;) {
                    var c = b[a];
                    ++a;
                    c.onWindowFullscreen()
                }
            },
            onWindowMinimize: function() {
                for (var a = 0, b = this.modules; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.onWindowMinimize()
                }
            },
            onWindowMove: function(a, b) {
                for (var c = 0, d = this.modules; c < d.length;) {
                    var e = d[c];
                    ++c;
                    e.onWindowMove(a, b)
                }
            },
            onWindowResize: function(a, b) {
                for (var c = 0, d = this.modules; c < d.length;) {
                    var e = d[c];
                    ++c;
                    e.onWindowResize(a, b)
                }
            },
            onWindowRestore: function() {
                for (var a = 0, b = this.modules; a < b.length;) {
                    var c = b[a];
                    ++a;
                    c.onWindowRestore()
                }
            },
            render: function(a) {
                for (var b =
                    0, c = this.modules; b < c.length;) {
                    var d = c[b];
                    ++b;
                    d.render(a)
                }
            },
            update: function(a) {
                for (var b = 0, c = this.modules; b < c.length;) {
                    var d = c[b];
                    ++b;
                    d.update(a)
                }
            },
            __class__: Bb
        });
        var za = function() {
            this.listeners = [];
            this.priorities = [];
            this.repeat = []
        };
        h["lime.app.Event"] = za;
        za.__name__ = ["lime", "app", "Event"];
        za.prototype = {
            add: function(a, b, c) {
                null == c && (c = 0);
                null == b && (b = !1);
                for (var d = 0, e = this.priorities.length; d < e;) {
                    var f = d++;
                    if (c > this.priorities[f]) {
                        this.listeners.splice(f, 0, a);
                        this.priorities.splice(f, 0, c);
                        this.repeat.splice(f,
                            0, !b);
                        return
                    }
                }
                this.listeners.push(a);
                this.priorities.push(c);
                this.repeat.push(!b)
            },
            remove: function(a) {
                a = J.indexOf(this.listeners, a, 0); - 1 < a && (this.listeners.splice(a, 1), this.priorities.splice(a, 1), this.repeat.splice(a, 1))
            },
            __class__: za
        };
        var Sa = function() {
            this.loaded = this.total = 0
        };
        h["lime.app.Preloader"] = Sa;
        Sa.__name__ = ["lime", "app", "Preloader"];
        Sa.prototype = {
            create: function(a) {},
            load: function(a, b) {
                for (var c = null, d = 0, e = a.length; d < e;) {
                    var f = d++,
                        c = a[f];
                    switch (b[f]) {
                        case "IMAGE":
                            f = new Image;
                            Sa.images.set(c,
                                f);
                            f.onload = l(this, this.image_onLoad);
                            f.src = c;
                            this.total++;
                            break;
                        case "BINARY":
                            f = new Ag;
                            f.set_dataFormat(ec.BINARY);
                            Sa.loaders.set(c, f);
                            this.total++;
                            break;
                        case "TEXT":
                            f = new Ag;
                            Sa.loaders.set(c, f);
                            this.total++;
                            break;
                        case "FONT":
                            this.total++, this.loadFont(c)
                    }
                }
                for (c = Sa.loaders.keys(); c.hasNext();) d = c.next(), e = Sa.loaders.get(d), e.onComplete.add(l(this, this.loader_onComplete)), e.load(new ci(d));
                0 == this.total && this.start()
            },
            loadFont: function(a) {
                var b = this;
                if (window.document.fonts && window.document.fonts.load) window.document.fonts.load("1em '" +
                    a + "'").then(function(a) {
                    b.loaded++;
                    b.update(b.loaded, b.total);
                    b.loaded == b.total && b.start()
                });
                else {
                    var c = window.document.createElement("span");
                    c.innerHTML = "giItT1WQy@!-/#";
                    var d = c.style;
                    d.position = "absolute";
                    d.left = "-10000px";
                    d.top = "-10000px";
                    d.fontSize = "300px";
                    d.fontFamily = "sans-serif";
                    d.fontVariant = "normal";
                    d.fontStyle = "normal";
                    d.fontWeight = "normal";
                    d.letterSpacing = "0";
                    window.document.body.appendChild(c);
                    var e = c.offsetWidth;
                    d.fontFamily = "'" + a + "', sans-serif";
                    var f = null,
                        k = !1;
                    a = function() {
                        if (c.offsetWidth !=
                            e) {
                            if (!k) return k = !0, !1;
                            b.loaded++;
                            null != f && window.clearInterval(f);
                            c.parentNode.removeChild(c);
                            c = null;
                            b.update(b.loaded, b.total);
                            b.loaded == b.total && b.start();
                            return !0
                        }
                        return !1
                    };
                    a() || (f = window.setInterval(a, 50))
                }
            },
            start: function() {
                if (null != this.onComplete) this.onComplete()
            },
            update: function(a, b) {},
            image_onLoad: function(a) {
                this.loaded++;
                this.update(this.loaded, this.total);
                this.loaded == this.total && this.start()
            },
            loader_onComplete: function(a) {
                this.loaded++;
                this.update(this.loaded, this.total);
                this.loaded ==
                    this.total && this.start()
            },
            __class__: Sa
        };
        var ak = function() {};
        h["lime.audio.ALAudioContext"] = ak;
        ak.__name__ = ["lime", "audio", "ALAudioContext"];
        var bk = function() {};
        h["lime.audio.ALCAudioContext"] = bk;
        bk.__name__ = ["lime", "audio", "ALCAudioContext"];
        var ck = function() {};
        h["lime.audio.AudioBuffer"] = ck;
        ck.__name__ = ["lime", "audio", "AudioBuffer"];
        var Td = h["lime.audio.AudioContext"] = {
            __ename__: ["lime", "audio", "AudioContext"],
            __constructs__: ["OPENAL", "HTML5", "WEB", "FLASH", "CUSTOM"]
        };
        Td.OPENAL = function(a, b) {
            var c = ["OPENAL", 0, a, b];
            c.__enum__ = Td;
            c.toString = w;
            return c
        };
        Td.HTML5 = function(a) {
            a = ["HTML5", 1, a];
            a.__enum__ = Td;
            a.toString = w;
            return a
        };
        Td.WEB = function(a) {
            a = ["WEB", 2, a];
            a.__enum__ = Td;
            a.toString = w;
            return a
        };
        Td.FLASH = function(a) {
            a = ["FLASH", 3, a];
            a.__enum__ = Td;
            a.toString = w;
            return a
        };
        Td.CUSTOM = function(a) {
            a = ["CUSTOM", 4, a];
            a.__enum__ = Td;
            a.toString = w;
            return a
        };
        var de = function() {};
        h["lime.audio.AudioManager"] = de;
        de.__name__ = ["lime", "audio", "AudioManager"];
        de.context = null;
        de.init = function(a) {
            if (null == de.context)
                if (null ==
                    a) try {
                    window.AudioContext = window.AudioContext || window.webkitAudioContext, de.context = Td.WEB(new AudioContext)
                } catch (b) {
                    de.context = Td.HTML5(new di)
                } else de.context = a
        };
        var dk = function() {};
        h["lime.audio.FlashAudioContext"] = dk;
        dk.__name__ = ["lime", "audio", "FlashAudioContext"];
        var di = function() {};
        h["lime.audio.HTML5AudioContext"] = di;
        di.__name__ = ["lime", "audio", "HTML5AudioContext"];
        di.prototype = {
            __class__: di
        };
        var ek = function() {};
        h["lime.graphics.ConsoleRenderContext"] = ek;
        ek.__name__ = ["lime", "graphics", "ConsoleRenderContext"];
        var fk = function() {};
        h["lime.graphics.FlashRenderContext"] = fk;
        fk.__name__ = ["lime", "graphics", "FlashRenderContext"];
        var Ef = function(a) {
            Qd.call(this, a)
        };
        h["lime.graphics.Font"] = Ef;
        Ef.__name__ = ["lime", "graphics", "Font"];
        Ef.__super__ = Qd;
        Ef.prototype = v(Qd.prototype, {
            get_fontName: function() {
                return this.name
            },
            __class__: Ef,
            __properties__: {
                get_fontName: "get_fontName"
            }
        });
        var Rd = function(a, b, c, d, e, f, k) {
            null == e && (e = -1);
            null == d && (d = -1);
            null == c && (c = 0);
            null == b && (b = 0);
            this.offsetX = b;
            this.offsetY = c;
            this.width = d;
            this.height =
                e;
            if (null == k)
                if (null != Bb.current && null != Bb.current.renderers[0]) switch (Bb.current.renderers[0].context[1]) {
                    case 2:
                    case 1:
                        this.type = Na.CANVAS;
                        break;
                    case 3:
                        this.type = Na.FLASH;
                        break;
                    default:
                        this.type = Na.DATA
                } else this.type = Na.DATA;
                else this.type = k;
            if (null == a) {
                if (0 < d && 0 < e) switch (this.type[1]) {
                    case 0:
                        this.buffer = new Ud(null, d, e);
                        pa.createCanvas(this, d, e);
                        null != f && this.fillRect(new De(0, 0, d, e), f);
                        break;
                    case 1:
                        this.buffer = new Ud(new Uint8Array(d * e * 4), d, e), null != f && this.fillRect(new De(0, 0, d, e), f)
                }
            } else this.__fromImageBuffer(a)
        };
        h["lime.graphics.Image"] = Rd;
        Rd.__name__ = ["lime", "graphics", "Image"];
        Rd.fromBase64 = function(a, b, c) {
            var d = new Rd;
            d.__fromBase64(a, b, c);
            return d
        };
        Rd.fromImageElement = function(a) {
            var b = new Ud(null, a.width, a.height);
            b.set_src(a);
            return new Rd(b)
        };
        Rd.prototype = {
            clone: function() {
                return new Rd(this.buffer.clone(), this.offsetX, this.offsetY, this.width, this.height, null, this.type)
            },
            copyChannel: function(a, b, c, d, e) {
                b = this.__clipRect(b);
                if (null != this.buffer && null != b && !(e == tb.ALPHA && !this.get_transparent() || 0 >= b.width ||
                    0 >= b.height)) switch (b.x + b.width > a.width && (b.width = a.width - b.x), b.y + b.height > a.height && (b.height = a.height - b.y), this.type[1]) {
                    case 0:
                        pa.copyChannel(this, a, b, c, d, e);
                        break;
                    case 1:
                        pa.convertToData(this);
                        Ca.copyChannel(this, a, b, c, d, e);
                        break;
                    case 2:
                        var f;
                        switch (d[1]) {
                            case 0:
                                f = 1;
                                break;
                            case 1:
                                f = 2;
                                break;
                            case 2:
                                f = 4;
                                break;
                            case 3:
                                f = 8
                        }
                        var k;
                        switch (e[1]) {
                            case 0:
                                k = 1;
                                break;
                            case 1:
                                k = 2;
                                break;
                            case 2:
                                k = 4;
                                break;
                            case 3:
                                k = 8
                        }
                        b.offset(a.offsetX, a.offsetY);
                        c.offset(this.offsetX, this.offsetY);
                        this.buffer.__srcBitmapData.copyChannel(a.buffer.get_src(),
                            b.__toFlashRectangle(), c.__toFlashPoint(), f, k)
                }
            },
            copyPixels: function(a, b, c, d, e, f) {
                null == f && (f = !1);
                if (null != this.buffer && null != a && (b.x + b.width > a.width && (b.width = a.width - b.x), b.y + b.height > a.height && (b.height = a.height - b.y), !(0 >= b.width || 0 >= b.height))) switch (this.type[1]) {
                    case 0:
                        pa.convertToCanvas(this);
                        pa.copyPixels(this, a, b, c, d, e, f);
                        break;
                    case 1:
                        pa.convertToData(this);
                        pa.convertToData(a);
                        Ca.copyPixels(this, a, b, c, d, e, f);
                        break;
                    case 2:
                        b.offset(a.offsetX, a.offsetY), c.offset(this.offsetX, this.offsetY), null !=
                            d && null != e && e.offset(d.offsetX, d.offsetY), this.buffer.__srcBitmapData.copyPixels(a.buffer.__srcBitmapData, b.__toFlashRectangle(), c.__toFlashPoint(), null != d ? d.buffer.get_src() : null, null != e ? e.__toFlashPoint() : null, f)
                }
            },
            fillRect: function(a, b) {
                a = this.__clipRect(a);
                if (null != this.buffer && null != a) switch (this.type[1]) {
                    case 0:
                        pa.fillRect(this, a, b);
                        break;
                    case 1:
                        pa.convertToData(this);
                        Ca.fillRect(this, a, b);
                        break;
                    case 2:
                        a.offset(this.offsetX, this.offsetY), this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),
                            b)
                }
            },
            setPixel32: function(a, b, c) {
                if (!(null == this.buffer || 0 > a || 0 > b || a >= this.width || b >= this.height)) switch (this.type[1]) {
                    case 0:
                        pa.setPixel32(this, a, b, c);
                        break;
                    case 1:
                        pa.convertToData(this);
                        Ca.setPixel32(this, a, b, c);
                        break;
                    case 2:
                        this.buffer.__srcBitmapData.setPixel32(a + this.offsetX, b + this.offsetY, c)
                }
            },
            __clipRect: function(a) {
                return null == a || 0 > a.x && (a.width -= -a.x, a.x = 0, 0 >= a.x + a.width) || 0 > a.y && (a.height -= -a.y, a.y = 0, 0 >= a.y + a.height) || a.x + a.width >= this.width && (a.width -= a.x + a.width - this.width, 0 >= a.width) ||
                    a.y + a.height >= this.height && (a.height -= a.y + a.height - this.height, 0 >= a.height) ? null : a
            },
            __fromBase64: function(a, b, c) {
                var d = this,
                    e = new Image;
                e.addEventListener("load", function(a) {
                    d.buffer = new Ud(null, e.width, e.height);
                    d.buffer.__srcImage = e;
                    d.offsetX = 0;
                    d.offsetY = 0;
                    d.width = d.buffer.width;
                    d.height = d.buffer.height;
                    null != c && c(d)
                }, !1);
                e.src = "data:" + b + ";base64," + a
            },
            __fromImageBuffer: function(a) {
                this.buffer = a;
                null != a && (-1 == this.width && (this.width = a.width), -1 == this.height && (this.height = a.height))
            },
            get_data: function() {
                null ==
                    this.buffer.data && 0 < this.buffer.width && 0 < this.buffer.height && (pa.convertToCanvas(this), pa.sync(this), pa.createImageData(this));
                return this.buffer.data
            },
            get_powerOfTwo: function() {
                return 0 != this.buffer.width && (this.buffer.width & ~this.buffer.width + 1) == this.buffer.width && 0 != this.buffer.height && (this.buffer.height & ~this.buffer.height + 1) == this.buffer.height
            },
            get_premultiplied: function() {
                return this.buffer.premultiplied
            },
            set_premultiplied: function(a) {
                if (a && !this.buffer.premultiplied) switch (this.type[1]) {
                        case 1:
                            pa.convertToData(this),
                                Ca.multiplyAlpha(this)
                    } else if (!a && this.buffer.premultiplied) switch (this.type[1]) {
                        case 1:
                            pa.convertToData(this), Ca.unmultiplyAlpha(this)
                    }
                    return a
            },
            get_src: function() {
                return this.buffer.get_src()
            },
            get_transparent: function() {
                return this.buffer.transparent
            },
            set_transparent: function(a) {
                return this.buffer.transparent = a
            },
            __class__: Rd,
            __properties__: {
                set_transparent: "set_transparent",
                get_transparent: "get_transparent",
                get_src: "get_src",
                set_premultiplied: "set_premultiplied",
                get_premultiplied: "get_premultiplied",
                get_powerOfTwo: "get_powerOfTwo",
                get_data: "get_data"
            }
        };
        var tb = h["lime.graphics.ImageChannel"] = {
            __ename__: ["lime", "graphics", "ImageChannel"],
            __constructs__: ["RED", "GREEN", "BLUE", "ALPHA"]
        };
        tb.RED = ["RED", 0];
        tb.RED.toString = w;
        tb.RED.__enum__ = tb;
        tb.GREEN = ["GREEN", 1];
        tb.GREEN.toString = w;
        tb.GREEN.__enum__ = tb;
        tb.BLUE = ["BLUE", 2];
        tb.BLUE.toString = w;
        tb.BLUE.__enum__ = tb;
        tb.ALPHA = ["ALPHA", 3];
        tb.ALPHA.toString = w;
        tb.ALPHA.__enum__ = tb;
        var Ud = function(a, b, c, d) {
            null == d && (d = 4);
            null == c && (c = 0);
            null == b && (b = 0);
            this.data =
                a;
            this.width = b;
            this.height = c;
            this.bitsPerPixel = d;
            this.transparent = !0
        };
        h["lime.graphics.ImageBuffer"] = Ud;
        Ud.__name__ = ["lime", "graphics", "ImageBuffer"];
        Ud.prototype = {
            clone: function() {
                var a = new Ud(this.data, this.width, this.height, this.bitsPerPixel);
                if (null != this.data) {
                    a.data = new Uint8Array(this.data.byteLength);
                    var b = new Uint8Array(this.data);
                    a.data.set(b)
                } else null != this.__srcImageData ? (a.__srcCanvas = window.document.createElement("canvas"), a.__srcContext = a.__srcCanvas.getContext("2d"), a.__srcCanvas.width =
                    this.__srcImageData.width, a.__srcCanvas.height = this.__srcImageData.height, a.__srcImageData = a.__srcContext.createImageData(this.__srcImageData.width, this.__srcImageData.height), b = new Uint8ClampedArray(this.__srcImageData.data), a.__srcImageData.data.set(b)) : null != this.__srcCanvas ? (a.__srcCanvas = window.document.createElement("canvas"), a.__srcContext = a.__srcCanvas.getContext("2d"), a.__srcCanvas.width = this.__srcCanvas.width, a.__srcCanvas.height = this.__srcCanvas.height, a.__srcContext.drawImage(this.__srcCanvas,
                    0, 0)) : a.__srcImage = this.__srcImage;
                a.premultiplied = this.premultiplied;
                a.transparent = this.transparent;
                return a
            },
            get_src: function() {
                return null != this.__srcImage ? this.__srcImage : this.__srcCanvas
            },
            set_src: function(a) {
                D.__instanceof(a, Image) ? this.__srcImage = a : D.__instanceof(a, HTMLCanvasElement) && (this.__srcCanvas = a, this.__srcContext = this.__srcCanvas.getContext("2d"));
                return a
            },
            __class__: Ud,
            __properties__: {
                set_src: "set_src",
                get_src: "get_src"
            }
        };
        var Na = h["lime.graphics.ImageType"] = {
            __ename__: ["lime", "graphics",
                "ImageType"
            ],
            __constructs__: ["CANVAS", "DATA", "FLASH", "CUSTOM"]
        };
        Na.CANVAS = ["CANVAS", 0];
        Na.CANVAS.toString = w;
        Na.CANVAS.__enum__ = Na;
        Na.DATA = ["DATA", 1];
        Na.DATA.toString = w;
        Na.DATA.__enum__ = Na;
        Na.FLASH = ["FLASH", 2];
        Na.FLASH.toString = w;
        Na.FLASH.__enum__ = Na;
        Na.CUSTOM = ["CUSTOM", 3];
        Na.CUSTOM.toString = w;
        Na.CUSTOM.__enum__ = Na;
        var sd = h["lime.graphics.RenderContext"] = {
            __ename__: ["lime", "graphics", "RenderContext"],
            __constructs__: "OPENGL CANVAS DOM FLASH CONSOLE CUSTOM".split(" ")
        };
        sd.OPENGL = function(a) {
            a = ["OPENGL",
                0, a
            ];
            a.__enum__ = sd;
            a.toString = w;
            return a
        };
        sd.CANVAS = function(a) {
            a = ["CANVAS", 1, a];
            a.__enum__ = sd;
            a.toString = w;
            return a
        };
        sd.DOM = function(a) {
            a = ["DOM", 2, a];
            a.__enum__ = sd;
            a.toString = w;
            return a
        };
        sd.FLASH = function(a) {
            a = ["FLASH", 3, a];
            a.__enum__ = sd;
            a.toString = w;
            return a
        };
        sd.CONSOLE = function(a) {
            a = ["CONSOLE", 4, a];
            a.__enum__ = sd;
            a.toString = w;
            return a
        };
        sd.CUSTOM = function(a) {
            a = ["CUSTOM", 5, a];
            a.__enum__ = sd;
            a.toString = w;
            return a
        };
        var Zh = function(a) {
            this.onRender = new za;
            this.onRenderContextRestored = new za;
            this.onRenderContextLost =
                new za;
            this.window = a;
            this.backend = new $h(this);
            this.window.currentRenderer = this
        };
        h["lime.graphics.Renderer"] = Zh;
        Zh.__name__ = ["lime", "graphics", "Renderer"];
        Zh.prototype = {
            create: function() {
                this.backend.create()
            },
            flip: function() {
                this.backend.flip()
            },
            __class__: Zh
        };
        var Wj = function() {};
        h["lime.graphics.opengl.GL"] = Wj;
        Wj.__name__ = ["lime", "graphics", "opengl", "GL"];
        Wj.context = null;
        var pa = function() {};
        h["lime.graphics.utils.ImageCanvasUtil"] = pa;
        pa.__name__ = ["lime", "graphics", "utils", "ImageCanvasUtil"];
        pa.convertToCanvas =
            function(a) {
                var b = a.buffer;
                null != b.__srcImage && (null == b.__srcCanvas && (pa.createCanvas(a, b.__srcImage.width, b.__srcImage.height), b.__srcContext.drawImage(b.__srcImage, 0, 0)), b.__srcImage = null)
            };
        pa.convertToData = function(a) {
            null == a.buffer.data && (pa.convertToCanvas(a), pa.sync(a), pa.createImageData(a), a.buffer.__srcCanvas = null, a.buffer.__srcContext = null)
        };
        pa.copyChannel = function(a, b, c, d, e, f) {
            pa.convertToCanvas(b);
            pa.createImageData(b);
            pa.convertToCanvas(a);
            pa.createImageData(a);
            Ca.copyChannel(a, b, c, d,
                e, f)
        };
        pa.copyPixels = function(a, b, c, d, e, f, k) {
            null == k && (k = !1);
            null != e && e.get_transparent() && (null == f && (f = new pe), b = a.clone(), b.copyChannel(e, new De(f.x, f.y, c.width, c.height), new pe(c.x, c.y), tb.ALPHA, tb.ALPHA));
            pa.sync(a);
            k || a.get_transparent() && b.get_transparent() && a.buffer.__srcContext.clearRect(d.x + a.offsetX, d.y + a.offsetY, c.width + a.offsetX, c.height + a.offsetY);
            pa.sync(b);
            null != b.buffer.get_src() && a.buffer.__srcContext.drawImage(b.buffer.get_src(), c.x + b.offsetX | 0, c.y + b.offsetY | 0, c.width | 0, c.height |
                0, d.x + a.offsetX | 0, d.y + a.offsetY | 0, c.width | 0, c.height | 0)
        };
        pa.createCanvas = function(a, b, c) {
            var d = a.buffer;
            null == d.__srcCanvas && (d.__srcCanvas = window.document.createElement("canvas"), d.__srcCanvas.width = b, d.__srcCanvas.height = c, a.get_transparent() ? d.__srcContext = d.__srcCanvas.getContext("2d") : (a.get_transparent() || d.__srcCanvas.setAttribute("moz-opaque", "true"), d.__srcContext = d.__srcCanvas.getContext("2d", {
                alpha: !1
            })), d.__srcContext.mozImageSmoothingEnabled = !1, d.__srcContext.webkitImageSmoothingEnabled = !1, d.__srcContext.imageSmoothingEnabled = !1)
        };
        pa.createImageData = function(a) {
            a = a.buffer;
            null == a.data && (a.__srcImageData = a.__srcContext.getImageData(0, 0, a.width, a.height), a.data = new Uint8Array(a.__srcImageData.data.buffer))
        };
        pa.fillRect = function(a, b, c) {
            pa.convertToCanvas(a);
            pa.sync(a);
            if (0 == b.x && 0 == b.y && b.width == a.width && b.height == a.height && a.get_transparent() && 0 == (c & -16777216)) a.buffer.__srcCanvas.width = a.buffer.width;
            else {
                var d;
                d = a.get_transparent() ? (c & -16777216) >>> 24 : 255;
                a.buffer.__srcContext.fillStyle =
                    "rgba(" + ((c & 16711680) >>> 16) + ", " + ((c & 65280) >>> 8) + ", " + (c & 255) + ", " + d / 255 + ")";
                a.buffer.__srcContext.fillRect(b.x + a.offsetX, b.y + a.offsetY, b.width + a.offsetX, b.height + a.offsetY)
            }
        };
        pa.setPixel32 = function(a, b, c, d) {
            pa.convertToCanvas(a);
            pa.createImageData(a);
            Ca.setPixel32(a, b, c, d)
        };
        pa.sync = function(a) {
            a.dirty && a.type != Na.DATA && (a.buffer.__srcContext.putImageData(a.buffer.__srcImageData, 0, 0), a.buffer.data = null, a.dirty = !1)
        };
        var Ca = function() {};
        h["lime.graphics.utils.ImageDataUtil"] = Ca;
        Ca.__name__ = ["lime",
            "graphics", "utils", "ImageDataUtil"
        ];
        Ca.__alpha16 = null;
        Ca.__clamp = null;
        Ca.copyChannel = function(a, b, c, d, e, f) {
            var k;
            switch (f[1]) {
                case 0:
                    k = 0;
                    break;
                case 1:
                    k = 1;
                    break;
                case 2:
                    k = 2;
                    break;
                case 3:
                    k = 3
            }
            var q;
            switch (e[1]) {
                case 0:
                    q = 0;
                    break;
                case 1:
                    q = 1;
                    break;
                case 2:
                    q = 2;
                    break;
                case 3:
                    q = 3
            }
            e = 4 * b.buffer.width | 0;
            q = 4 * (c.x + b.offsetX) + e * (c.y + b.offsetY) + q | 0;
            f = e - (4 * (c.width + b.offsetX) | 0);
            var g = 4 * (c.x + b.offsetX + c.width) | 0;
            b = b.buffer.data;
            var h = 4 * a.buffer.width | 0;
            k = 4 * (d.x + a.offsetX) + h * (d.y + a.offsetY) + k | 0;
            var m = h - (4 * (c.width + a.offsetX) |
                0);
            d = 4 * (d.x + a.offsetX + c.width) | 0;
            var B = a.buffer.data;
            c = c.width * c.height | 0;
            for (var R = 0; R < c;) R++, B[k] = b[q], q += 4, k += 4, q % e > g && (q += f), k % h > d && (k += m);
            a.dirty = !0
        };
        Ca.copyPixels = function(a, b, c, d, e, f, k) {
            null == k && (k = !1);
            null != e && e.get_transparent() && (null == f && (f = new pe), b = a.clone(), b.copyChannel(e, new De(f.x, f.y, c.width, c.height), new pe(c.x, c.y), tb.ALPHA, tb.ALPHA));
            e = d.y + a.offsetY - c.y - b.offsetY | 0;
            d = d.x + a.offsetX - c.x - b.offsetY | 0;
            f = b.buffer.data;
            var q = 4 * b.buffer.width,
                g = 0,
                h = a.buffer.data,
                m = 4 * a.buffer.width,
                B =
                0;
            if (k && b.get_transparent()) {
                var R;
                k = G["int"](c.get_top() + b.offsetY);
                for (var l = G["int"](c.get_bottom() + b.offsetY); k < l;)
                    for (var r = k++, u = G["int"](c.get_left() + b.offsetX), p = G["int"](c.get_right() + b.offsetX); u < p;) B = u++, g = r * q + 4 * B, B = (r + e) * m + 4 * (B + d), R = f[g + 3] / 255, R = 1 - R, h[B] = Ca.__clamp[f[g] + h[B] * R | 0], h[B + 1] = Ca.__clamp[f[g + 1] + h[B + 1] * R | 0], h[B + 2] = Ca.__clamp[f[g + 2] + h[B + 2] * R | 0], h[B + 3] = Ca.__clamp[f[g + 3] + h[B + 3] * R | 0]
            } else
                for (k = G["int"](c.get_top() + b.offsetY), l = G["int"](c.get_bottom() + b.offsetY); k < l;)
                    for (r = k++, u =
                        G["int"](c.get_left() + b.offsetX), p = G["int"](c.get_right() + b.offsetX); u < p;) B = u++, g = r * q + 4 * B, B = (r + e) * m + 4 * (B + d), h[B] = f[g], h[B + 1] = f[g + 1], h[B + 2] = f[g + 2], h[B + 3] = f[g + 3];
            a.dirty = !0
        };
        Ca.fillRect = function(a, b, c) {
            var d;
            d = a.get_transparent() ? (c & -16777216) >>> 24 : 255;
            var e = (c & 16711680) >>> 16,
                f = (c & 65280) >>> 8;
            c &= 255;
            var k = a.buffer.data;
            if (b.width == a.buffer.width && b.height == a.buffer.height && 0 == b.x && 0 == b.y && 0 == a.offsetX && 0 == a.offsetY)
                for (var q = a.buffer.width * a.buffer.height, g = 0, h = 0; h < q;) g = 4 * h++, k[g] = e, k[g + 1] = f, k[g + 2] =
                    c, k[g + 3] = d;
            else {
                var q = 4 * a.buffer.width,
                    m, B = b.y + a.offsetY | 0,
                    g = G["int"](b.get_bottom() + a.offsetY),
                    h = b.x + a.offsetX | 0;
                for (b = G["int"](b.get_right() + a.offsetX); B < g;)
                    for (var R = B++, l = h; l < b;) m = l++, m = R * q + 4 * m, k[m] = e, k[m + 1] = f, k[m + 2] = c, k[m + 3] = d
            }
            a.dirty = !0
        };
        Ca.multiplyAlpha = function(a) {
            var b = a.buffer.data;
            if (null != b) {
                for (var c, d = b.length / 4 | 0, e = 0; e < d;) {
                    c = 4 * e++;
                    var f = Ca.__alpha16[b[c + 3]];
                    b[c] = b[c] * f >> 16;
                    b[c + 1] = b[c + 1] * f >> 16;
                    b[c + 2] = b[c + 2] * f >> 16
                }
                a.buffer.premultiplied = !0;
                a.dirty = !0
            }
        };
        Ca.setPixel32 = function(a, b, c, d) {
            var e =
                a.buffer.data;
            b = 4 * (c + a.offsetY) * a.buffer.width + 4 * (b + a.offsetX);
            c = a.get_transparent() ? (d & -16777216) >>> 24 : 255;
            if (a.get_transparent() && a.get_premultiplied()) {
                var f = Ca.__alpha16[c];
                e[b] = ((d & 16711680) >>> 16) * f >> 16;
                e[b + 1] = ((d & 65280) >>> 8) * f >> 16;
                e[b + 2] = (d & 255) * f >> 16
            } else e[b] = (d & 16711680) >>> 16, e[b + 1] = (d & 65280) >>> 8, e[b + 2] = d & 255;
            e[b + 3] = c;
            a.dirty = !0
        };
        Ca.unmultiplyAlpha = function(a) {
            for (var b = a.buffer.data, c, d, e = b.length / 4 | 0, f = 0; f < e;) c = 4 * f++, d = b[c + 3], 0 != d && (d = 255 / d, b[c] = Ca.__clamp[b[c] * d | 0], b[c + 1] = Ca.__clamp[b[c +
                1] * d | 0], b[c + 2] = Ca.__clamp[b[c + 2] * d | 0]);
            a.buffer.premultiplied = !1;
            a.dirty = !0
        };
        var De = function(a, b, c, d) {
            null == d && (d = 0);
            null == c && (c = 0);
            null == b && (b = 0);
            null == a && (a = 0);
            this.x = a;
            this.y = b;
            this.width = c;
            this.height = d
        };
        h["lime.math.Rectangle"] = De;
        De.__name__ = ["lime", "math", "Rectangle"];
        De.prototype = {
            offset: function(a, b) {
                this.x += a;
                this.y += b
            },
            __toFlashRectangle: function() {
                return null
            },
            get_bottom: function() {
                return this.y + this.height
            },
            get_left: function() {
                return this.x
            },
            get_right: function() {
                return this.x + this.width
            },
            get_top: function() {
                return this.y
            },
            __class__: De,
            __properties__: {
                get_top: "get_top",
                get_right: "get_right",
                get_left: "get_left",
                get_bottom: "get_bottom"
            }
        };
        var pe = function(a, b) {
            null == b && (b = 0);
            null == a && (a = 0);
            this.x = a;
            this.y = b
        };
        h["lime.math.Vector2"] = pe;
        pe.__name__ = ["lime", "math", "Vector2"];
        pe.prototype = {
            offset: function(a, b) {
                this.x += a;
                this.y += b
            },
            __toFlashPoint: function() {
                return null
            },
            __class__: pe
        };
        var Ag = function(a) {
            this.onSecurityError = new za;
            this.onProgress = new za;
            this.onOpen = new za;
            this.onIOError = new za;
            this.onHTTPStatus = new za;
            this.onComplete = new za;
            this.bytesTotal = this.bytesLoaded = 0;
            this.set_dataFormat(ec.TEXT);
            null != a && this.load(a)
        };
        h["lime.net.URLLoader"] = Ag;
        Ag.__name__ = ["lime", "net", "URLLoader"];
        Ag.prototype = {
            getData: function() {
                return null
            },
            load: function(a) {
                this.requestUrl(a.url, a.method, a.data, a.formatRequestHeaders())
            },
            registerEvents: function(a) {
                var b = this,
                    c = this;
                "undefined" != typeof XMLHttpRequestProgressEvent && a.addEventListener("progress", l(this, this.__onProgress), !1);
                a.onreadystatechange =
                    function() {
                        if (4 == a.readyState) {
                            var d;
                            try {
                                d = a.status
                            } catch (e) {
                                d = null
                            }
                            void 0 == d && (d = null);
                            if (null != d)
                                for (var f = c.onHTTPStatus.listeners, k = c.onHTTPStatus.repeat, q = f.length, g = 0; g < q;) f[g](b, d), k[g] ? g++ : (c.onHTTPStatus.remove(f[g]), q--);
                            if (null != d && 200 <= d && 400 > d) c.__onData(a.response);
                            else if (null == d)
                                for (d = c.onIOError.listeners, f = c.onIOError.repeat, k = d.length, q = 0; q < k;) d[q](b, "Failed to connect or resolve host"), f[q] ? q++ : (c.onIOError.remove(d[q]), k--);
                            else if (12029 == d)
                                for (d = c.onIOError.listeners, f = c.onIOError.repeat,
                                    k = d.length, q = 0; q < k;) d[q](b, "Failed to connect to host"), f[q] ? q++ : (c.onIOError.remove(d[q]), k--);
                            else if (12007 == d)
                                for (d = c.onIOError.listeners, f = c.onIOError.repeat, k = d.length, q = 0; q < k;) d[q](b, "Unknown host"), f[q] ? q++ : (c.onIOError.remove(d[q]), k--);
                            else if (0 == d) {
                                d = c.onIOError.listeners;
                                f = c.onIOError.repeat;
                                k = d.length;
                                for (q = 0; q < k;) d[q](b, "Unable to make request (may be blocked due to cross-domain permissions)"), f[q] ? q++ : (c.onIOError.remove(d[q]), k--);
                                d = c.onSecurityError.listeners;
                                f = c.onSecurityError.repeat;
                                k = d.length;
                                for (q = 0; q < k;) d[q](b, "Unable to make request (may be blocked due to cross-domain permissions)"), f[q] ? q++ : (c.onSecurityError.remove(d[q]), k--)
                            } else
                                for (d = c.onIOError.listeners, f = c.onIOError.repeat, k = d.length, q = 0; q < k;) d[q](b, "Http Error #" + a.status), f[q] ? q++ : (c.onIOError.remove(d[q]), k--)
                        }
                    }
            },
            requestUrl: function(a, b, c, d) {
                var e = new XMLHttpRequest;
                this.registerEvents(e);
                var f = "";
                if (D.__instanceof(c, Tc)) switch (this.dataFormat[1]) {
                    case 0:
                        f = c.data.buffer;
                        break;
                    default:
                        f = c.readUTFBytes(c.length)
                } else if (D.__instanceof(c,
                    Xj))
                    for (var k = 0, q = Q.fields(c); k < q.length;) {
                        var g = q[k];
                        ++k;
                        0 != f.length && (f += "&");
                        f += encodeURIComponent(g) + "=" + va.urlEncode(Q.field(c, g))
                    } else null != c && (f = c.toString());
                try {
                    if ("GET" == b && null != f && "" != f) {
                        var h = 1 >= a.split("?").length;
                        e.open("GET", a + (h ? "?" : "&") + G.string(f), !0);
                        f = ""
                    } else e.open(D.__cast(b, String), a, !0)
                } catch (m) {
                    d = this.onIOError.listeners;
                    f = this.onIOError.repeat;
                    a = d.length;
                    for (b = 0; b < a;) d[b](this, m.toString()), f[b] ? b++ : (this.onIOError.remove(d[b]), a--);
                    return
                }
                switch (this.dataFormat[1]) {
                    case 0:
                        e.responseType =
                            "arraybuffer"
                }
                for (a = 0; a < d.length;) b = d[a], ++a, e.setRequestHeader(b.name, b.value);
                e.send(f);
                d = this.onOpen.listeners;
                f = this.onOpen.repeat;
                a = d.length;
                for (b = 0; b < a;) d[b](this), f[b] ? b++ : (this.onOpen.remove(d[b]), a--);
                this.getData = function() {
                    return null != e.response ? e.response : e.responseText
                }
            },
            __onData: function(a) {
                a = this.getData();
                switch (this.dataFormat[1]) {
                    case 0:
                        this.data = Tc.__ofBuffer(a);
                        break;
                    default:
                        this.data = G.string(a)
                }
                a = this.onComplete.listeners;
                for (var b = this.onComplete.repeat, c = a.length, d = 0; d < c;) a[d](this),
                    b[d] ? d++ : (this.onComplete.remove(a[d]), c--)
            },
            __onProgress: function(a) {
                this.bytesLoaded = a.loaded;
                this.bytesTotal = a.total;
                a = this.onProgress.listeners;
                for (var b = this.onProgress.repeat, c = a.length, d = 0; d < c;) a[d](this, this.bytesLoaded, this.bytesTotal), b[d] ? d++ : (this.onProgress.remove(a[d]), c--)
            },
            set_dataFormat: function(a) {
                a != ec.BINARY || Q.hasField(window, "ArrayBuffer") ? this.dataFormat = a : this.dataFormat = ec.TEXT;
                return this.dataFormat
            },
            __class__: Ag,
            __properties__: {
                set_dataFormat: "set_dataFormat"
            }
        };
        var ec = h["lime.net.URLLoaderDataFormat"] = {
            __ename__: ["lime", "net", "URLLoaderDataFormat"],
            __constructs__: ["BINARY", "TEXT", "VARIABLES"]
        };
        ec.BINARY = ["BINARY", 0];
        ec.BINARY.toString = w;
        ec.BINARY.__enum__ = ec;
        ec.TEXT = ["TEXT", 1];
        ec.TEXT.toString = w;
        ec.TEXT.__enum__ = ec;
        ec.VARIABLES = ["VARIABLES", 2];
        ec.VARIABLES.toString = w;
        ec.VARIABLES.__enum__ = ec;
        var ci = function(a) {
            null != a && (this.url = a);
            this.requestHeaders = [];
            this.method = "GET";
            this.contentType = null
        };
        h["lime.net.URLRequest"] = ci;
        ci.__name__ = ["lime", "net", "URLRequest"];
        ci.prototype = {
            formatRequestHeaders: function() {
                var a =
                    this.requestHeaders;
                null == a && (a = []);
                if ("GET" == this.method || null == this.data) return a;
                if ("string" == typeof this.data || D.__instanceof(this.data, Tc)) a = a.slice(), a.push(new ei("Content-Type", null != this.contentType ? this.contentType : "application/x-www-form-urlencoded"));
                return a
            },
            __class__: ci
        };
        var ei = function(a, b) {
            null == b && (b = "");
            null == a && (a = "");
            this.name = a;
            this.value = b
        };
        h["lime.net.URLRequestHeader"] = ei;
        ei.__name__ = ["lime", "net", "URLRequestHeader"];
        ei.prototype = {
            __class__: ei
        };
        var Xj = function() {};
        h["lime.net.URLVariables"] =
            Xj;
        Xj.__name__ = ["lime", "net", "URLVariables"];
        var Bg = function() {};
        h["lime.system.System"] = Bg;
        Bg.__name__ = ["lime", "system", "System"];
        Bg.embed = of.lime.embed = function(a, b, c, d, e) {
            var f = null,
                f = "string" == typeof a ? window.document.getElementById(D.__cast(a, String)) : null == a ? window.document.createElement("div") : a;
            a = null;
            null != d && (d = va.replace(d, "#", ""), a = -1 < d.indexOf("0x") ? G.parseInt(d) : G.parseInt("0x" + d));
            null == b && (b = 0);
            null == c && (c = 0);
            Oa.config.background = a;
            Oa.config.element = f;
            Oa.config.width = b;
            Oa.config.height =
                c;
            Oa.config.assetsPrefix = e;
            Oa.create()
        };
        Bg.getTimer = function() {
            return G["int"]((new Date).getTime())
        };
        var gk = function() {};
        h["lime.ui.Gamepad"] = gk;
        gk.__name__ = ["lime", "ui", "Gamepad"];
        var pc = function() {};
        h["lime.ui._KeyModifier.KeyModifier_Impl_"] = pc;
        pc.__name__ = ["lime", "ui", "_KeyModifier", "KeyModifier_Impl_"];
        pc.__properties__ = {
            get_shiftKey: "get_shiftKey",
            get_metaKey: "get_metaKey",
            get_ctrlKey: "get_ctrlKey",
            get_altKey: "get_altKey"
        };
        pc.get_altKey = function(a) {
            return 0 < (a & 256) || 0 < (a & 512)
        };
        pc.get_ctrlKey =
            function(a) {
                return 0 < (a & 64) || 0 < (a & 128)
            };
        pc.get_metaKey = function(a) {
            return 0 < (a & 1024) || 0 < (a & 2048)
        };
        pc.get_shiftKey = function(a) {
            return 0 < (a & 1) || 0 < (a & 2)
        };
        var fe = function() {};
        h["lime.ui.Mouse"] = fe;
        fe.__name__ = ["lime", "ui", "Mouse"];
        fe.__properties__ = {
            set_cursor: "set_cursor"
        };
        fe.set_cursor = function(a) {
            return ee.set_cursor(a)
        };
        var Y = h["lime.ui.MouseCursor"] = {
            __ename__: ["lime", "ui", "MouseCursor"],
            __constructs__: "ARROW CROSSHAIR DEFAULT MOVE POINTER RESIZE_NESW RESIZE_NS RESIZE_NWSE RESIZE_WE TEXT WAIT WAIT_ARROW CUSTOM".split(" ")
        };
        Y.ARROW = ["ARROW", 0];
        Y.ARROW.toString = w;
        Y.ARROW.__enum__ = Y;
        Y.CROSSHAIR = ["CROSSHAIR", 1];
        Y.CROSSHAIR.toString = w;
        Y.CROSSHAIR.__enum__ = Y;
        Y.DEFAULT = ["DEFAULT", 2];
        Y.DEFAULT.toString = w;
        Y.DEFAULT.__enum__ = Y;
        Y.MOVE = ["MOVE", 3];
        Y.MOVE.toString = w;
        Y.MOVE.__enum__ = Y;
        Y.POINTER = ["POINTER", 4];
        Y.POINTER.toString = w;
        Y.POINTER.__enum__ = Y;
        Y.RESIZE_NESW = ["RESIZE_NESW", 5];
        Y.RESIZE_NESW.toString = w;
        Y.RESIZE_NESW.__enum__ = Y;
        Y.RESIZE_NS = ["RESIZE_NS", 6];
        Y.RESIZE_NS.toString = w;
        Y.RESIZE_NS.__enum__ = Y;
        Y.RESIZE_NWSE = ["RESIZE_NWSE",
            7
        ];
        Y.RESIZE_NWSE.toString = w;
        Y.RESIZE_NWSE.__enum__ = Y;
        Y.RESIZE_WE = ["RESIZE_WE", 8];
        Y.RESIZE_WE.toString = w;
        Y.RESIZE_WE.__enum__ = Y;
        Y.TEXT = ["TEXT", 9];
        Y.TEXT.toString = w;
        Y.TEXT.__enum__ = Y;
        Y.WAIT = ["WAIT", 10];
        Y.WAIT.toString = w;
        Y.WAIT.__enum__ = Y;
        Y.WAIT_ARROW = ["WAIT_ARROW", 11];
        Y.WAIT_ARROW.toString = w;
        Y.WAIT_ARROW.__enum__ = Y;
        Y.CUSTOM = ["CUSTOM", 12];
        Y.CUSTOM.toString = w;
        Y.CUSTOM.__enum__ = Y;
        var Yh = function(a) {
            this.onWindowRestore = new za;
            this.onWindowResize = new za;
            this.onWindowMove = new za;
            this.onWindowMinimize = new za;
            this.onWindowFullscreen = new za;
            this.onWindowFocusOut = new za;
            this.onWindowFocusIn = new za;
            this.onWindowDeactivate = new za;
            this.onWindowClose = new za;
            this.onWindowActivate = new za;
            this.onTouchStart = new za;
            this.onTouchMove = new za;
            this.onTouchEnd = new za;
            this.onMouseWheel = new za;
            this.onMouseUp = new za;
            this.onMouseMove = new za;
            this.onMouseDown = new za;
            this.onKeyUp = new za;
            this.onKeyDown = new za;
            this.onGamepadDisconnect = new za;
            this.onGamepadConnect = new za;
            this.onGamepadButtonUp = new za;
            this.onGamepadButtonDown = new za;
            this.onGamepadAxisMove = new za;
            this.config = a;
            this.__height = this.__width = 0;
            this.__fullscreen = !1;
            this.__y = this.__x = 0;
            null != a && (Object.prototype.hasOwnProperty.call(a, "width") && (this.__width = a.width), Object.prototype.hasOwnProperty.call(a, "height") && (this.__height = a.height), Object.prototype.hasOwnProperty.call(a, "fullscreen") && (this.__fullscreen = a.fullscreen));
            this.backend = new ai(this)
        };
        h["lime.ui.Window"] = Yh;
        Yh.__name__ = ["lime", "ui", "Window"];
        Yh.prototype = {
            create: function(a) {
                this.backend.create(a);
                null !=
                    this.currentRenderer && this.currentRenderer.create()
            },
            resize: function(a, b) {
                this.backend.resize(a, b);
                this.__width = a;
                this.__height = b
            },
            set_fullscreen: function(a) {
                return this.__fullscreen = this.backend.setFullscreen(a)
            },
            set_height: function(a) {
                this.resize(this.__width, a);
                return this.__height
            },
            set_width: function(a) {
                this.resize(a, this.__height);
                return this.__width
            },
            __class__: Yh,
            __properties__: {
                set_width: "set_width",
                set_height: "set_height",
                set_fullscreen: "set_fullscreen"
            }
        };
        var Tc = function(a) {
            null == a && (a = 0);
            this.length = this.position = this.allocated = 0;
            0 < a && (this.allocated = a);
            this.___resizeBuffer(this.allocated);
            this.set_length(this.allocated)
        };
        h["lime.utils.ByteArray"] = Tc;
        Tc.__name__ = ["lime", "utils", "ByteArray"];
        Tc.__ofBuffer = function(a) {
            var b = new Tc;
            b.set_length(b.allocated = a.byteLength);
            b.data = new DataView(a);
            b.byteView = new Uint8Array(a);
            return b
        };
        Tc.prototype = {
            readUTFBytes: function(a) {
                var b = "";
                for (a = this.position + a; this.position < a;) {
                    var c = this.data,
                        d = c.getUint8(this.position++);
                    if (128 > d) {
                        if (0 == d) break;
                        b += String.fromCharCode(d)
                    } else if (224 > d) b += String.fromCharCode((d & 63) << 6 | c.getUint8(this.position++) & 127);
                    else if (240 > d) var e = c.getUint8(this.position++),
                        b = b + String.fromCharCode((d & 31) << 12 | (e & 127) << 6 | c.getUint8(this.position++) & 127);
                    else var e = c.getUint8(this.position++),
                        f = c.getUint8(this.position++),
                        b = b + String.fromCharCode((d & 15) << 18 | (e & 127) << 12 | f << 6 & 127 | c.getUint8(this.position++) & 127)
                }
                return b
            },
            writeByte: function(a) {
                var b = this.position + 1;
                this.length < b && (this.allocated < b ? this.___resizeBuffer(this.allocated =
                    G["int"](Math.max(b, 2 * this.allocated))) : this.allocated > 2 * b && this.___resizeBuffer(this.allocated = b), this.length = b, b);
                this.data.setInt8(this.position, a);
                this.position += 1
            },
            writeUTFBytes: function(a) {
                for (var b = 0, c = a.length; b < c;) {
                    var d = b++,
                        d = a.charCodeAt(d);
                    127 >= d ? this.writeByte(d) : (2047 >= d ? this.writeByte(192 | d >> 6) : (65535 >= d ? this.writeByte(224 | d >> 12) : (this.writeByte(240 | d >> 18), this.writeByte(128 | d >> 12 & 63)), this.writeByte(128 | d >> 6 & 63)), this.writeByte(128 | d & 63))
                }
            },
            __get: function(a) {
                return this.data.getInt8(a)
            },
            ___resizeBuffer: function(a) {
                var b = this.byteView,
                    c = new Uint8Array(a);
                null != b && (b.length <= a ? c.set(b) : c.set(b.subarray(0, a)));
                this.byteView = c;
                this.data = new DataView(c.buffer)
            },
            __set: function(a, b) {
                this.data.setUint8(a, b)
            },
            set_length: function(a) {
                this.allocated < a ? this.___resizeBuffer(this.allocated = G["int"](Math.max(a, 2 * this.allocated))) : this.allocated > 2 * a && this.___resizeBuffer(this.allocated = a);
                return this.length = a
            },
            __class__: Tc,
            __properties__: {
                set_length: "set_length"
            }
        };
        var Ne = function() {};
        h["managers.LevelManager"] =
            Ne;
        Ne.__name__ = ["managers", "LevelManager"];
        Ne.getOptions = function(a) {
            return {
                type: a.t,
                x: G.parseFloat(a.x),
                y: G.parseFloat(a.y),
                r: G.parseFloat(a.r),
                scaleX: G.parseFloat(a.w),
                scaleY: G.parseFloat(a.h)
            }
        };
        Ne.prototype = {
            init: function(a) {
                this.level = a;
                this.config = this.paraseConfig(a);
                ya.add("base");
                ya.add("hero");
                ya.add("girl");
                ya.add("evil")
            },
            paraseConfig: function(a) {
                return O.instance.levelsConfig[a - 1]
            },
            build: function() {
                if (null == this.config) console.log("No config for Level " + this.level);
                else {
                    var a = this.config.l;
                    E.get_instance().postNotify("initLevelGraphics", this, {
                        layers: a
                    });
                    for (var b = 0; b < a.length;) {
                        var c = a[b];
                        ++b;
                        this.parseLayer(c)
                    }
                    ta.instance.newCustomVars(this.config.v)
                }
            },
            parseLayer: function(a) {
                var b, c = a.i;
                a = null;
                for (var d = [], e = null, f = 0; f < c.length;) {
                    var k = c[f];
                    ++f;
                    if ("ground" == k.t || "woodenBlock" == k.t || "hero" == k.t || "finish" == k.t || "evilBull" == k.t || "hoist" == k.t || "spring" == k.t || "cannon" == k.t || "hook" == k.t || "MovingPlatform" == k.t) switch (b = Ne.getOptions(k), b.type) {
                        case "ground":
                            b = new rg(b);
                            ta.instance.layersManager.getLayer("objects").addChild(b);
                            break;
                        case "woodenBlock":
                            b = new qg(b);
                            ta.instance.layersManager.getLayer("objects").addChild(b);
                            break;
                        case "hero":
                            a = b;
                            break;
                        case "finish":
                            e = b;
                            break;
                        case "evilBull":
                            d.push(b);
                            break;
                        case "hoist":
                        case "spring":
                        case "cannon":
                        case "hook":
                            this.addMechanism(b);
                            break;
                        case "MovingPlatform":
                            b = new tf(b), D.__cast(b, tf).initPath(k), ta.instance.layersManager.getLayer("objects").addChild(b)
                    }
                }
                null != e && (b = new og(e), ta.instance.layersManager.getLayer("objects2").addChild(b));
                if (0 != d.length)
                    for (c = 0; c < d.length;) b = d[c],
                        ++c, b = new Xc(b), ta.instance.layersManager.getLayer("units").addChild(b);
                null != a && (b = new Mb(a), ta.instance.layersManager.getLayer("units").addChild(b), this.hero = b)
            },
            addMechanism: function(a) {
                var b = ta.instance.layersManager.getLayer("objects"),
                    b = H.seekObjectWithClassOn(b, a.x, a.y, "blocks.interactive.InteractiveBlock", 5),
                    c = null;
                if (null == b) console.log("no found");
                else {
                    switch (a.type) {
                        case "hoist":
                            c = new Cg;
                            break;
                        case "spring":
                            c = new Dg;
                            break;
                        case "cannon":
                            c = new Eg;
                            break;
                        case "hook":
                            c = new Fg
                    }
                    c.init(a.x, a.y,
                        a.r, b);
                    b.addMechanism(c)
                }
            },
            fixHeroesDistance: function() {
                var a = H.calcDistOfDots(this.hero.body.get_position().get_x(), this.hero.body.get_position().get_y(), this.girl.body.get_position().get_x(), this.girl.body.get_position().get_y());
                65 > a && this.arangeHeroes(a, this.hero.body)
            },
            fixEvilBullDistance: function() {
                var a = this.getNearEvilBull();
                if (null != a) {
                    var b = H.calcDistOfDots(a.body.get_position().get_x(), a.body.get_position().get_y(), this.girl.body.get_position().get_x(), this.girl.body.get_position().get_y());
                    65 > b && this.arangeHeroes(b, a.body)
                }
            },
            getNearEvilBull: function() {
                var a = ha.get_instance().space.bodiesInCircle(this.girl.body.get_position(), 40);
                if (null == a) return null;
                var b = a.get_length();
                if (0 == b) return null;
                for (var c = null, d = 0; d < b;) {
                    var e = d++;
                    if (1 == D.__instanceof(a.at(e).get_userData().data, Xc)) {
                        c = a.at(e).get_userData().data;
                        break
                    }
                }
                return c
            },
            arangeHeroes: function(a, b) {
                var c = (65 - a) / 2;
                null == b.zpp_inner.wrap_pos && b.zpp_inner.setupPosition();
                if (b.zpp_inner.wrap_pos.get_x() > this.girl.body.get_position().get_x()) {
                    var d;
                    null == b.zpp_inner.wrap_pos && b.zpp_inner.setupPosition();
                    d = b.zpp_inner.wrap_pos;
                    d.set_x(function(a) {
                        d.zpp_inner.validate();
                        return d.zpp_inner.x
                    }(this) + c);
                    var e = this.girl.body.get_position();
                    e.set_x(function(a) {
                        e.zpp_inner.validate();
                        return e.zpp_inner.x
                    }(this) - c)
                } else {
                    var f;
                    null == b.zpp_inner.wrap_pos && b.zpp_inner.setupPosition();
                    f = b.zpp_inner.wrap_pos;
                    f.set_x(function(a) {
                        f.zpp_inner.validate();
                        return f.zpp_inner.x
                    }(this) - c);
                    var k = this.girl.body.get_position();
                    k.set_x(function(a) {
                        k.zpp_inner.validate();
                        return k.zpp_inner.x
                    }(this) + c)
                }
            },
            free: function() {
                this.girl = this.hero = this.config = null
            },
            __class__: Ne
        };
        var Aa = function() {
            this.speed = new K;
            this.working = !1;
            this.animateTime = 30;
            this.midRatation = this.level = 0;
            this.lastTransform = {
                x: null,
                y: null,
                r: null
            };
            this.lastBodyTransform = {
                x: null,
                y: null,
                r: null
            };
            E.get_instance().postNotify("newMechanism");
            E.get_instance().signToNotify("clearAll", this);
            this.target = this.baseJoint = null;
            this.lastTargetTransform = {
                x: null,
                y: null,
                r: null
            };
            this.breakForce = 75E3
        };
        h["mechanisms.BaseMechanism"] =
            Aa;
        Aa.__name__ = ["mechanisms", "BaseMechanism"];
        Aa.__interfaces__ = [ye];
        Aa.prototype = {
            isSleeping: function() {
                return null == this.body ? !1 : this.body.zpp_inner.component.sleeping
            },
            wakeUp: function() {
                null != this.body && this.body.applyImpulse(K.get(0, 0, !0))
            },
            checkChangeTransform: function() {
                if (this.lastTransform.x == this.globalPoint.x && this.lastTransform.y == this.globalPoint.y && this.lastTransform.r == this.globalRotation) return !1;
                this.lastTransform.x = this.globalPoint.x;
                this.lastTransform.y = this.globalPoint.y;
                this.lastTransform.r =
                    this.globalRotation;
                return !0
            },
            checkChangeBodyTransform: function() {
                if (null == this.body || this.lastBodyTransform.x == this.body.get_position().get_x() && this.lastBodyTransform.y == this.body.get_position().get_y() && this.lastBodyTransform.r == this.body.zpp_inner.rot) return !1;
                this.lastBodyTransform.x = this.body.get_position().get_x();
                this.lastBodyTransform.y = this.body.get_position().get_y();
                this.lastBodyTransform.r = this.body.zpp_inner.rot;
                return !0
            },
            receiveNotify: function(a, b, c) {
                "heroReady" == a ? this.heroReady() :
                    "startLevel" == a ? this.initAnim() : "clearAll" == a && this.free()
            },
            heroReady: function() {
                this.button.mouseEnabled = !0;
                this.button.mouseChildren = !0;
                this.btnTop.set_alpha(1)
            },
            initAnim: function() {
                var a = O.instance.getAnimationConfig("meha_work_animFix");
                this.anim = new nd("tilelayer1", a);
                this.anim.set_x(440);
                this.anim.set_y(249);
                this.anim.setFps(35);
                this.updateTransform()
            },
            init: function(a, b, c, d) {
                E.get_instance().signToNotify("heroReady", this);
                E.get_instance().signToNotify("startLevel", this);
                this.x = a;
                this.y = b;
                this.r =
                    c;
                this.target = d;
                this.localRotation = this.r - this.target.get_rotation();
                this.globalPoint = {
                    x: this.x,
                    y: this.y
                };
                this.localPoint = H.localToLocal(ta.instance, this.target, this.globalPoint);
                this.startPoint = {
                    x: this.localPoint.x,
                    y: this.localPoint.y
                };
                this.speed.rotate(H.toRad(this.localRotation));
                this.speedLenght = this.speed.get_length();
                this.initGraph();
                this.initPhys()
            },
            initGraph: function() {},
            createButton: function(a, b, c) {
                this.bg = new yb("tilelayer1", a);
                this.btnMid = new yb("tilelayer1", b);
                this.btnTop = new yb("tilelayer1",
                    c);
                this.btnTop.set_alpha(.5);
                a = new A;
                a.get_graphics().beginFill(268435455);
                a.get_graphics().drawCircle(0, 0, 38);
                a.get_graphics().endFill();
                a.set_alpha(0);
                this.button = new xa;
                this.button.setGraph(a);
                this.button.setTileGraph(this.btnTop);
                this.button.addEventListener("b_start", l(this, this.activate));
                this.button.set_x(this.localPoint.x);
                this.button.set_y(this.localPoint.y);
                this.button.set_rotation(this.localRotation);
                this.target.topLayer.addChild(this.button);
                this.button.mouseEnabled = !1;
                this.button.mouseChildren = !1;
                this.updateTransform()
            },
            initPhys: function() {
                this.body = T.createBox("dynamic", 1, 1);
                this.body.get_position().setxy(this.x, this.y);
                this.body.set_rotation(H.toRad(this.r));
                T.setSensor(this.body, !0);
                this.body.set_mass(3.2);
                this.body.get_userData().data = "mechanism";
                this.body.set_space(ha.get_instance().space);
                var a = new K(this.x, this.y),
                    b = K.weak(function(b) {
                        a.zpp_inner.validate();
                        return a.zpp_inner.x
                    }(this), function(b) {
                        a.zpp_inner.validate();
                        return a.zpp_inner.y
                    }(this)),
                    b = T.rotateVecAround(b, a, H.toRad(this.r));
                this.baseJoint = T.createPivotJoint(ha.get_instance().space, this.body, this.target.body, b, b);
                a.dispose()
            },
            activate: function(a) {
                1 != this.working && (0 == ta.instance.timeStarted && ta.instance.startTimeWork(), E.get_instance().postNotify("activateMechanism"), this.startWorking())
            },
            startWorking: function() {
                this.button.mouseEnabled = !1;
                this.button.mouseChildren = !1;
                this.btnTop.set_alpha(.5);
                null != this.anim && this.anim.play();
                this.level++;
                null != this.graph && this.graph.set_visible(!0);
                this.working = !0;
                this.progress = 0
            },
            update: function() {
                this.updateOptions();
                1 == this.working && this.updateProgress();
                1 == this.checkChangeTransform() && this.updateTransform();
                1 == this.checkChangeBodyTransform() && this.updateBodyTransform()
            },
            updateOptions: function() {
                if (this.lastTargetTransform.x != this.target.get_x() || this.lastTargetTransform.y != this.target.get_y() || this.lastTargetTransform.r != this.target.get_rotation()) this.lastTargetTransform.x = this.target.get_x(), this.lastTargetTransform.y = this.target.get_y(), this.lastTargetTransform.r = this.target.get_rotation(),
                    this.globalPoint = H.localToLocal(this.target, ta.instance, this.localPoint), this.globalRotation = this.localRotation + this.target.get_rotation()
            },
            updateTransform: function() {
                null != this.target && (this.bg.set_x(this.globalPoint.x), this.bg.set_y(this.globalPoint.y), this.bg.set_rotation(this.globalRotation), this.btnMid.set_x(this.globalPoint.x), this.btnMid.set_y(this.globalPoint.y), this.btnMid.set_rotation(this.globalRotation + this.midRatation), this.btnTop.set_x(this.globalPoint.x), this.btnTop.set_y(this.globalPoint.y),
                    this.btnTop.set_rotation(this.globalRotation), null != this.anim && (this.anim.set_x(this.globalPoint.x), this.anim.set_y(this.globalPoint.y)))
            },
            updateBodyTransform: function() {
                null != this.body && null != this.graphContainer && (this.graphContainer.set_x(this.body.get_position().get_x()), this.graphContainer.set_y(this.body.get_position().get_y()), this.graphContainer.set_rotation(H.toDeg(this.body.zpp_inner.rot)))
            },
            updateProgress: function() {
                this.midRatation += 5
            },
            free: function() {
                null != this.baseJoint && (this.baseJoint.set_space(null),
                    this.baseJoint = null);
                null != this.bg && (this.bg.free(), this.bg = null);
                null != this.btnTop && (this.btnTop.free(), this.btnTop = null);
                null != this.anim && (this.anim.free(), this.anim = null);
                this.target = null;
                this.speed.dispose();
                this.graphContainer = this.speed = null;
                null != this.graph && (this.graph.free(), this.graph = null);
                this.button.free();
                this.button = null;
                null != this.body && (this.body.set_space(null), this.body = null);
                null != this.btnMid && (this.btnMid.free(), this.btnMid = null)
            },
            __class__: Aa
        };
        var Zc = function(a) {
            A.call(this);
            this.active = !0;
            this.move = this.destoyed = !1;
            this.size = 20;
            this.explosionRadius = 100;
            this.explosionPower = 1900;
            this.set_x(a.x);
            this.set_y(a.y);
            this.init()
        };
        h["mechanisms.Bullet"] = Zc;
        Zc.__name__ = ["mechanisms", "Bullet"];
        Zc.__interfaces__ = [Jh];
        Zc.__super__ = A;
        Zc.prototype = v(A.prototype, {
            init: function() {
                this.initPhys();
                this.initGraph();
                Ib.get_instance().add(this)
            },
            initPhys: function() {
                var a = Tb;
                null == g.BodyType_KINEMATIC && (g.internal = !0, g.BodyType_KINEMATIC = new Ba, g.internal = !1);
                this.body = new a(g.BodyType_KINEMATIC);
                this.body.zpp_inner.wrap_shapes.add(T.createCirclePolygon(this.size));
                T.setSensor(this.body, !0);
                this.body.get_userData().data = this;
                this.body.get_position().setxy(this.get_x(), this.get_y());
                this.body.set_space(ha.get_instance().space)
            },
            initGraph: function() {
                this.tileGraph = new yb("tilelayer1", "jadro");
                this.tileGraph.set_x(this.get_x());
                this.tileGraph.set_y(this.get_y())
            },
            setSpeed: function(a) {
                this.move = !0;
                this.speed = a;
                this.body.set_velocity(this.speed)
            },
            update: function() {
                1 == this.move && this.updateGraph()
            },
            updateGraph: function() {
                this.set_x(this.body.get_position().get_x());
                this.set_y(this.body.get_position().get_y());
                this.tileGraph.set_x(this.get_x());
                this.tileGraph.set_y(this.get_y())
            },
            contact: function(a) {
                "worldBox" == a && 0 == this.destoyed && this.free();
                if (0 != this.active) {
                    if (1 == D.__instanceof(a, ga)) {
                        if (D.__cast(a, ga).body == this.ignoreBody) return;
                        this.sendImpulse(D.__cast(a, ga).body);
                        this.bounceFrom(D.__cast(a, ga).body)
                    }
                    "mechanism" != a && (this.active = !1)
                }
            },
            blow: function() {
                for (var a = ha.get_instance().space.bodiesInCircle(this.body.get_position(),
                    this.explosionRadius), b, c = 0, d = a.get_length(); c < d;) {
                    b = c++;
                    b = a.at(b);
                    var e = fc.types[b.zpp_inner.type],
                        f = void 0;
                    null == g.BodyType_DYNAMIC && (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1);
                    f = g.BodyType_DYNAMIC;
                    e == f && b != this.body && this.sendImpulse(b)
                }
            },
            sendImpulse: function(a) {
                var b = T.calcImpulseVec(this.body.get_worldCOM(), function(b) {
                    null == a.zpp_inner.wrap_worldCOM && (a.zpp_inner.wrap_worldCOM = K.get(a.zpp_inner.worldCOMx, a.zpp_inner.worldCOMy, null), a.zpp_inner.wrap_worldCOM.zpp_inner._inuse = !0, a.zpp_inner.wrap_worldCOM.zpp_inner._immutable = !0, a.zpp_inner.wrap_worldCOM.zpp_inner._validate = (Gg = a.zpp_inner, l(Gg, Gg.getworldCOM)));
                    return a.zpp_inner.wrap_worldCOM
                }(this), -5, 5);
                b.set_length(this.explosionPower);
                a.applyImpulse(b);
                b.dispose();
                b = null
            },
            bounceFrom: function(a) {
                this.body.set_type(function(a) {
                    null == g.BodyType_DYNAMIC && (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1);
                    return g.BodyType_DYNAMIC
                }(this));
                var b = 1;
                null == a.zpp_inner.wrap_pos && a.zpp_inner.setupPosition();
                a.zpp_inner.wrap_pos.get_x() > this.get_x() && (b = -1);
                null == a.zpp_inner.wrap_pos &&
                    a.zpp_inner.setupPosition();
                a.zpp_inner.wrap_pos.get_x() == this.get_x() && 5 < H.randTo(0, 10) && (b = -1);
                a = K.get(b, -1.3, !0);
                a.normalise();
                a.set_length(400);
                this.body.set_velocity(K.get(0, 0, !0));
                b = this.body;
                b.set_torque(5 * b.zpp_inner.torque);
                this.body.applyImpulse(a)
            },
            free: function() {
                0 != this.active && (this.active = !1, this.parent.removeChild(this), this.body.set_space(null), this.body = null, Ib.get_instance().del(this), this.ignoreBody = this.speed = null, this.tileGraph.free(), this.tileGraph = null)
            },
            __class__: Zc
        });
        var Eg =
            function() {
                Aa.call(this);
                this.power = 500;
                this.time = 30
            };
        h["mechanisms.Cannon"] = Eg;
        Eg.__name__ = ["mechanisms", "Cannon"];
        Eg.__super__ = Aa;
        Eg.prototype = v(Aa.prototype, {
            initGraph: function() {
                this.createButton("mehanizm_osnova4", "mehanizm_krug4", "mehanizm_knopka4")
            },
            startWorking: function() {
                1 != this.level && (P.get_instance().playSound("cannon"), Aa.prototype.startWorking.call(this), this.shoot())
            },
            updateProgress: function() {
                Aa.prototype.updateProgress.call(this);
                this.progress++;
                this.progress == this.time && (this.working = !1)
            },
            shoot: function() {
                this.speed.set_x(0);
                this.speed.set_y(1);
                this.speed.set_length(this.power);
                this.speed.rotate(H.toRad(this.globalRotation));
                this.globalPoint = H.localToLocal(this.target, ta.instance, this.localPoint);
                this.bullet = new Zc(this.globalPoint);
                this.bullet.ignoreBody = this.target.body;
                ta.instance.layersManager.getLayer("effects").addChild(this.bullet);
                this.bullet.setSpeed(this.speed)
            },
            free: function() {
                null != this.bullet && (this.bullet.free(), this.bullet = null);
                Aa.prototype.free.call(this)
            },
            __class__: Eg
        });
        var Cg = function() {
            Aa.call(this);
            this.time = 18;
            this.speed.set_y(78 / this.time);
            this.jointsActive = this.sensor = !0
        };
        h["mechanisms.Hoist"] = Cg;
        Cg.__name__ = ["mechanisms", "Hoist"];
        Cg.__super__ = Aa;
        Cg.prototype = v(Aa.prototype, {
            initGraph: function() {
                this.graphContainer = new A;
                ta.instance.layersManager.getLayer("background").addChild(this.graphContainer);
                this.graph = new Se;
                this.graph.addSource("assets/images/elements/hoist_body.png");
                this.graph.init();
                this.graph.set_y(0);
                this.graph.drawFromBottom(17);
                this.graphContainer.addChild(this.graph);
                this.graph.set_visible(!1);
                this.createButton("mehanizm_osnova1", "mehanizm_krug1", "mehanizm_knopka1")
            },
            initPhys: function() {
                var a = Tb;
                null == g.BodyType_DYNAMIC && (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1);
                this.body = new a(g.BodyType_DYNAMIC);
                this.body.zpp_inner.wrap_shapes.add(T.createPolygon(40, 55, 0, -15));
                this.body.zpp_inner.wrap_shapes.add(T.createPolygon(25, 40, 0, 18));
                this.body.get_position().setxy(this.x, this.y);
                this.body.set_rotation(H.toRad(this.r));
                this.body.get_userData().data = "mechanism";
                T.setSensor(this.body, !0);
                this.body.set_space(ha.get_instance().space);
                var b = new K(this.x, this.y),
                    a = K.weak(function(a) {
                        b.zpp_inner.validate();
                        return b.zpp_inner.x
                    }(this), function(a) {
                        b.zpp_inner.validate();
                        return b.zpp_inner.y
                    }(this) - 20),
                    a = T.rotateVecAround(a, b, H.toRad(this.r));
                this.joint = T.createPivotJoint(ha.get_instance().space, this.body, this.target.body, a, a);
                a = K.weak(function(a) {
                    b.zpp_inner.validate();
                    return b.zpp_inner.x
                }(this), function(a) {
                    b.zpp_inner.validate();
                    return b.zpp_inner.y
                }(this) + 20);
                a = T.rotateVecAround(a, b, H.toRad(this.r));
                this.joint2 = T.createPivotJoint(ha.get_instance().space, this.body, this.target.body, a, a);
                this.joint2.set_maxForce(this.breakForce);
                this.joint2.set_breakUnderForce(!0);
                b.dispose();
                this.updateBodyTransform()
            },
            startWorking: function() {
                1 != this.level && (P.get_instance().playSound("hoist"), Aa.prototype.startWorking.call(this), 1 == this.sensor && (T.setSensor(this.body, !1), this.sensor = !1))
            },
            update: function() {
                Aa.prototype.update.call(this);
                this.checkBreakJoints()
            },
            checkBreakJoints: function() {
                0 !=
                    this.jointsActive && null == this.joint2.get_space() && (this.jointsActive = !1, this.joint.set_space(null), this.joint2 = this.joint = null, T.setSensor(this.body, !0))
            },
            updateProgress: function() {
                Aa.prototype.updateProgress.call(this);
                this.progress++;
                this.progress == this.time && (this.working = !1);
                this.moveBody()
            },
            moveBody: function() {
                0 != this.jointsActive && (this.joint.set_anchor2(this.joint.get_anchor2().add(this.speed)), this.joint2.set_anchor2(this.joint2.get_anchor2().add(this.speed)), this.graph.drawFromBottom(this.speedLenght))
            },
            free: function() {
                null != this.joint && (this.joint.set_space(null), this.joint = null);
                null != this.joint2 && (this.joint2.set_space(null), this.joint2 = null);
                Aa.prototype.free.call(this)
            },
            __class__: Cg
        });
        var Cb = h["mechanisms.HookState"] = {
            __ename__: ["mechanisms", "HookState"],
            __constructs__: ["Idle", "MoveToTarget", "MoveBack"]
        };
        Cb.Idle = ["Idle", 0];
        Cb.Idle.toString = w;
        Cb.Idle.__enum__ = Cb;
        Cb.MoveToTarget = ["MoveToTarget", 1];
        Cb.MoveToTarget.toString = w;
        Cb.MoveToTarget.__enum__ = Cb;
        Cb.MoveBack = ["MoveBack", 2];
        Cb.MoveBack.toString =
            w;
        Cb.MoveBack.__enum__ = Cb;
        var Fg = function() {
            Aa.call(this);
            this.time = 1;
            this.connected = !1;
            this.speedDrag = 9.8;
            this.maxStrength = 16E3;
            this.state = Cb.Idle;
            this.globalPointVec = new K;
            this.maxDistance = 1536;
            this.animateToSpeed = .1;
            this.animateBackSpeed = .02;
            this.breakDist1 = 40;
            this.breakDist2 = 10;
            this.insideTargedDist = 0;
            this.tween = null
        };
        h["mechanisms.Hook"] = Fg;
        Fg.__name__ = ["mechanisms", "Hook"];
        Fg.__super__ = Aa;
        Fg.prototype = v(Aa.prototype, {
            initGraph: function() {
                this.graphContainer = new A;
                ta.instance.layersManager.getLayer("background").addChild(this.graphContainer);
                var a = this.maxDistance | 0;
                this.graph = new Se;
                this.graph.addSource("assets/images/elements/hook_rope.png", -1, a, 21);
                this.graph.addSource("assets/images/elements/hook_body.png");
                this.graph.init();
                this.graph.setAnchor(.5, 1);
                this.graph.mouseEnabled = !1;
                this.graph.mouseChildren = !1;
                this.graphContainer.addChild(this.graph);
                this.graph.set_visible(!1);
                this.createButton("mehanizm_osnova3", "mehanizm_krug3", "mehanizm_knopka3")
            },
            startWorking: function() {
                1 != this.level && (P.get_instance().playSound("hook"), Aa.prototype.startWorking.call(this),
                    this.shoot())
            },
            updateProgress: function() {
                Aa.prototype.updateProgress.call(this);
                this.state == Cb.MoveBack && (1 == this.connected ? this.drag() : 0 == this.animateBack && this.startAnimateBack())
            },
            shoot: function() {
                this.animateBack = !1;
                this.globalPointVec.set_x(this.globalPoint.x);
                this.globalPointVec.set_y(this.globalPoint.y);
                this.speed.set_x(0);
                this.speed.set_y(1);
                this.speed.rotate(H.toRad(this.globalRotation));
                var a = this.checkPath(this.globalPointVec),
                    b = H.calcDistOfDots(this.globalPoint.x, this.globalPoint.y, a.point.x,
                        a.point.y),
                    b = H.clamp(b + 1, 0, this.maxDistance);
                null != a.block && 1 == this.checkCanConnect(this.target.body, a.block.body) && this.connectTo(a.block, a.point, b);
                this.state = Cb.MoveToTarget;
                this.graph.set_x(0);
                this.graph.set_y(0);
                this.graph.set_rotation(0);
                a = H.localToLocal(ta.instance, this.graphContainer, a.point);
                this.animateMoveToPoint(a)
            },
            checkPath: function(a) {
                var b = T.putRaycast(ha.get_instance().space, a, this.speed),
                    c = null;
                null != b ? (a = this.calcJointPoint(b.distance + this.insideTargedDist), null != b.data && null !=
                    b.data.zpp_inner.shape && null != b.data.zpp_inner.shape.get_userData() && null != b.data.zpp_inner.shape.get_body().get_userData().data && 1 == D.__instanceof(b.data.zpp_inner.shape.get_body().get_userData().data, ga) && (c = b.data.zpp_inner.shape.get_body().get_userData().data)) : a = this.calcJointPoint(this.maxDistance);
                return {
                    block: c,
                    point: a
                }
            },
            checkCanConnect: function(a, b) {
                var c = fc.types[a.zpp_inner.type];
                null == g.BodyType_STATIC && (g.internal = !0, g.BodyType_STATIC = new Ba, g.internal = !1);
                if (c = c != g.BodyType_STATIC) c =
                    fc.types[a.zpp_inner.type], null == g.BodyType_KINEMATIC && (g.internal = !0, g.BodyType_KINEMATIC = new Ba, g.internal = !1), c = c != g.BodyType_KINEMATIC;
                !c && (c = fc.types[b.zpp_inner.type], null == g.BodyType_STATIC && (g.internal = !0, g.BodyType_STATIC = new Ba, g.internal = !1), c = c != g.BodyType_STATIC) && (c = fc.types[b.zpp_inner.type], null == g.BodyType_KINEMATIC && (g.internal = !0, g.BodyType_KINEMATIC = new Ba, g.internal = !1), c = c != g.BodyType_KINEMATIC);
                return c ? !0 : !1
            },
            calcJointPoint: function(a) {
                this.speed.set_length(a);
                a = {
                    x: 0,
                    y: 0
                };
                a.x = this.globalPoint.x + this.speed.get_x();
                a.y = this.globalPoint.y + this.speed.get_y();
                return a
            },
            connectTo: function(a, b, c) {
                this.connected = !0;
                var d = this.target.body.worldPointToLocal(K.get(this.globalPoint.x, this.globalPoint.y, !0), !0);
                b = a.body.worldPointToLocal(K.get(b.x, b.y, !0), !0);
                this.joint = new Hg(this.target.body, a.body, d, b, 0, c);
                this.joint.set_space(ha.get_instance().space)
            },
            animateMoveToPoint: function(a) {
                var b = H.calcDistOfDots(this.graph.get_x(), this.graph.get_y(), a.x, a.y);
                this.privPos = {
                    x: this.graph.get_x(),
                    y: this.graph.get_y()
                };
                b /= 100;
                b = this.state == Cb.MoveToTarget ? b * this.animateToSpeed : b * this.animateBackSpeed;
                this.tween = r.to(this.graph, {
                    x: a.x,
                    y: a.y
                }, null, null, null, null, null, null, null, null, {
                    fileName: "Hook.hx",
                    lineNumber: 236,
                    className: "mechanisms.Hook",
                    methodName: "animateMoveToPoint"
                }).time(b).onUpdate(l(this, this.updateAnimation)).ease(lb.quintInOut).onFinish(l(this, this.completeAnimation))
            },
            updateAnimation: function() {
                var a = H.calcDistOfDots(this.privPos.x, this.privPos.y, this.graph.get_x(), this.graph.get_y());
                this.state == Cb.MoveToTarget ? this.graph.drawFromBottom(a) : this.graph.hideFromBottom(a);
                this.privPos.x = this.graph.get_x();
                this.privPos.y = this.graph.get_y()
            },
            completeAnimation: function() {
                this.tween = null;
                this.state == Cb.MoveToTarget ? this.completeMoveToAnimation() : this.completeMoveBackAnimation()
            },
            completeMoveToAnimation: function() {
                1 == this.connected && (this.privDist = this.joint.zpp_inner_zn.jointMax, this.privPos = H.localToLocal(this.target.midLayer, ta.instance, this.localPoint));
                this.state = Cb.MoveBack
            },
            completeMoveBackAnimation: function() {
                this.working = !1;
                this.state = Cb.Idle;
                this.graph.set_visible(!1)
            },
            drag: function() {
                if (null == this.joint.get_space()) this.breakDrag();
                else {
                    var a = this.joint;
                    a.set_jointMax(a.zpp_inner_zn.jointMax - this.speedDrag);
                    this.updateHideRope();
                    this.privDist <= this.breakDist1 ? this.breakDrag() : this.joint.zpp_inner_zn.jointMax <= this.breakDist2 && this.breakDrag()
                }
            },
            updateHideRope: function() {
                var a = this.joint.get_body2().localPointToWorld(this.joint.get_anchor2()),
                    b = H.calcDistOfDots(this.globalPoint.x, this.globalPoint.y, function(b) {
                        a.zpp_inner.validate();
                        return a.zpp_inner.x
                    }(this), function(b) {
                        a.zpp_inner.validate();
                        return a.zpp_inner.y
                    }(this));
                this.graph.hideFromBottom(this.privDist - b);
                a.zpp_inner.validate();
                var c = a.zpp_inner.x;
                a.zpp_inner.validate();
                var c = H.localToLocal(ta.instance, this.graphContainer, {
                        x: c,
                        y: a.zpp_inner.y
                    }),
                    d = H.angleOfPoints(this.globalPoint.x, this.globalPoint.y, function(b) {
                        a.zpp_inner.validate();
                        return a.zpp_inner.x
                    }(this), function(b) {
                        a.zpp_inner.validate();
                        return a.zpp_inner.y
                    }(this)) - this.globalRotation + 90;
                this.graph.set_x(c.x);
                this.graph.set_y(c.y);
                this.graph.set_rotation(d);
                this.privDist = b;
                this.privPos.x = this.globalPoint.x;
                this.privPos.y = this.globalPoint.y
            },
            breakDrag: function() {
                this.connected = this.working = !1;
                null != this.joint.get_space() && this.joint.set_space(null);
                this.joint = null;
                this.state = Cb.Idle;
                this.animateMoveToPoint({
                    x: 0,
                    y: 0
                })
            },
            startAnimateBack: function() {
                this.animateBack = !0;
                this.animateMoveToPoint({
                    x: 0,
                    y: 0
                })
            },
            updateBodyTransform: function() {
                null != this.body && null != this.graphContainer && (this.graphContainer.set_x(this.globalPoint.x),
                    this.graphContainer.set_y(this.globalPoint.y), this.graphContainer.set_rotation(this.globalRotation))
            },
            free: function() {
                null != this.tween && (this.tween.stop(), this.tween = null);
                null != this.joint && (this.joint.set_space(null), this.joint = null);
                this.globalPointVec.dispose();
                this.globalPointVec = null;
                Aa.prototype.free.call(this)
            },
            __class__: Fg
        });
        var Ig = function() {
            A.call(this);
            this.init()
        };
        h["mechanisms.HookBody"] = Ig;
        Ig.__name__ = ["mechanisms", "HookBody"];
        Ig.__super__ = A;
        Ig.prototype = v(A.prototype, {
            init: function() {
                var a =
                    Fa.get_instance().get("tilelayer1");
                this.rope = new oe(a, "hook_body");
                this.rope.set_rotation(H.toRad(-90));
                this.rope.set_offset(new Ga(0, 610));
                a.addChild(this.rope);
                this.head = new oe(a, "hook_head");
                this.head.set_rotation(H.toRad(-90));
                this.head.set_offset(new Ga(0, 55));
                a.addChild(this.head)
            },
            __class__: Ig
        });
        var Dg = function() {
            Aa.call(this);
            this.level = 0;
            this.time = 5;
            this.speed.set_y(85 / this.time);
            this.jointsActive = this.sensor = !0
        };
        h["mechanisms.Spring"] = Dg;
        Dg.__name__ = ["mechanisms", "Spring"];
        Dg.__super__ =
            Aa;
        Dg.prototype = v(Aa.prototype, {
            initGraph: function() {
                this.graphContainer = new A;
                ta.instance.layersManager.getLayer("background").addChild(this.graphContainer);
                this.graph = new Se;
                this.graph.addSource("assets/images/elements/spring_body.png");
                this.graph.init();
                this.graph.set_y(-30);
                this.graph.drawFromBottom(17);
                this.graphContainer.addChild(this.graph);
                this.graph.set_visible(!1);
                this.createButton("mehanizm_osnova2", "mehanizm_krug2", "mehanizm_knopka2")
            },
            initPhys: function() {
                var a = Tb;
                null == g.BodyType_DYNAMIC &&
                    (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1);
                this.body = new a(g.BodyType_DYNAMIC);
                this.body.zpp_inner.wrap_shapes.add(T.createPolygon(40, 55, 0, -20));
                this.body.zpp_inner.wrap_shapes.add(T.createPolygon(25, 40, 0, 18));
                this.body.get_position().setxy(this.x, this.y);
                this.body.set_rotation(H.toRad(this.r));
                this.body.get_userData().data = "mechanism";
                T.setSensor(this.body, !0);
                this.body.set_space(ha.get_instance().space);
                var b = new K(this.x, this.y),
                    a = K.weak(function(a) {
                            b.zpp_inner.validate();
                            return b.zpp_inner.x
                        }(this),
                        function(a) {
                            b.zpp_inner.validate();
                            return b.zpp_inner.y
                        }(this) - 20),
                    a = T.rotateVecAround(a, b, H.toRad(this.r));
                this.joint = T.createPivotJoint(ha.get_instance().space, this.body, this.target.body, a, a);
                this.joint.set_stiff(!1);
                this.joint.set_frequency(4.5);
                this.joint.set_damping(.05);
                a = K.weak(function(a) {
                    b.zpp_inner.validate();
                    return b.zpp_inner.x
                }(this), function(a) {
                    b.zpp_inner.validate();
                    return b.zpp_inner.y
                }(this) + 20);
                a = T.rotateVecAround(a, b, H.toRad(this.r));
                this.joint2 = T.createLineJoint(ha.get_instance().space,
                    this.body, this.target.body, a, a, new K(0, -1), -100, 100);
                this.joint2.set_maxForce(this.breakForce);
                this.joint2.set_breakUnderForce(!0);
                b.dispose();
                this.updateBodyTransform()
            },
            startWorking: function() {
                1 != this.level && (P.get_instance().playSound("spring"), Aa.prototype.startWorking.call(this), 1 == this.sensor && (T.setSensor(this.body, !1), this.sensor = !1))
            },
            update: function() {
                Aa.prototype.update.call(this);
                this.checkBreakJoints()
            },
            checkBreakJoints: function() {
                0 != this.jointsActive && null == this.joint2.get_space() &&
                    (this.jointsActive = !1, this.joint.set_space(null), this.joint2 = this.joint = null, T.setSensor(this.body, !0))
            },
            updateProgress: function() {
                Aa.prototype.updateProgress.call(this);
                this.progress++;
                this.progress == this.animateTime && (this.working = !1);
                this.progress <= this.time && this.moveBody()
            },
            moveBody: function() {
                this.joint.set_anchor2(this.joint.get_anchor2().add(this.speed));
                this.graph.drawFromBottom(this.speedLenght)
            },
            free: function() {
                null != this.joint && (this.joint.set_space(null), this.joint = null);
                null != this.joint2 &&
                    (this.joint2.set_space(null), this.joint2 = null);
                Aa.prototype.free.call(this)
            },
            __class__: Dg
        });
        var mb = function(a) {
            oc.call(this, a)
        };
        h["menus.MoveMenu"] = mb;
        mb.__name__ = ["menus", "MoveMenu"];
        mb.__super__ = oc;
        mb.prototype = v(oc.prototype, {
            createUi: function() {
                this.bg = new A;
                this.bg.get_graphics().beginFill(this.bgColor, this.bgAlpha);
                this.bg.get_graphics().drawRect(0, 0, 1280, 720);
                this.bg.get_graphics().endFill();
                this.bg.set_visible(!1);
                this.bg.set_alpha(0);
                this.set_alpha(1);
                this.startPos = -720;
                this.set_y(this.startPos);
                this.bgInited = !1
            },
            show: function() {
                if (0 == this.bgInited) {
                    this.bgInited = !0;
                    var a = this.parent.getChildIndex(this);
                    this.parent.addChildAt(this.bg, a)
                }
                this.mouseChildren = this.mouseEnabled = !0;
                this.set_visible(!0);
                this.bg.set_visible(!0);
                this.bgTween = r.to(this.bg, {
                    alpha: 1
                }, null, null, null, null, null, null, null, null, {
                    fileName: "MoveMenu.hx",
                    lineNumber: 48,
                    className: "menus.MoveMenu",
                    methodName: "show"
                }).time(.85 * this.showTime).onFinish(l(this, this.completeBgAnim));
                this.baseTween = r.to(this, {
                        y: 0
                    }, null, null, null, null,
                    null, null, null, null, {
                        fileName: "MoveMenu.hx",
                        lineNumber: 49,
                        className: "menus.MoveMenu",
                        methodName: "show"
                    }).time(this.showTime).onFinish(l(this, this.completeShow))
            },
            completeBgAnim: function() {
                this.bgTween = null
            },
            hide: function() {
                this.mouseChildren = this.mouseEnabled = !1;
                this.bgTween = r.to(this.bg, {
                    alpha: 0
                }, null, null, null, null, null, null, null, null, {
                    fileName: "MoveMenu.hx",
                    lineNumber: 62,
                    className: "menus.MoveMenu",
                    methodName: "hide"
                }).time(.85 * this.showTime).onFinish(l(this, this.completeBgAnim));
                this.baseTween =
                    r.to(this, {
                        y: this.startPos
                    }, null, null, null, null, null, null, null, null, {
                        fileName: "MoveMenu.hx",
                        lineNumber: 63,
                        className: "menus.MoveMenu",
                        methodName: "hide"
                    }).time(this.hideTime).onFinish(l(this, this.completeHide))
            },
            completeHide: function() {
                oc.prototype.completeHide.call(this);
                this.bg.set_visible(!1)
            },
            free: function() {
                null != this.baseTween && (this.baseTween.stop(), this.baseTween = null);
                null != this.bgTween && (this.bgTween.stop(), this.bgTween = null);
                this.active = !1
            },
            __class__: mb
        });
        var Jg = function(a) {
            oc.call(this,
                a)
        };
        h["menus.EraseMenu"] = Jg;
        Jg.__name__ = ["menus", "EraseMenu"];
        Jg.__super__ = mb;
        Jg.prototype = v(mb.prototype, {
            createUi: function() {
                mb.prototype.createUi.call(this);
                var a = oa.buildSprite("assets/images/panel.png");
                a.set_x(640);
                a.set_y(320);
                this.addChild(a);
                a = new rb;
                a.set_size(50);
                a.set_fieldWidth(600);
                a.set_align("center");
                a.set_x(340);
                a.set_y(180);
                a.set_text("ARE YOU SURE?");
                this.addChild(a);
                a = new rb;
                a.set_size(45);
                a.set_fieldWidth(500);
                a.set_fieldHeight(500);
                a.set_align("center");
                a.set_x(390);
                a.set_y(290);
                a.set_text("It will erase \nall your progress.");
                this.addChild(a);
                a = new xa("assets/images/buttons/btn_yes.png");
                a.addEventListener("b_complete", l(this, this.yesHandler));
                a.set_x(540);
                a.set_y(560);
                this.addChild(a);
                a = new xa("assets/images/buttons/btn_no.png");
                a.addEventListener("b_complete", l(this, this.noHandler));
                a.set_x(740);
                a.set_y(560);
                this.addChild(a)
            },
            yesHandler: function(a) {
                0 != this.active && (this.active = !1, this.hide(), E.get_instance().postNotify("clearSaves"))
            },
            noHandler: function(a) {
                0 != this.active &&
                    (this.active = !1, this.hide())
            },
            hide: function() {
                mb.prototype.hide.call(this);
                S.get_instance().showMoreGames(!0)
            },
            __class__: Jg
        });
        var Kg = function(a) {
            oc.call(this, a)
        };
        h["menus.LoseMenu"] = Kg;
        Kg.__name__ = ["menus", "LoseMenu"];
        Kg.__super__ = mb;
        Kg.prototype = v(mb.prototype, {
            createUi: function() {
                mb.prototype.createUi.call(this);
                var a = oa.buildSprite("assets/images/panel.png");
                a.set_x(640);
                a.set_y(320);
                this.addChild(a);
                a = oa.buildSprite("assets/images/panel_header.png");
                a.set_x(640);
                a.set_y(90);
                this.addChild(a);
                a =
                    new rb;
                a.set_size(42);
                a.set_color(3221528);
                a.set_fieldWidth(400);
                a.set_align("center");
                a.set_x(439);
                a.set_y(55);
                a.set_text("Level " + O.currentLevel);
                this.addChild(a);
                a = new rb;
                a.set_size(70);
                a.set_fieldWidth(400);
                a.set_align("center");
                a.set_x(439);
                a.set_y(160);
                a.set_text("You lose");
                this.addChild(a);
                a = new rb;
                a.set_size(50);
                a.set_fieldWidth(400);
                a.set_fieldHeight(400);
                a.set_align("center");
                a.set_x(435);
                a.set_y(270);
                a.set_text("Oops!\nTry again");
                this.addChild(a);
                a = new xa("assets/images/buttons/btn_levels.png");
                a.addEventListener("b_complete", l(this, this.exitLevel));
                a.set_x(501);
                a.set_y(560);
                this.addChild(a);
                a = new xa("assets/images/buttons/btn_more_games.png");
                a.addEventListener("b_complete", l(this, this.moreGames));
                a.set_x(642);
                a.set_y(560);
                this.addChild(a);
                a = new xa("assets/images/buttons/btn_restart.png");
                a.addEventListener("b_complete", l(this, this.restartLevel));
                a.set_x(784);
                a.set_y(560);
                this.addChild(a);
                S.get_instance().showMoreGamesOn(586, 508, 108, 98)
            },
            restartLevel: function(a) {
                0 != this.active && (this.free(),
                    E.get_instance().postNotify("restartLevel"))
            },
            exitLevel: function(a) {
                0 != this.active && (this.free(), E.get_instance().postNotify("exitLevel"))
            },
            moreGames: function(a) {},
            show: function() {
                mb.prototype.show.call(this);
                P.get_instance().pauseMusic(!0);
                P.get_instance().playSound("lose");
                this.timer2 = new re(4050, 1);
                this.timer2.addEventListener(cb.TIMER_COMPLETE, l(this, this.completeSoundDelay));
                this.timer2.start()
            },
            completeSoundDelay: function(a) {
                this.timer2 = null;
                P.get_instance().pauseMusic(!1)
            },
            free: function() {
                S.get_instance().showMoreGames(!1);
                mb.prototype.free.call(this);
                P.get_instance().pauseMusic(!1);
                null != this.timer2 && (this.timer2.stop(), this.timer2 = null)
            },
            __class__: Kg
        });
        var Lg = function(a) {
            oc.call(this, a)
        };
        h["menus.Pause"] = Lg;
        Lg.__name__ = ["menus", "Pause"];
        Lg.__super__ = mb;
        Lg.prototype = v(mb.prototype, {
            createUi: function() {
                mb.prototype.createUi.call(this);
                var a = oa.buildSprite("assets/images/pause_window.png");
                a.set_x(640);
                a.set_y(250);
                this.addChild(a);
                a = new rb;
                a.set_size(42);
                a.set_color(3221528);
                a.set_fieldWidth(400);
                a.set_align("center");
                a.set_x(440);
                a.set_y(75);
                a.set_text("Level " + O.currentLevel);
                this.addChild(a);
                a = new rb;
                a.set_size(70);
                a.set_fieldWidth(600);
                a.set_align("center");
                a.set_x(340);
                a.set_y(185);
                a.set_text("Pause");
                this.addChild(a);
                0 == Ac.isWindowsPhone && (a = new Ff(2), a.set_x(450), a.set_y(390), this.addChild(a));
                a = new xa("assets/images/buttons/btn_levels.png");
                a.addEventListener("b_complete", l(this, this.exitLevel));
                a.set_x(578);
                a.set_y(390);
                this.addChild(a);
                var b = new xa("assets/images/buttons/btn_restart.png");
                b.addEventListener("b_complete",
                    l(this, this.restartLevel));
                b.set_x(704);
                b.set_y(390);
                this.addChild(b);
                var c = new xa("assets/images/buttons/btn_play.png");
                c.addEventListener("b_complete", l(this, this.continueLevel));
                c.set_x(830);
                c.set_y(390);
                this.addChild(c);
                1 == Ac.isWindowsPhone && (a.set_x(500), b.set_x(640), c.set_x(780))
            },
            continueLevel: function(a) {
                0 != this.active && (this.active = !1, this.hide(), E.get_instance().postNotify("pauseClosed"))
            },
            restartLevel: function(a) {
                0 != this.active && (this.free(), E.get_instance().postNotify("restartLevel"))
            },
            exitLevel: function(a) {
                0 != this.active && (this.free(), E.get_instance().postNotify("exitLevel"))
            },
            show: function() {
                mb.prototype.show.call(this)
            },
            hide: function() {
                mb.prototype.hide.call(this)
            },
            __class__: Lg
        });
        var Mg = function(a) {
            oc.call(this, a)
        };
        h["menus.WinMenu"] = Mg;
        Mg.__name__ = ["menus", "WinMenu"];
        Mg.__super__ = mb;
        Mg.prototype = v(mb.prototype, {
            init: function() {
                this.animTime = 1.5;
                this.starId = 0;
                1 == this.testMode ? (this.seconds = 50, this.starsCount = 3) : (this.seconds = ta.instance.time, this.starsCount = ta.instance.stars);
                999999 < this.seconds && (this.seconds = 999999);
                mb.prototype.init.call(this)
            },
            createUi: function() {
                mb.prototype.createUi.call(this);
                var a = oa.buildSprite("assets/images/panel.png");
                a.set_x(640);
                a.set_y(320);
                this.addChild(a);
                a = oa.buildSprite("assets/images/panel_header.png");
                a.set_x(640);
                a.set_y(90);
                this.addChild(a);
                a = new rb;
                a.set_size(42);
                a.set_color(3221528);
                a.set_fieldWidth(400);
                a.set_align("center");
                a.set_x(439);
                a.set_y(55);
                a.set_text("Level " + O.currentLevel);
                this.addChild(a);
                a = new rb;
                a.set_size(70);
                a.set_fieldWidth(400);
                a.set_align("center");
                a.set_x(439);
                a.set_y(160);
                a.set_text("VICTORY");
                this.addChild(a);
                this.timeLabel = new rb;
                this.timeLabel.set_size(40);
                this.timeLabel.set_fieldWidth(400);
                this.timeLabel.set_x(540);
                this.timeLabel.set_y(240);
                this.timeLabel.set_text("Time:0");
                this.addChild(this.timeLabel);
                this.addStars();
                a = new xa("assets/images/buttons/btn_more_games.png");
                a.addEventListener("b_complete", l(this, this.moreGames));
                a.set_x(440);
                a.set_y(560);
                this.addChild(a);
                a = new xa("assets/images/buttons/btn_levels.png");
                a.addEventListener("b_complete", l(this, this.exitLevel));
                a.set_x(572);
                a.set_y(560);
                this.addChild(a);
                a = new xa("assets/images/buttons/btn_restart.png");
                a.addEventListener("b_complete", l(this, this.restartLevel));
                a.set_x(705);
                a.set_y(560);
                this.addChild(a);
                a = new xa("assets/images/buttons/btn_play.png");
                a.addEventListener("b_complete", l(this, this.nextLevel));
                a.set_x(840);
                a.set_y(560);
                this.addChild(a);
                S.get_instance().showMoreGamesOn(380, 508, 114, 100)
            },
            moreGames: function(a) {},
            addStars: function() {
                var a = oa.buildSprite("assets/images/result_menu/stars_bg.png");
                a.set_x(641);
                a.set_y(362);
                this.addChild(a);
                1 <= this.starsCount && (a = oa.buildSprite("assets/images/result_menu/star1.png"), a.set_name("star1"), a.set_x(507), a.set_y(377), a.set_visible(!1), this.addChild(a));
                2 <= this.starsCount && (a = oa.buildSprite("assets/images/result_menu/star2.png"), a.set_name("star2"), a.set_x(640), a.set_y(352), a.set_visible(!1), this.addChild(a));
                3 == this.starsCount && (a = oa.buildSprite("assets/images/result_menu/star3.png"), a.set_name("star3"), a.set_x(776), a.set_y(377), a.set_visible(!1),
                    this.addChild(a))
            },
            completeShow: function() {
                this.showTimeAnim();
                this.showStarAnim()
            },
            showTimeAnim: function() {
                this.tween = r.tweenFunc1(l(this, this.udpateTimeAnim), 0, this.seconds, null, null, null, null, null, null, null, null, {
                    fileName: "WinMenu.hx",
                    lineNumber: 181,
                    className: "menus.WinMenu",
                    methodName: "showTimeAnim"
                }).time(this.animTime)
            },
            udpateTimeAnim: function(a) {
                null != this.timeLabel && (a |= 0, a > this.seconds && (a = this.seconds), this.timeLabel.set_text("Time:" + a))
            },
            showStarAnim: function() {
                0 != this.starsCount && (this.timer =
                    new re(this.animTime / 3 * 1E3, this.starsCount), this.timer.addEventListener(cb.TIMER, l(this, this.showStar)), this.timer.start())
            },
            showStar: function(a) {
                this.starId++;
                a = this.getChildByName("star" + this.starId);
                a.set_scaleX(2);
                a.set_scaleY(2);
                a.set_visible(!0);
                r.to(a, {
                    scaleX: 1,
                    scaleY: 1
                }, null, null, null, null, null, null, null, null, {
                    fileName: "WinMenu.hx",
                    lineNumber: 221,
                    className: "menus.WinMenu",
                    methodName: "showStar"
                }).time(.8).ease(lb.bounceOut);
                P.get_instance().playSound("star");
                this.starId == this.starsCount && (this.timer =
                    null)
            },
            restartLevel: function(a) {
                0 != this.active && (this.free(), E.get_instance().postNotify("restartLevel"))
            },
            exitLevel: function(a) {
                0 != this.active && (this.free(), E.get_instance().postNotify("exitLevel"))
            },
            nextLevel: function(a) {
                0 != this.active && (this.free(), E.get_instance().postNotify("nextLevel"))
            },
            show: function() {
                mb.prototype.show.call(this);
                P.get_instance().pauseMusic(!0);
                P.get_instance().playSound("win");
                this.timer2 = new re(4050, 1);
                this.timer2.addEventListener(cb.TIMER_COMPLETE, l(this, this.completeSoundDelay));
                this.timer2.start()
            },
            completeSoundDelay: function(a) {
                this.timer2 = null;
                P.get_instance().pauseMusic(!1)
            },
            free: function() {
                S.get_instance().showMoreGames(!1);
                mb.prototype.free.call(this);
                P.get_instance().pauseMusic(!1);
                null != this.tween && (this.tween.stop(), this.tween = null);
                this.timeLabel = null;
                null != this.timer && (this.timer.stop(), this.timer = null);
                null != this.timer2 && (this.timer2.stop(), this.timer2 = null)
            },
            __class__: Mg
        });
        var u = function() {};
        h["nape.Config"] = u;
        u.__name__ = ["nape", "Config"];
        var Vd = function() {
            this.zpp_inner =
                null
        };
        h["nape.callbacks.Callback"] = Vd;
        Vd.__name__ = ["nape", "callbacks", "Callback"];
        Vd.prototype = {
            toString: function() {
                return ""
            },
            __class__: Vd
        };
        var Ng = function() {
            this.zpp_inner = null
        };
        h["nape.callbacks.BodyCallback"] = Ng;
        Ng.__name__ = ["nape", "callbacks", "BodyCallback"];
        Ng.__super__ = Vd;
        Ng.prototype = v(Vd.prototype, {
            toString: function() {
                var a;
                a = "Cb:" + ["WAKE", "SLEEP"][this.zpp_inner.event - g.id_CbEvent_WAKE];
                a += ":" + this.zpp_inner.body.outer.toString();
                return a += " : listener: " + G.string(this.zpp_inner.listener.outer)
            },
            __class__: Ng
        });
        var Bd = function() {
            this.zpp_inner = null
        };
        h["nape.callbacks.Listener"] = Bd;
        Bd.__name__ = ["nape", "callbacks", "Listener"];
        Bd.prototype = {
            get_space: function() {
                return null == this.zpp_inner.space ? null : this.zpp_inner.space.outer
            },
            toString: function() {
                var a = "BEGIN END WAKE SLEEP BREAK PRE ONGOING".split(" ")[this.zpp_inner.event];
                if (this.zpp_inner.type == g.id_ListenerType_BODY) return "BodyListener{" + a + "::" + G.string(this.zpp_inner.body.outer_zn.zpp_inner_zn.options.outer) + "}";
                if (this.zpp_inner.type ==
                    g.id_ListenerType_CONSTRAINT) return "ConstraintListener{" + a + "::" + G.string(this.zpp_inner.constraint.outer_zn.zpp_inner_zn.options.outer) + "}";
                var b = this.zpp_inner.interaction,
                    c;
                switch (b.itype) {
                    case g.id_InteractionType_COLLISION:
                        c = "COLLISION";
                        break;
                    case g.id_InteractionType_SENSOR:
                        c = "SENSOR";
                        break;
                    case g.id_InteractionType_FLUID:
                        c = "FLUID";
                        break;
                    default:
                        c = "ALL"
                }
                return (this.zpp_inner.type == g.id_ListenerType_INTERACTION ? "InteractionListener{" + a + "#" + c + "::" + G.string(b.outer_zni.zpp_inner_zn.options1.outer) +
                    ":" + G.string(b.outer_zni.zpp_inner_zn.options2.outer) + "}" : "PreListener{" + c + "::" + G.string(b.outer_znp.zpp_inner_zn.options1.outer) + ":" + G.string(b.outer_znp.zpp_inner_zn.options2.outer) + "}") + " precedence=" + this.zpp_inner.precedence
            },
            __class__: Bd,
            __properties__: {
                get_space: "get_space"
            }
        };
        var fi = function() {
            this.zpp_inner_zn = null
        };
        h["nape.callbacks.BodyListener"] = fi;
        fi.__name__ = ["nape", "callbacks", "BodyListener"];
        fi.__super__ = Bd;
        fi.prototype = v(Bd.prototype, {
            __class__: fi
        });
        var qc = function() {};
        h["nape.callbacks.CbEvent"] =
            qc;
        qc.__name__ = ["nape", "callbacks", "CbEvent"];
        qc.prototype = {
            toString: function() {
                null == g.CbEvent_PRE && (g.internal = !0, g.CbEvent_PRE = new qc, g.internal = !1);
                var a;
                this == g.CbEvent_PRE ? a = "PRE" : (null == g.CbEvent_BEGIN && (g.internal = !0, g.CbEvent_BEGIN = new qc, g.internal = !1), this == g.CbEvent_BEGIN ? a = "BEGIN" : (null == g.CbEvent_ONGOING && (g.internal = !0, g.CbEvent_ONGOING = new qc, g.internal = !1), this == g.CbEvent_ONGOING ? a = "ONGOING" : (null == g.CbEvent_END && (g.internal = !0, g.CbEvent_END = new qc, g.internal = !1), this == g.CbEvent_END ?
                    a = "END" : (null == g.CbEvent_WAKE && (g.internal = !0, g.CbEvent_WAKE = new qc, g.internal = !1), this == g.CbEvent_WAKE ? a = "WAKE" : (null == g.CbEvent_SLEEP && (g.internal = !0, g.CbEvent_SLEEP = new qc, g.internal = !1), this == g.CbEvent_SLEEP ? a = "SLEEP" : (null == g.CbEvent_BREAK && (g.internal = !0, g.CbEvent_BREAK = new qc, g.internal = !1), a = this == g.CbEvent_BREAK ? "BREAK" : ""))))));
                return a
            },
            __class__: qc
        };
        var Ee = function() {
            this.zpp_inner = null;
            this.zpp_inner = new $a;
            this.zpp_inner.outer = this
        };
        h["nape.callbacks.CbType"] = Ee;
        Ee.__name__ = ["nape",
            "callbacks", "CbType"
        ];
        Ee.prototype = {
            toString: function() {
                return this == $a.ANY_BODY ? "ANY_BODY" : this == $a.ANY_SHAPE ? "ANY_SHAPE" : this == $a.ANY_COMPOUND ? "ANY_COMPOUND" : this == $a.ANY_CONSTRAINT ? "ANY_CONSTRAINT" : "CbType#" + this.zpp_inner.id
            },
            __class__: Ee
        };
        var Ec = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.callbacks.CbTypeIterator"] = Ec;
        Ec.__name__ = ["nape", "callbacks", "CbTypeIterator"];
        Ec.get = function(a) {
            var b;
            null == Ec.zpp_pool ? (ge.internal = !0, b = new Ec, ge.internal = !1) : (b = Ec.zpp_pool, Ec.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        Ec.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = Ec.zpp_pool;
                Ec.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: Ec
        };
        var Og = function() {
            this.zpp_inner = null;
            this.zpp_inner = new ge;
            this.zpp_inner.outer = this
        };
        h["nape.callbacks.CbTypeList"] =
            Og;
        Og.__name__ = ["nape", "callbacks", "CbTypeList"];
        Og.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag && (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index !=
                        a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.outer
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = Ec.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: Og,
            __properties__: {
                get_length: "get_length"
            }
        };
        var Pg = function() {
            this.zpp_inner = null
        };
        h["nape.callbacks.ConstraintCallback"] = Pg;
        Pg.__name__ = ["nape", "callbacks", "ConstraintCallback"];
        Pg.__super__ = Vd;
        Pg.prototype = v(Vd.prototype, {
            toString: function() {
                var a;
                a = "Cb:" + ["WAKE", "SLEEP", "BREAK"][this.zpp_inner.event - g.id_CbEvent_WAKE];
                a += ":" + this.zpp_inner.constraint.outer.toString();
                return a += " : listener: " + G.string(this.zpp_inner.listener.outer)
            },
            __class__: Pg
        });
        var gi = function() {
            this.zpp_inner_zn = null
        };
        h["nape.callbacks.ConstraintListener"] = gi;
        gi.__name__ = ["nape", "callbacks", "ConstraintListener"];
        gi.__super__ = Bd;
        gi.prototype = v(Bd.prototype, {
            __class__: gi
        });
        var Qg = function() {
            this.zpp_inner =
                null
        };
        h["nape.callbacks.InteractionCallback"] = Qg;
        Qg.__name__ = ["nape", "callbacks", "InteractionCallback"];
        Qg.__super__ = Vd;
        Qg.prototype = v(Vd.prototype, {
            toString: function() {
                var a;
                a = "Cb:" + "BEGIN END     ONGOING".split(" ")[this.zpp_inner.event];
                a += ":" + this.zpp_inner.int1.outer_i.toString() + "/" + this.zpp_inner.int2.outer_i.toString();
                a += " : " + this.zpp_inner.wrap_arbiters.toString();
                return a += " : listener: " + G.string(this.zpp_inner.listener.outer)
            },
            __class__: Qg
        });
        var Rg = function(a, b, c, d, e, f) {
            null == f && (f =
                0);
            this.zpp_inner = this.zpp_inner_zn = null;
            var k = -1;
            null == g.CbEvent_BEGIN && (g.internal = !0, g.CbEvent_BEGIN = new qc, g.internal = !1);
            a == g.CbEvent_BEGIN ? k = g.id_CbEvent_BEGIN : (null == g.CbEvent_END && (g.internal = !0, g.CbEvent_END = new qc, g.internal = !1), a == g.CbEvent_END ? k = g.id_CbEvent_END : (null == g.CbEvent_ONGOING && (g.internal = !0, g.CbEvent_ONGOING = new qc, g.internal = !1), a == g.CbEvent_ONGOING && (k = g.id_CbEvent_ONGOING)));
            this.zpp_inner = this.zpp_inner_zn = new la(Ve.argument(c), Ve.argument(d), k, g.id_ListenerType_INTERACTION);
            this.zpp_inner.outer = this;
            this.zpp_inner_zn.outer_zni = this;
            this.zpp_inner.precedence = f;
            this.zpp_inner_zn.handleri = e;
            this.set_interactionType(b)
        };
        h["nape.callbacks.InteractionListener"] = Rg;
        Rg.__name__ = ["nape", "callbacks", "InteractionListener"];
        Rg.__super__ = Bd;
        Rg.prototype = v(Bd.prototype, {
            get_interactionType: function() {
                var a = this.zpp_inner_zn.itype;
                return a == g.id_InteractionType_COLLISION ? (null == g.InteractionType_COLLISION && (g.internal = !0, g.InteractionType_COLLISION = new Yb, g.internal = !1), g.InteractionType_COLLISION) :
                    a == g.id_InteractionType_SENSOR ? (null == g.InteractionType_SENSOR && (g.internal = !0, g.InteractionType_SENSOR = new Yb, g.internal = !1), g.InteractionType_SENSOR) : a == g.id_InteractionType_FLUID ? (null == g.InteractionType_FLUID && (g.internal = !0, g.InteractionType_FLUID = new Yb, g.internal = !1), g.InteractionType_FLUID) : a == g.id_InteractionType_ANY ? (null == g.InteractionType_ANY && (g.internal = !0, g.InteractionType_ANY = new Yb, g.internal = !1), g.InteractionType_ANY) : null
            },
            set_interactionType: function(a) {
                this.get_interactionType() !=
                    a && (null == g.InteractionType_COLLISION && (g.internal = !0, g.InteractionType_COLLISION = new Yb, g.internal = !1), a == g.InteractionType_COLLISION ? a = g.id_InteractionType_COLLISION : (null == g.InteractionType_SENSOR && (g.internal = !0, g.InteractionType_SENSOR = new Yb, g.internal = !1), a == g.InteractionType_SENSOR ? a = g.id_InteractionType_SENSOR : (null == g.InteractionType_FLUID && (g.internal = !0, g.InteractionType_FLUID = new Yb, g.internal = !1), a = a == g.InteractionType_FLUID ? g.id_InteractionType_FLUID : g.id_InteractionType_ANY)), this.zpp_inner_zn.itype =
                        a);
                return this.get_interactionType()
            },
            __class__: Rg,
            __properties__: v(Bd.prototype.__properties__, {
                set_interactionType: "set_interactionType",
                get_interactionType: "get_interactionType"
            })
        });
        var Yb = function() {};
        h["nape.callbacks.InteractionType"] = Yb;
        Yb.__name__ = ["nape", "callbacks", "InteractionType"];
        Yb.prototype = {
            toString: function() {
                null == g.InteractionType_COLLISION && (g.internal = !0, g.InteractionType_COLLISION = new Yb, g.internal = !1);
                var a;
                this == g.InteractionType_COLLISION ? a = "COLLISION" : (null == g.InteractionType_SENSOR &&
                    (g.internal = !0, g.InteractionType_SENSOR = new Yb, g.internal = !1), this == g.InteractionType_SENSOR ? a = "SENSOR" : (null == g.InteractionType_FLUID && (g.internal = !0, g.InteractionType_FLUID = new Yb, g.internal = !1), this == g.InteractionType_FLUID ? a = "FLUID" : (null == g.InteractionType_ANY && (g.internal = !0, g.InteractionType_ANY = new Yb, g.internal = !1), a = this == g.InteractionType_ANY ? "ANY" : "")));
                return a
            },
            __class__: Yb
        };
        var Cd = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.callbacks.ListenerIterator"] =
            Cd;
        Cd.__name__ = ["nape", "callbacks", "ListenerIterator"];
        Cd.get = function(a) {
            var b;
            null == Cd.zpp_pool ? (se.internal = !0, b = new Cd, se.internal = !1) : (b = Cd.zpp_pool, Cd.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        Cd.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = Cd.zpp_pool;
                Cd.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: Cd
        };
        var hi = function() {
            this.zpp_inner = null;
            this.zpp_inner = new se;
            this.zpp_inner.outer = this
        };
        h["nape.callbacks.ListenerList"] = hi;
        hi.__name__ = ["nape", "callbacks", "ListenerList"];
        hi.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag && (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index ||
                    null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index != a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.outer
            },
            push: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                if (b = null != this.zpp_inner.adder ? this.zpp_inner.adder(a) : !0) this.zpp_inner.reverse_flag ? this.zpp_inner.inner.add(a.zpp_inner) : (null == this.zpp_inner.push_ite && (this.zpp_inner.push_ite =
                    null == this.zpp_inner.inner.head ? null : this.zpp_inner.inner.iterator_at(this.get_length() - 1)), this.zpp_inner.push_ite = this.zpp_inner.inner.insert(this.zpp_inner.push_ite, a.zpp_inner)), this.zpp_inner.invalidate(), null != this.zpp_inner.post_adder && this.zpp_inner.post_adder(a);
                return b
            },
            unshift: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                if (b = null != this.zpp_inner.adder ? this.zpp_inner.adder(a) : !0) this.zpp_inner.reverse_flag ? (null == this.zpp_inner.push_ite && (this.zpp_inner.push_ite =
                    null == this.zpp_inner.inner.head ? null : this.zpp_inner.inner.iterator_at(this.get_length() - 1)), this.zpp_inner.push_ite = this.zpp_inner.inner.insert(this.zpp_inner.push_ite, a.zpp_inner)) : this.zpp_inner.inner.add(a.zpp_inner), this.zpp_inner.invalidate(), null != this.zpp_inner.post_adder && this.zpp_inner.post_adder(a);
                return b
            },
            add: function(a) {
                return this.zpp_inner.reverse_flag ? this.push(a) : this.unshift(a)
            },
            remove: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                b = !1;
                for (var c = this.zpp_inner.inner.head; null !=
                    c;) {
                    if (c.elt == a.zpp_inner) {
                        b = !0;
                        break
                    }
                    c = c.next
                }
                b && (null != this.zpp_inner.subber && this.zpp_inner.subber(a), this.zpp_inner.dontremove || this.zpp_inner.inner.remove(a.zpp_inner), this.zpp_inner.invalidate());
                return b
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = Cd.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: hi,
            __properties__: {
                get_length: "get_length"
            }
        };
        var We = function() {};
        h["nape.callbacks.ListenerType"] =
            We;
        We.__name__ = ["nape", "callbacks", "ListenerType"];
        We.prototype = {
            toString: function() {
                null == g.ListenerType_BODY && (g.internal = !0, g.ListenerType_BODY = new We, g.internal = !1);
                var a;
                this == g.ListenerType_BODY ? a = "BODY" : (null == g.ListenerType_CONSTRAINT && (g.internal = !0, g.ListenerType_CONSTRAINT = new We, g.internal = !1), this == g.ListenerType_CONSTRAINT ? a = "CONSTRAINT" : (null == g.ListenerType_INTERACTION && (g.internal = !0, g.ListenerType_INTERACTION = new We, g.internal = !1), this == g.ListenerType_INTERACTION ? a = "INTERACTION" :
                    (null == g.ListenerType_PRE && (g.internal = !0, g.ListenerType_PRE = new We, g.internal = !1), a = this == g.ListenerType_PRE ? "PRE" : "")));
                return a
            },
            __class__: We
        };
        var Xe = function(a, b) {
            this.zpp_inner = null;
            this.zpp_inner = new Ve;
            this.zpp_inner.outer = this;
            null != a && this.including(a);
            null != b && this.excluding(b)
        };
        h["nape.callbacks.OptionType"] = Xe;
        Xe.__name__ = ["nape", "callbacks", "OptionType"];
        Xe.prototype = {
            including: function(a) {
                this.zpp_inner.append(this.zpp_inner.includes, a);
                return this
            },
            excluding: function(a) {
                this.zpp_inner.append(this.zpp_inner.excludes,
                    a);
                return this
            },
            toString: function() {
                null == this.zpp_inner.wrap_includes && this.zpp_inner.setup_includes();
                var a = this.zpp_inner.wrap_includes.toString();
                null == this.zpp_inner.wrap_excludes && this.zpp_inner.setup_excludes();
                return "@{" + a + " excluding " + this.zpp_inner.wrap_excludes.toString() + "}"
            },
            __class__: Xe
        };
        var Sg = function() {
            this.zpp_inner = null
        };
        h["nape.callbacks.PreCallback"] = Sg;
        Sg.__name__ = ["nape", "callbacks", "PreCallback"];
        Sg.__super__ = Vd;
        Sg.prototype = v(Vd.prototype, {
            toString: function() {
                var a;
                a = "Cb:PRE:" +
                    (":" + this.zpp_inner.int1.outer_i.toString() + "/" + this.zpp_inner.int2.outer_i.toString());
                a += " : " + this.zpp_inner.pre_arbiter.wrapper().toString();
                return a += " : listnener: " + G.string(this.zpp_inner.listener.outer)
            },
            __class__: Sg
        });
        var pb = function() {};
        h["nape.callbacks.PreFlag"] = pb;
        pb.__name__ = ["nape", "callbacks", "PreFlag"];
        pb.prototype = {
            toString: function() {
                null == g.PreFlag_ACCEPT && (g.internal = !0, g.PreFlag_ACCEPT = new pb, g.internal = !1);
                var a;
                this == g.PreFlag_ACCEPT ? a = "ACCEPT" : (null == g.PreFlag_IGNORE && (g.internal = !0, g.PreFlag_IGNORE = new pb, g.internal = !1), this == g.PreFlag_IGNORE ? a = "IGNORE" : (null == g.PreFlag_ACCEPT_ONCE && (g.internal = !0, g.PreFlag_ACCEPT_ONCE = new pb, g.internal = !1), this == g.PreFlag_ACCEPT_ONCE ? a = "ACCEPT_ONCE" : (null == g.PreFlag_IGNORE_ONCE && (g.internal = !0, g.PreFlag_IGNORE_ONCE = new pb, g.internal = !1), a = this == g.PreFlag_IGNORE_ONCE ? "IGNORE_ONCE" : "")));
                return a
            },
            __class__: pb
        };
        var ii = function() {
            this.zpp_inner_zn = null
        };
        h["nape.callbacks.PreListener"] = ii;
        ii.__name__ = ["nape", "callbacks", "PreListener"];
        ii.__super__ =
            Bd;
        ii.prototype = v(Bd.prototype, {
            __class__: ii
        });
        var gc = function() {
            this.zpp_inner.insert_cbtype($a.ANY_CONSTRAINT.zpp_inner)
        };
        h["nape.constraint.Constraint"] = gc;
        gc.__name__ = ["nape", "constraint", "Constraint"];
        gc.prototype = {
            get_space: function() {
                return null == this.zpp_inner.space ? null : this.zpp_inner.space.outer
            },
            set_space: function(a) {
                (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) != a && (null != this.zpp_inner.component && (this.zpp_inner.component.woken = !1), this.zpp_inner.clearcache(), null != this.zpp_inner.space &&
                    this.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(this), null != a ? a.zpp_inner.wrap_constraints.add(this) : this.zpp_inner.space = null);
                return null == this.zpp_inner.space ? null : this.zpp_inner.space.outer
            },
            set_stiff: function(a) {
                this.zpp_inner.stiff != a && (this.zpp_inner.stiff = a, this.zpp_inner.wake());
                return this.zpp_inner.stiff
            },
            set_frequency: function(a) {
                this.zpp_inner.frequency != a && (this.zpp_inner.frequency = a, this.zpp_inner.stiff || this.zpp_inner.wake());
                return this.zpp_inner.frequency
            },
            set_damping: function(a) {
                this.zpp_inner.damping !=
                    a && (this.zpp_inner.damping = a, this.zpp_inner.stiff || this.zpp_inner.wake());
                return this.zpp_inner.damping
            },
            set_maxForce: function(a) {
                this.zpp_inner.maxForce != a && (this.zpp_inner.maxForce = a, this.zpp_inner.wake());
                return this.zpp_inner.maxForce
            },
            set_breakUnderForce: function(a) {
                this.zpp_inner.breakUnderForce != a && (this.zpp_inner.breakUnderForce = a, this.zpp_inner.wake());
                return this.zpp_inner.breakUnderForce
            },
            toString: function() {
                return "{Constraint}"
            },
            __class__: gc,
            __properties__: {
                set_breakUnderForce: "set_breakUnderForce",
                set_maxForce: "set_maxForce",
                set_damping: "set_damping",
                set_frequency: "set_frequency",
                set_stiff: "set_stiff",
                set_space: "set_space",
                get_space: "get_space"
            }
        };
        var Dd = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.constraint.ConstraintIterator"] = Dd;
        Dd.__name__ = ["nape", "constraint", "ConstraintIterator"];
        Dd.get = function(a) {
            var b;
            null == Dd.zpp_pool ? (td.internal = !0, b = new Dd, td.internal = !1) : (b = Dd.zpp_pool, Dd.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        Dd.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = Dd.zpp_pool;
                Dd.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: Dd
        };
        var ji = function() {
            this.zpp_inner = null;
            this.zpp_inner = new td;
            this.zpp_inner.outer = this
        };
        h["nape.constraint.ConstraintList"] = ji;
        ji.__name__ = ["nape", "constraint", "ConstraintList"];
        ji.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag && (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index != a;) this.zpp_inner.at_index++,
                        this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.outer
            },
            push: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                if (b = null != this.zpp_inner.adder ? this.zpp_inner.adder(a) : !0) this.zpp_inner.reverse_flag ? this.zpp_inner.inner.add(a.zpp_inner) : (null == this.zpp_inner.push_ite && (this.zpp_inner.push_ite = null == this.zpp_inner.inner.head ? null : this.zpp_inner.inner.iterator_at(this.get_length() - 1)), this.zpp_inner.push_ite = this.zpp_inner.inner.insert(this.zpp_inner.push_ite,
                    a.zpp_inner)), this.zpp_inner.invalidate(), null != this.zpp_inner.post_adder && this.zpp_inner.post_adder(a);
                return b
            },
            unshift: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                if (b = null != this.zpp_inner.adder ? this.zpp_inner.adder(a) : !0) this.zpp_inner.reverse_flag ? (null == this.zpp_inner.push_ite && (this.zpp_inner.push_ite = null == this.zpp_inner.inner.head ? null : this.zpp_inner.inner.iterator_at(this.get_length() - 1)), this.zpp_inner.push_ite = this.zpp_inner.inner.insert(this.zpp_inner.push_ite,
                    a.zpp_inner)) : this.zpp_inner.inner.add(a.zpp_inner), this.zpp_inner.invalidate(), null != this.zpp_inner.post_adder && this.zpp_inner.post_adder(a);
                return b
            },
            add: function(a) {
                return this.zpp_inner.reverse_flag ? this.push(a) : this.unshift(a)
            },
            remove: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                b = !1;
                for (var c = this.zpp_inner.inner.head; null != c;) {
                    if (c.elt == a.zpp_inner) {
                        b = !0;
                        break
                    }
                    c = c.next
                }
                b && (null != this.zpp_inner.subber && this.zpp_inner.subber(a), this.zpp_inner.dontremove || this.zpp_inner.inner.remove(a.zpp_inner),
                    this.zpp_inner.invalidate());
                return b
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = Dd.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: ji,
            __properties__: {
                get_length: "get_length"
            }
        };
        var Hg = function(a, b, c, d, e, f) {
            this.zpp_inner_zn = null;
            this.zpp_inner = this.zpp_inner_zn = new Tg;
            this.zpp_inner.outer = this;
            this.zpp_inner_zn.outer_zn = this;
            gc.call(this);
            this.set_body1(a);
            this.set_body2(b);
            null == this.zpp_inner_zn.wrap_a1 && this.zpp_inner_zn.setup_a1();
            this.zpp_inner_zn.wrap_a1.set(c);
            null == this.zpp_inner_zn.wrap_a1 && this.zpp_inner_zn.setup_a1();
            this.zpp_inner_zn.wrap_a1;
            null == this.zpp_inner_zn.wrap_a2 && this.zpp_inner_zn.setup_a2();
            this.zpp_inner_zn.wrap_a2.set(d);
            null == this.zpp_inner_zn.wrap_a2 && this.zpp_inner_zn.setup_a2();
            this.zpp_inner_zn.wrap_a2;
            this.zpp_inner.immutable_midstep("DistanceJoint::jointMin");
            this.zpp_inner_zn.jointMin != e && (this.zpp_inner_zn.jointMin = e, this.zpp_inner.wake());
            this.zpp_inner_zn.jointMin;
            this.zpp_inner.immutable_midstep("DistanceJoint::jointMax");
            this.zpp_inner_zn.jointMax != f && (this.zpp_inner_zn.jointMax = f, this.zpp_inner.wake());
            this.zpp_inner_zn.jointMax
        };
        h["nape.constraint.DistanceJoint"] = Hg;
        Hg.__name__ = ["nape", "constraint", "DistanceJoint"];
        Hg.__super__ = gc;
        Hg.prototype = v(gc.prototype, {
            set_body1: function(a) {
                this.zpp_inner.immutable_midstep("Constraint::body1");
                a = null == a ? null : a.zpp_inner;
                a != this.zpp_inner_zn.b1 && (null != this.zpp_inner_zn.b1 && (null != (null ==
                    this.zpp_inner.space ? null : this.zpp_inner.space.outer) && this.zpp_inner_zn.b2 != this.zpp_inner_zn.b1 && null != this.zpp_inner_zn.b1 && this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner), this.zpp_inner.active && null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && this.zpp_inner_zn.b1.wake()), this.zpp_inner_zn.b1 = a, null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && null != a && this.zpp_inner_zn.b2 != a && null != a && a.constraints.add(this.zpp_inner), this.zpp_inner.active && null != (null ==
                    this.zpp_inner.space ? null : this.zpp_inner.space.outer) && (this.zpp_inner.wake(), null != a && a.wake()));
                return null == this.zpp_inner_zn.b1 ? null : this.zpp_inner_zn.b1.outer
            },
            get_body2: function() {
                return null == this.zpp_inner_zn.b2 ? null : this.zpp_inner_zn.b2.outer
            },
            set_body2: function(a) {
                this.zpp_inner.immutable_midstep("Constraint::body2");
                a = null == a ? null : a.zpp_inner;
                a != this.zpp_inner_zn.b2 && (null != this.zpp_inner_zn.b2 && (null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && this.zpp_inner_zn.b1 !=
                    this.zpp_inner_zn.b2 && null != this.zpp_inner_zn.b2 && this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner), this.zpp_inner.active && null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && this.zpp_inner_zn.b2.wake()), this.zpp_inner_zn.b2 = a, null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && null != a && this.zpp_inner_zn.b1 != a && null != a && a.constraints.add(this.zpp_inner), this.zpp_inner.active && null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && (this.zpp_inner.wake(),
                    null != a && a.wake()));
                return null == this.zpp_inner_zn.b2 ? null : this.zpp_inner_zn.b2.outer
            },
            get_anchor2: function() {
                null == this.zpp_inner_zn.wrap_a2 && this.zpp_inner_zn.setup_a2();
                return this.zpp_inner_zn.wrap_a2
            },
            set_jointMax: function(a) {
                this.zpp_inner.immutable_midstep("DistanceJoint::jointMax");
                this.zpp_inner_zn.jointMax != a && (this.zpp_inner_zn.jointMax = a, this.zpp_inner.wake());
                return this.zpp_inner_zn.jointMax
            },
            __class__: Hg,
            __properties__: v(gc.prototype.__properties__, {
                set_jointMax: "set_jointMax",
                get_anchor2: "get_anchor2",
                set_body2: "set_body2",
                get_body2: "get_body2",
                set_body1: "set_body1"
            })
        });
        var vg = function(a, b, c, d, e, f, k) {
            this.zpp_inner_zn = null;
            this.zpp_inner = this.zpp_inner_zn = new Ug;
            this.zpp_inner.outer = this;
            this.zpp_inner_zn.outer_zn = this;
            gc.call(this);
            this.set_body1(a);
            this.set_body2(b);
            null == this.zpp_inner_zn.wrap_a1 && this.zpp_inner_zn.setup_a1();
            this.zpp_inner_zn.wrap_a1.set(c);
            null == this.zpp_inner_zn.wrap_a1 && this.zpp_inner_zn.setup_a1();
            this.zpp_inner_zn.wrap_a1;
            null == this.zpp_inner_zn.wrap_a2 && this.zpp_inner_zn.setup_a2();
            this.zpp_inner_zn.wrap_a2.set(d);
            null == this.zpp_inner_zn.wrap_a2 && this.zpp_inner_zn.setup_a2();
            this.zpp_inner_zn.wrap_a2;
            null == this.zpp_inner_zn.wrap_n && this.zpp_inner_zn.setup_n();
            this.zpp_inner_zn.wrap_n.set(e);
            null == this.zpp_inner_zn.wrap_n && this.zpp_inner_zn.setup_n();
            this.zpp_inner_zn.wrap_n;
            this.zpp_inner.immutable_midstep("LineJoint::jointMin");
            this.zpp_inner_zn.jointMin != f && (this.zpp_inner_zn.jointMin = f, this.zpp_inner.wake());
            this.zpp_inner_zn.jointMin;
            this.zpp_inner.immutable_midstep("LineJoint::jointMax");
            this.zpp_inner_zn.jointMax != k && (this.zpp_inner_zn.jointMax = k, this.zpp_inner.wake());
            this.zpp_inner_zn.jointMax
        };
        h["nape.constraint.LineJoint"] = vg;
        vg.__name__ = ["nape", "constraint", "LineJoint"];
        vg.__super__ = gc;
        vg.prototype = v(gc.prototype, {
            set_body1: function(a) {
                this.zpp_inner.immutable_midstep("Constraint::body1");
                a = null == a ? null : a.zpp_inner;
                a != this.zpp_inner_zn.b1 && (null != this.zpp_inner_zn.b1 && (null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && this.zpp_inner_zn.b2 != this.zpp_inner_zn.b1 &&
                    null != this.zpp_inner_zn.b1 && this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner), this.zpp_inner.active && null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && this.zpp_inner_zn.b1.wake()), this.zpp_inner_zn.b1 = a, null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && null != a && this.zpp_inner_zn.b2 != a && null != a && a.constraints.add(this.zpp_inner), this.zpp_inner.active && null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && (this.zpp_inner.wake(), null != a && a.wake()));
                return null == this.zpp_inner_zn.b1 ? null : this.zpp_inner_zn.b1.outer
            },
            set_body2: function(a) {
                this.zpp_inner.immutable_midstep("Constraint::body2");
                a = null == a ? null : a.zpp_inner;
                a != this.zpp_inner_zn.b2 && (null != this.zpp_inner_zn.b2 && (null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && this.zpp_inner_zn.b1 != this.zpp_inner_zn.b2 && null != this.zpp_inner_zn.b2 && this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner), this.zpp_inner.active && null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) &&
                    this.zpp_inner_zn.b2.wake()), this.zpp_inner_zn.b2 = a, null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && null != a && this.zpp_inner_zn.b1 != a && null != a && a.constraints.add(this.zpp_inner), this.zpp_inner.active && null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && (this.zpp_inner.wake(), null != a && a.wake()));
                return null == this.zpp_inner_zn.b2 ? null : this.zpp_inner_zn.b2.outer
            },
            __class__: vg,
            __properties__: v(gc.prototype.__properties__, {
                set_body2: "set_body2",
                set_body1: "set_body1"
            })
        });
        var ug = function(a, b, c, d) {
            this.zpp_inner_zn = null;
            this.zpp_inner = this.zpp_inner_zn = new Vg;
            this.zpp_inner.outer = this;
            this.zpp_inner_zn.outer_zn = this;
            gc.call(this);
            this.set_body1(a);
            this.set_body2(b);
            null == this.zpp_inner_zn.wrap_a1 && this.zpp_inner_zn.setup_a1();
            this.zpp_inner_zn.wrap_a1.set(c);
            null == this.zpp_inner_zn.wrap_a1 && this.zpp_inner_zn.setup_a1();
            this.zpp_inner_zn.wrap_a1;
            null == this.zpp_inner_zn.wrap_a2 && this.zpp_inner_zn.setup_a2();
            this.zpp_inner_zn.wrap_a2.set(d);
            null == this.zpp_inner_zn.wrap_a2 &&
                this.zpp_inner_zn.setup_a2();
            this.zpp_inner_zn.wrap_a2
        };
        h["nape.constraint.PivotJoint"] = ug;
        ug.__name__ = ["nape", "constraint", "PivotJoint"];
        ug.__super__ = gc;
        ug.prototype = v(gc.prototype, {
            set_body1: function(a) {
                this.zpp_inner.immutable_midstep("Constraint::body1");
                a = null == a ? null : a.zpp_inner;
                a != this.zpp_inner_zn.b1 && (null != this.zpp_inner_zn.b1 && (null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && this.zpp_inner_zn.b2 != this.zpp_inner_zn.b1 && null != this.zpp_inner_zn.b1 && this.zpp_inner_zn.b1.constraints.remove(this.zpp_inner),
                    this.zpp_inner.active && null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && this.zpp_inner_zn.b1.wake()), this.zpp_inner_zn.b1 = a, null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && null != a && this.zpp_inner_zn.b2 != a && null != a && a.constraints.add(this.zpp_inner), this.zpp_inner.active && null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && (this.zpp_inner.wake(), null != a && a.wake()));
                return null == this.zpp_inner_zn.b1 ? null : this.zpp_inner_zn.b1.outer
            },
            set_body2: function(a) {
                this.zpp_inner.immutable_midstep("Constraint::body2");
                a = null == a ? null : a.zpp_inner;
                a != this.zpp_inner_zn.b2 && (null != this.zpp_inner_zn.b2 && (null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && this.zpp_inner_zn.b1 != this.zpp_inner_zn.b2 && null != this.zpp_inner_zn.b2 && this.zpp_inner_zn.b2.constraints.remove(this.zpp_inner), this.zpp_inner.active && null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && this.zpp_inner_zn.b2.wake()), this.zpp_inner_zn.b2 = a, null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && null != a && this.zpp_inner_zn.b1 !=
                    a && null != a && a.constraints.add(this.zpp_inner), this.zpp_inner.active && null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && (this.zpp_inner.wake(), null != a && a.wake()));
                return null == this.zpp_inner_zn.b2 ? null : this.zpp_inner_zn.b2.outer
            },
            get_anchor2: function() {
                null == this.zpp_inner_zn.wrap_a2 && this.zpp_inner_zn.setup_a2();
                return this.zpp_inner_zn.wrap_a2
            },
            set_anchor2: function(a) {
                null == this.zpp_inner_zn.wrap_a2 && this.zpp_inner_zn.setup_a2();
                this.zpp_inner_zn.wrap_a2.set(a);
                null == this.zpp_inner_zn.wrap_a2 &&
                    this.zpp_inner_zn.setup_a2();
                return this.zpp_inner_zn.wrap_a2
            },
            __class__: ug,
            __properties__: v(gc.prototype.__properties__, {
                set_anchor2: "set_anchor2",
                get_anchor2: "get_anchor2",
                set_body2: "set_body2",
                set_body1: "set_body1"
            })
        });
        var Fe = function() {
            this.zpp_inner = null
        };
        h["nape.dynamics.Arbiter"] = Fe;
        Fe.__name__ = ["nape", "dynamics", "Arbiter"];
        Fe.prototype = {
            get_state: function() {
                var a = this.zpp_inner.immState;
                if (a == (g.id_ImmState_ACCEPT | g.id_ImmState_ALWAYS)) return null == g.PreFlag_ACCEPT && (g.internal = !0, g.PreFlag_ACCEPT =
                    new pb, g.internal = !1), g.PreFlag_ACCEPT;
                switch (a) {
                    case g.id_ImmState_ACCEPT:
                        return null == g.PreFlag_ACCEPT_ONCE && (g.internal = !0, g.PreFlag_ACCEPT_ONCE = new pb, g.internal = !1), g.PreFlag_ACCEPT_ONCE;
                    default:
                        if (a == (g.id_ImmState_IGNORE | g.id_ImmState_ALWAYS)) return null == g.PreFlag_IGNORE && (g.internal = !0, g.PreFlag_IGNORE = new pb, g.internal = !1), g.PreFlag_IGNORE;
                        null == g.PreFlag_IGNORE_ONCE && (g.internal = !0, g.PreFlag_IGNORE_ONCE = new pb, g.internal = !1);
                        return g.PreFlag_IGNORE_ONCE
                }
            },
            toString: function() {
                var a;
                a = this.zpp_inner.type ==
                    sa.COL ? "CollisionArbiter" : this.zpp_inner.type == sa.FLUID ? "FluidArbiter" : "SensorArbiter";
                return this.zpp_inner.cleared ? a + "(object-pooled)" : a + "(" + (this.zpp_inner.ws1.id > this.zpp_inner.ws2.id ? this.zpp_inner.ws2.outer : this.zpp_inner.ws1.outer).toString() + "|" + (this.zpp_inner.ws1.id > this.zpp_inner.ws2.id ? this.zpp_inner.ws1.outer : this.zpp_inner.ws2.outer).toString() + ")" + (this.zpp_inner.type == sa.COL ? "[" + ["SD", "DD"][this.zpp_inner.colarb.stat ? 0 : 1] + "]" : "") + "<-" + this.get_state().toString()
            },
            __class__: Fe,
            __properties__: {
                get_state: "get_state"
            }
        };
        var Ed = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.dynamics.ArbiterIterator"] = Ed;
        Ed.__name__ = ["nape", "dynamics", "ArbiterIterator"];
        Ed.get = function(a) {
            var b;
            null == Ed.zpp_pool ? (Wd.internal = !0, b = new Ed, Wd.internal = !1) : (b = Ed.zpp_pool, Ed.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        Ed.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.zpp_gl();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next =
                    Ed.zpp_pool;
                Ed.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: Ed
        };
        var ki = function() {
            this.zpp_inner = null;
            this.zpp_inner = new Wd;
            this.zpp_inner.outer = this
        };
        h["nape.dynamics.ArbiterList"] = ki;
        ki.__name__ = ["nape", "dynamics", "ArbiterList"];
        ki.prototype = {
            zpp_gl: function() {
                this.zpp_inner.valmod();
                if (this.zpp_inner.zip_length) {
                    this.zpp_inner.zip_length = !1;
                    this.zpp_inner.user_length = 0;
                    for (var a = this.zpp_inner.inner.head; null !=
                        a;) a.elt.active && this.zpp_inner.user_length++, a = a.next
                }
                return this.zpp_inner.user_length
            },
            zpp_vm: function() {
                this.zpp_inner.valmod()
            },
            at: function(a) {
                this.zpp_vm();
                this.zpp_inner.reverse_flag && (a = this.zpp_gl() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite)
                    for (this.zpp_inner.at_index = 0, this.zpp_inner.at_ite = this.zpp_inner.inner.head; !this.zpp_inner.at_ite.elt.active;) this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                for (; this.zpp_inner.at_index != a;)
                    for (this.zpp_inner.at_index++, this.zpp_inner.at_ite =
                        this.zpp_inner.at_ite.next; !this.zpp_inner.at_ite.elt.active;) this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.wrapper()
            },
            iterator: function() {
                this.zpp_vm();
                return Ed.get(this)
            },
            toString: function() {
                for (var a = "[", b = !0, c = this.iterator(); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: ki
        };
        var Gf = function() {};
        h["nape.dynamics.ArbiterType"] = Gf;
        Gf.__name__ = ["nape", "dynamics", "ArbiterType"];
        Gf.prototype = {
            toString: function() {
                null == g.ArbiterType_COLLISION && (g.internal = !0, g.ArbiterType_COLLISION = new Gf, g.internal = !1);
                var a;
                this == g.ArbiterType_COLLISION ? a = "COLLISION" : (null == g.ArbiterType_SENSOR && (g.internal = !0, g.ArbiterType_SENSOR = new Gf, g.internal = !1), this == g.ArbiterType_SENSOR ? a = "SENSOR" : (null == g.ArbiterType_FLUID && (g.internal = !0, g.ArbiterType_FLUID = new Gf, g.internal = !1), a = this == g.ArbiterType_FLUID ? "FLUID" : ""));
                return a
            },
            __class__: Gf
        };
        var Wg = function() {
            this.zpp_inner = null
        };
        h["nape.dynamics.CollisionArbiter"] =
            Wg;
        Wg.__name__ = ["nape", "dynamics", "CollisionArbiter"];
        Wg.__super__ = Fe;
        Wg.prototype = v(Fe.prototype, {
            __class__: Wg
        });
        var li = function() {
            this.zpp_inner = null
        };
        h["nape.dynamics.Contact"] = li;
        li.__name__ = ["nape", "dynamics", "Contact"];
        li.prototype = {
            toString: function() {
                return null == this.zpp_inner.arbiter || this.zpp_inner.arbiter.cleared ? "{object-pooled}" : "{Contact}"
            },
            __class__: li
        };
        var Fd = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.dynamics.ContactIterator"] = Fd;
        Fd.__name__ = ["nape", "dynamics", "ContactIterator"];
        Fd.get = function(a) {
            var b;
            null == Fd.zpp_pool ? (Hf.internal = !0, b = new Fd, Hf.internal = !1) : (b = Fd.zpp_pool, Fd.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        Fd.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = Fd.zpp_pool;
                Fd.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: Fd
        };
        var nj = function() {
            this.zpp_inner = null
        };
        h["nape.dynamics.ContactList"] = nj;
        nj.__name__ = ["nape", "dynamics", "ContactList"];
        nj.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                if (this.zpp_inner.zip_length) {
                    this.zpp_inner.zip_length = !1;
                    this.zpp_inner.user_length = 0;
                    for (var a = this.zpp_inner.inner.next; null != a;) {
                        var b = a;
                        b.active && b.arbiter.active && this.zpp_inner.user_length++;
                        a = a.next
                    }
                }
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag &&
                    (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite)
                    for (this.zpp_inner.at_index = 0, this.zpp_inner.at_ite = this.zpp_inner.inner.next;;) {
                        var b = this.zpp_inner.at_ite;
                        if (b.active && b.arbiter.active) break;
                        this.zpp_inner.at_ite = this.zpp_inner.at_ite.next
                    }
                for (; this.zpp_inner.at_index != a;)
                    for (this.zpp_inner.at_index++, this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;;) {
                        b = this.zpp_inner.at_ite;
                        if (b.active && b.arbiter.active) break;
                        this.zpp_inner.at_ite = this.zpp_inner.at_ite.next
                    }
                return this.zpp_inner.at_ite.wrapper()
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = Fd.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: nj,
            __properties__: {
                get_length: "get_length"
            }
        };
        var Xg = function() {
            this.zpp_inner = null
        };
        h["nape.dynamics.FluidArbiter"] = Xg;
        Xg.__name__ = ["nape", "dynamics", "FluidArbiter"];
        Xg.__super__ = Fe;
        Xg.prototype = v(Fe.prototype, {
            __class__: Xg
        });
        var Re = function(a, b, c, d, e, f) {
            null == f && (f = -1);
            null == e &&
                (e = 1);
            null == d && (d = -1);
            null == c && (c = 1);
            null == b && (b = -1);
            null == a && (a = 1);
            this.zpp_inner = null;
            null == wa.zpp_pool ? this.zpp_inner = new wa : (this.zpp_inner = wa.zpp_pool, wa.zpp_pool = this.zpp_inner.next, this.zpp_inner.next = null);
            null;
            this.zpp_inner.outer = this;
            this.zpp_inner.collisionGroup != a && (this.zpp_inner.collisionGroup = a, this.zpp_inner.invalidate());
            this.zpp_inner.collisionGroup;
            this.zpp_inner.collisionMask != b && (this.zpp_inner.collisionMask = b, this.zpp_inner.invalidate());
            this.zpp_inner.collisionMask;
            this.zpp_inner.sensorGroup !=
                c && (this.zpp_inner.sensorGroup = c, this.zpp_inner.invalidate());
            this.zpp_inner.sensorGroup;
            this.zpp_inner.sensorMask != d && (this.zpp_inner.sensorMask = d, this.zpp_inner.invalidate());
            this.zpp_inner.sensorMask;
            this.zpp_inner.fluidGroup != e && (this.zpp_inner.fluidGroup = e, this.zpp_inner.invalidate());
            this.zpp_inner.fluidGroup;
            this.zpp_inner.fluidMask != f && (this.zpp_inner.fluidMask = f, this.zpp_inner.invalidate());
            this.zpp_inner.fluidMask
        };
        h["nape.dynamics.InteractionFilter"] = Re;
        Re.__name__ = ["nape", "dynamics", "InteractionFilter"];
        Re.prototype = {
            set_collisionGroup: function(a) {
                this.zpp_inner.collisionGroup != a && (this.zpp_inner.collisionGroup = a, this.zpp_inner.invalidate());
                return this.zpp_inner.collisionGroup
            },
            set_collisionMask: function(a) {
                this.zpp_inner.collisionMask != a && (this.zpp_inner.collisionMask = a, this.zpp_inner.invalidate());
                return this.zpp_inner.collisionMask
            },
            __class__: Re,
            __properties__: {
                set_collisionMask: "set_collisionMask",
                set_collisionGroup: "set_collisionGroup"
            }
        };
        var oj = function() {
            this.zpp_inner = null
        };
        h["nape.dynamics.InteractionGroup"] =
            oj;
        oj.__name__ = ["nape", "dynamics", "InteractionGroup"];
        oj.prototype = {
            toString: function() {
                var a = "InteractionGroup";
                this.zpp_inner.ignore && (a += ":ignore");
                return a
            },
            __class__: oj
        };
        var Ob = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.dynamics.InteractionGroupIterator"] = Ob;
        Ob.__name__ = ["nape", "dynamics", "InteractionGroupIterator"];
        Ob.get = function(a) {
            var b;
            null == Ob.zpp_pool ? (If.internal = !0, b = new Ob, If.internal = !1) : (b = Ob.zpp_pool, Ob.zpp_pool = b.zpp_next);
            b.zpp_i =
                0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        Ob.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = Ob.zpp_pool;
                Ob.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: Ob
        };
        var pj = function() {
            this.zpp_inner = null
        };
        h["nape.dynamics.InteractionGroupList"] = pj;
        pj.__name__ = ["nape", "dynamics", "InteractionGroupList"];
        pj.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag && (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index != a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite =
                        this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.outer
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = Ob.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: pj,
            __properties__: {
                get_length: "get_length"
            }
        };
        var qj = function() {
            this.zpp_inner = null
        };
        h["nape.geom.AABB"] = qj;
        qj.__name__ = ["nape", "geom", "AABB"];
        qj.prototype = {
            toString: function() {
                this.zpp_inner.validate();
                return this.zpp_inner.toString()
            },
            __class__: qj
        };
        var rj = function() {
            this.zpp_inner = null
        };
        h["nape.geom.ConvexResult"] = rj;
        rj.__name__ = ["nape", "geom", "ConvexResult"];
        rj.prototype = {
            toString: function() {
                return "{ shape: " + G.string(this.zpp_inner.shape) + " toi: " + this.zpp_inner.toiDistance + " }"
            },
            __class__: rj
        };
        var $c = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.geom.ConvexResultIterator"] = $c;
        $c.__name__ = ["nape", "geom", "ConvexResultIterator"];
        $c.get = function(a) {
            var b;
            null == $c.zpp_pool ? (Jf.internal = !0, b = new $c, Jf.internal = !1) : (b = $c.zpp_pool, $c.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        $c.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = $c.zpp_pool;
                $c.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: $c
        };
        var sj = function() {
            this.zpp_inner = null
        };
        h["nape.geom.ConvexResultList"] =
            sj;
        sj.__name__ = ["nape", "geom", "ConvexResultList"];
        sj.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag && (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index !=
                        a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = $c.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: sj,
            __properties__: {
                get_length: "get_length"
            }
        };
        var mi = function() {
            this.zpp_inner = null
        };
        h["nape.geom.GeomPoly"] = mi;
        mi.__name__ = ["nape", "geom", "GeomPoly"];
        mi.prototype = {
            toString: function() {
                var a =
                    "GeomPoly[",
                    b = this.zpp_inner.vertices,
                    c = this.zpp_inner.vertices;
                if (null != b) {
                    do {
                        var d = b;
                        d != this.zpp_inner.vertices && (a += ",");
                        a += "{" + d.x + "," + d.y + "}";
                        b = b.next
                    } while (b != c)
                }
                return a + "]"
            },
            __class__: mi
        };
        var ad = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.geom.GeomPolyIterator"] = ad;
        ad.__name__ = ["nape", "geom", "GeomPolyIterator"];
        ad.get = function(a) {
            var b;
            null == ad.zpp_pool ? (Kf.internal = !0, b = new ad, Kf.internal = !1) : (b = ad.zpp_pool, ad.zpp_pool = b.zpp_next);
            b.zpp_i =
                0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        ad.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = ad.zpp_pool;
                ad.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: ad
        };
        var tj = function() {
            this.zpp_inner = null
        };
        h["nape.geom.GeomPolyList"] = tj;
        tj.__name__ = ["nape", "geom", "GeomPolyList"];
        tj.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag && (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index != a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.outer
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = ad.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: tj,
            __properties__: {
                get_length: "get_length"
            }
        };
        var Be = function(a, b, c, d, e, f) {
            null == f && (f = 0);
            null == e && (e = 0);
            null == d && (d = 1);
            null == c && (c = 0);
            null == b && (b = 0);
            null == a && (a = 1);
            this.zpp_inner = null;
            this.zpp_inner = he.get();
            this.zpp_inner.outer = this;
            this.zpp_inner.a = a;
            this.zpp_inner.invalidate();
            this.zpp_inner.a;
            this.zpp_inner.b = b;
            this.zpp_inner.invalidate();
            this.zpp_inner.b;
            this.zpp_inner.tx = e;
            this.zpp_inner.invalidate();
            this.zpp_inner.tx;
            this.zpp_inner.c = c;
            this.zpp_inner.invalidate();
            this.zpp_inner.c;
            this.zpp_inner.d = d;
            this.zpp_inner.invalidate();
            this.zpp_inner.d;
            this.zpp_inner.ty = f;
            this.zpp_inner.invalidate();
            this.zpp_inner.ty
        };
        h["nape.geom.Mat23"] = Be;
        Be.__name__ = ["nape", "geom", "Mat23"];
        Be.translation = function(a, b) {
            return new Be(1, 0, 0, 1, a, b)
        };
        Be.prototype = {
            set_a: function(a) {
                this.zpp_inner.a =
                    a;
                this.zpp_inner.invalidate();
                return this.zpp_inner.a
            },
            set_b: function(a) {
                this.zpp_inner.b = a;
                this.zpp_inner.invalidate();
                return this.zpp_inner.b
            },
            set_c: function(a) {
                this.zpp_inner.c = a;
                this.zpp_inner.invalidate();
                return this.zpp_inner.c
            },
            set_d: function(a) {
                this.zpp_inner.d = a;
                this.zpp_inner.invalidate();
                return this.zpp_inner.d
            },
            set_tx: function(a) {
                this.zpp_inner.tx = a;
                this.zpp_inner.invalidate();
                return this.zpp_inner.tx
            },
            set_ty: function(a) {
                this.zpp_inner.ty = a;
                this.zpp_inner.invalidate();
                return this.zpp_inner.ty
            },
            singular: function() {
                var a = this.zpp_inner.a * this.zpp_inner.a + this.zpp_inner.b * this.zpp_inner.b + this.zpp_inner.c * this.zpp_inner.c + this.zpp_inner.d * this.zpp_inner.d,
                    b = this.zpp_inner.a * this.zpp_inner.d - this.zpp_inner.b * this.zpp_inner.c;
                0 > b && (b = -b);
                return a > u.illConditionedThreshold * b
            },
            toString: function() {
                return "{ a: " + this.zpp_inner.a + " b: " + this.zpp_inner.b + " c: " + this.zpp_inner.c + " d: " + this.zpp_inner.d + " tx: " + this.zpp_inner.tx + " ty: " + this.zpp_inner.ty + " }"
            },
            equiorthogonal: function() {
                if (this.singular()) return !1;
                var a = this.zpp_inner.a * this.zpp_inner.b + this.zpp_inner.c * this.zpp_inner.d;
                return a * a < u.epsilon ? (a = this.zpp_inner.a * this.zpp_inner.a + this.zpp_inner.b * this.zpp_inner.b - this.zpp_inner.c * this.zpp_inner.c - this.zpp_inner.d * this.zpp_inner.d, a * a < u.epsilon) : !1
            },
            __class__: Be,
            __properties__: {
                set_ty: "set_ty",
                set_tx: "set_tx",
                set_d: "set_d",
                set_c: "set_c",
                set_b: "set_b",
                set_a: "set_a"
            }
        };
        var uj = function() {
            this.zpp_inner = null
        };
        h["nape.geom.MatMN"] = uj;
        uj.__name__ = ["nape", "geom", "MatMN"];
        uj.prototype = {
            toString: function() {
                for (var a =
                    "{ ", b = !0, c = 0, d = this.zpp_inner.m; c < d;) {
                    var e = c++;
                    b || (a += "; ");
                    for (var b = !1, f = 0, k = this.zpp_inner.n; f < k;) var q = f++,
                        a = a + (this.zpp_inner.x[e * this.zpp_inner.n + q] + " ")
                }
                return a + "}"
            },
            __class__: uj
        };
        var Nh = function(a, b) {
            this.zpp_inner = null;
            this.zpp_inner = new ni;
            this.zpp_inner.origin.set(a);
            this.zpp_inner.origin;
            this.zpp_inner.direction.set(b);
            this.zpp_inner.zip_dir = !0;
            this.zpp_inner.direction;
            this.zpp_inner.maxdist = Math.POSITIVE_INFINITY
        };
        h["nape.geom.Ray"] = Nh;
        Nh.__name__ = ["nape", "geom", "Ray"];
        Nh.prototype = {
            at: function(a, b) {
                null == b && (b = !1);
                this.zpp_inner.validate_dir();
                return K.get(this.zpp_inner.origin.get_x() + a * this.zpp_inner.dirx, this.zpp_inner.origin.get_y() + a * this.zpp_inner.diry, b)
            },
            __class__: Nh
        };
        var oi = function() {
            this.zpp_inner = null
        };
        h["nape.geom.RayResult"] = oi;
        oi.__name__ = ["nape", "geom", "RayResult"];
        oi.prototype = {
            toString: function() {
                return "{ shape: " + G.string(this.zpp_inner.shape) + " distance: " + this.zpp_inner.toiDistance + " ?inner: " + G.string(this.zpp_inner.inner) + " }"
            },
            __class__: oi
        };
        var bd = function() {
            this.zpp_next =
                null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.geom.RayResultIterator"] = bd;
        bd.__name__ = ["nape", "geom", "RayResultIterator"];
        bd.get = function(a) {
            var b;
            null == bd.zpp_pool ? (Lf.internal = !0, b = new bd, Lf.internal = !1) : (b = bd.zpp_pool, bd.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        bd.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = bd.zpp_pool;
                bd.zpp_pool =
                    this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: bd
        };
        var vj = function() {
            this.zpp_inner = null
        };
        h["nape.geom.RayResultList"] = vj;
        vj.__name__ = ["nape", "geom", "RayResultList"];
        vj.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag &&
                    (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index != a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = bd.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: vj,
            __properties__: {
                get_length: "get_length"
            }
        };
        var K = function(a, b) {
            null == b && (b = 0);
            null == a && (a = 0);
            this.zpp_inner = this.zpp_pool = null;
            this.zpp_inner = ja.get(a, b, null);
            this.zpp_inner.outer = this
        };
        h["nape.geom.Vec2"] = K;
        K.__name__ = ["nape", "geom", "Vec2"];
        K.weak = function(a, b) {
            null == b && (b = 0);
            null == a && (a = 0);
            return K.get(a, b, !0)
        };
        K.get = function(a, b, c) {
            null == c && (c = !1);
            null == b && (b = 0);
            null == a && (a = 0);
            var d;
            null == Ye.poolVec2 ? d = new K : (d = Ye.poolVec2, Ye.poolVec2 = d.zpp_pool, d.zpp_pool = null);
            if (null == d.zpp_inner) d.zpp_inner = ja.get(a, b, null), d.zpp_inner.outer = d;
            else {
                d.zpp_inner.validate();
                var e;
                (e = d.zpp_inner.x != a) || (d.zpp_inner.validate(), e = d.zpp_inner.y != b);
                e && (d.zpp_inner.x = a, d.zpp_inner.y = b, d.zpp_inner.invalidate());
                d
            }
            d.zpp_inner.weak = c;
            return d
        };
        K.prototype = {
            dispose: function() {
                var a = this.zpp_inner;
                this.zpp_inner = this.zpp_inner.outer = null;
                this.zpp_pool = Ye.poolVec2;
                Ye.poolVec2 = this;
                null != a.outer && (a.outer.zpp_inner = null, a.outer = null);
                a._isimmutable = null;
                a._validate = null;
                a._invalidate =
                    null;
                a.next = ja.zpp_pool;
                ja.zpp_pool = a
            },
            get_x: function() {
                this.zpp_inner.validate();
                return this.zpp_inner.x
            },
            set_x: function(a) {
                this.zpp_inner.validate();
                this.zpp_inner.x != a && (this.zpp_inner.x = a, this.zpp_inner.invalidate());
                this.zpp_inner.validate();
                return this.zpp_inner.x
            },
            get_y: function() {
                this.zpp_inner.validate();
                return this.zpp_inner.y
            },
            set_y: function(a) {
                this.zpp_inner.validate();
                this.zpp_inner.y != a && (this.zpp_inner.y = a, this.zpp_inner.invalidate());
                this.zpp_inner.validate();
                return this.zpp_inner.y
            },
            get_length: function() {
                return Math.sqrt(function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.x
                }(this) * function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.x
                }(this) + function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.y
                }(this) * function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.y
                }(this))
            },
            set_length: function(a) {
                a /= Math.sqrt(function(a) {
                        a.zpp_inner.validate();
                        return a.zpp_inner.x
                    }(this) * function(a) {
                        a.zpp_inner.validate();
                        return a.zpp_inner.x
                    }(this) + function(a) {
                        a.zpp_inner.validate();
                        return a.zpp_inner.y
                    }(this) *
                    function(a) {
                        a.zpp_inner.validate();
                        return a.zpp_inner.y
                    }(this));
                var b = this;
                b.set_x(function(a) {
                    b.zpp_inner.validate();
                    return b.zpp_inner.x
                }(this) * a);
                var c = this;
                c.set_y(function(a) {
                    c.zpp_inner.validate();
                    return c.zpp_inner.y
                }(this) * a);
                this.zpp_inner.invalidate();
                return Math.sqrt(function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.x
                }(this) * function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.x
                }(this) + function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.y
                }(this) * function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.y
                }(this))
            },
            set: function(a) {
                var b = this.setxy(function(b) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.x
                }(this), function(b) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.y
                }(this));
                a.zpp_inner.weak ? (a.dispose(), !0) : !1;
                return b
            },
            setxy: function(a, b) {
                this.zpp_inner.validate();
                var c;
                (c = this.zpp_inner.x != a) || (this.zpp_inner.validate(), c = this.zpp_inner.y != b);
                c && (this.zpp_inner.x = a, this.zpp_inner.y = b, this.zpp_inner.invalidate());
                return this
            },
            rotate: function(a) {
                if (0 != a % (2 * Math.PI)) {
                    var b = Math.sin(a);
                    a = Math.cos(a);
                    var c = a * this.zpp_inner.x - b * this.zpp_inner.y;
                    this.zpp_inner.y = this.zpp_inner.x * b + this.zpp_inner.y * a;
                    this.zpp_inner.x = c;
                    this.zpp_inner.invalidate()
                }
                return this
            },
            normalise: function() {
                this.zpp_inner.validate();
                var a = this.zpp_inner.x;
                this.zpp_inner.validate();
                a *= this.zpp_inner.x;
                this.zpp_inner.validate();
                var b = this.zpp_inner.y;
                this.zpp_inner.validate();
                var a = 1 / Math.sqrt(a + b * this.zpp_inner.y),
                    c = this;
                c.set_x(function(a) {
                    c.zpp_inner.validate();
                    return c.zpp_inner.x
                }(this) * a);
                var d = this;
                d.set_y(function(a) {
                    d.zpp_inner.validate();
                    return d.zpp_inner.y
                }(this) * a);
                this.zpp_inner.invalidate();
                return this
            },
            add: function(a, b) {
                null == b && (b = !1);
                var c = K.get(function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.x
                }(this) + function(b) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.x
                }(this), function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.y
                }(this) + function(b) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.y
                }(this), b);
                a.zpp_inner.weak ? (a.dispose(), !0) : !1;
                return c
            },
            sub: function(a, b) {
                null == b && (b = !1);
                var c = K.get(function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.x
                }(this) - function(b) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.x
                }(this), function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.y
                }(this) - function(b) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.y
                }(this), b);
                a.zpp_inner.weak ? (a.dispose(), !0) : !1;
                return c
            },
            mul: function(a, b) {
                null == b && (b = !1);
                return K.get(function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.x
                }(this) * a, function(a) {
                    a.zpp_inner.validate();
                    return a.zpp_inner.y
                }(this) * a, b)
            },
            toString: function() {
                this.zpp_inner.validate();
                return this.zpp_inner.toString()
            },
            __class__: K,
            __properties__: {
                set_length: "set_length",
                get_length: "get_length",
                set_y: "set_y",
                get_y: "get_y",
                set_x: "set_x",
                get_x: "get_x"
            }
        };
        var cd = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.geom.Vec2Iterator"] = cd;
        cd.__name__ = ["nape", "geom", "Vec2Iterator"];
        cd.get = function(a) {
            var b;
            null == cd.zpp_pool ? (Ze.internal = !0, b = new cd, Ze.internal = !1) : (b = cd.zpp_pool, cd.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        cd.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.zpp_gl();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = cd.zpp_pool;
                cd.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: cd
        };
        var Ie = function() {
            this.zpp_inner = null;
            this.zpp_inner = new Ze;
            this.zpp_inner.outer = this
        };
        h["nape.geom.Vec2List"] = Ie;
        Ie.__name__ = ["nape", "geom", "Vec2List"];
        Ie.prototype = {
            zpp_gl: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            zpp_vm: function() {
                this.zpp_inner.valmod()
            },
            at: function(a) {
                this.zpp_vm();
                this.zpp_inner.reverse_flag && (a = this.zpp_gl() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index != a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.wrapper()
            },
            push: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_vm();
                var b;
                if (b = null != this.zpp_inner.adder ? this.zpp_inner.adder(a) : !0) this.zpp_inner.reverse_flag ? this.zpp_inner.inner.add(a.zpp_inner) : (null == this.zpp_inner.push_ite && (this.empty() ? this.zpp_inner.push_ite = null : this.zpp_inner.push_ite = this.zpp_inner.inner.iterator_at(this.zpp_gl() - 1)), this.zpp_inner.push_ite = this.zpp_inner.inner.insert(this.zpp_inner.push_ite, a.zpp_inner)), this.zpp_inner.invalidate(), null != this.zpp_inner.post_adder && this.zpp_inner.post_adder(a);
                return b
            },
            empty: function() {
                return 0 == this.zpp_gl()
            },
            iterator: function() {
                this.zpp_vm();
                return cd.get(this)
            },
            toString: function() {
                for (var a = "[", b = !0, c = this.iterator(); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: Ie
        };
        var wj = function() {
            this.zpp_inner = null
        };
        h["nape.geom.Vec3"] = wj;
        wj.__name__ = ["nape", "geom", "Vec3"];
        wj.prototype = {
            toString: function() {
                this.zpp_inner.validate();
                var a = "{ x: " + this.zpp_inner.x + " y: ";
                this.zpp_inner.validate();
                a = a + this.zpp_inner.y + " z: ";
                this.zpp_inner.validate();
                return a + this.zpp_inner.z + " }"
            },
            __class__: wj
        };
        var Mf = function() {};
        h["nape.geom.Winding"] = Mf;
        Mf.__name__ = ["nape", "geom", "Winding"];
        Mf.prototype = {
            toString: function() {
                null == g.Winding_UNDEFINED && (g.internal = !0, g.Winding_UNDEFINED = new Mf, g.internal = !1);
                var a;
                this == g.Winding_UNDEFINED ? a = "UNDEFINED" : (null == g.Winding_CLOCKWISE && (g.internal = !0, g.Winding_CLOCKWISE = new Mf, g.internal = !1), this == g.Winding_CLOCKWISE ? a = "CLOCKWISE" : (null ==
                    g.Winding_ANTICLOCKWISE && (g.internal = !0, g.Winding_ANTICLOCKWISE = new Mf, g.internal = !1), a = this == g.Winding_ANTICLOCKWISE ? "ANTICLOCKWISE" : ""));
                return a
            },
            __class__: Mf
        };
        var ud = function() {
            this.zpp_inner_i = null
        };
        h["nape.phys.Interactor"] = ud;
        ud.__name__ = ["nape", "phys", "Interactor"];
        ud.prototype = {
            get_userData: function() {
                null == this.zpp_inner_i.userData && (this.zpp_inner_i.userData = {});
                return this.zpp_inner_i.userData
            },
            toString: function() {
                return ""
            },
            __class__: ud,
            __properties__: {
                get_userData: "get_userData"
            }
        };
        var Tb =
            function(a, b) {
                this.zpp_inner_i = this.zpp_inner = null;
                this.zpp_inner = new fc;
                this.zpp_inner.outer = this;
                this.zpp_inner.outer_i = this;
                this.zpp_inner_i = this.zpp_inner;
                null != b ? (b.zpp_inner.validate(), this.zpp_inner.posx = b.zpp_inner.x, b.zpp_inner.validate(), this.zpp_inner.posy = b.zpp_inner.y) : (this.zpp_inner.posx = 0, this.zpp_inner.posy = 0);
                this.set_type(null == a ? function(a) {
                    null == g.BodyType_DYNAMIC && (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1);
                    return g.BodyType_DYNAMIC
                }(this) : a);
                null != b && (b.zpp_inner.weak ?
                    (b.dispose(), !0) : !1);
                this.zpp_inner_i.insert_cbtype($a.ANY_BODY.zpp_inner)
            };
        h["nape.phys.Body"] = Tb;
        Tb.__name__ = ["nape", "phys", "Body"];
        Tb.__super__ = ud;
        Tb.prototype = v(ud.prototype, {
            set_type: function(a) {
                this.zpp_inner.immutable_midstep("Body::type");
                fc.types[this.zpp_inner.type] != a && (null == g.BodyType_DYNAMIC && (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1), a == g.BodyType_DYNAMIC ? a = g.id_BodyType_DYNAMIC : (null == g.BodyType_KINEMATIC && (g.internal = !0, g.BodyType_KINEMATIC = new Ba, g.internal = !1), a = a ==
                    g.BodyType_KINEMATIC ? g.id_BodyType_KINEMATIC : g.id_BodyType_STATIC), a == g.id_BodyType_STATIC && null != this.zpp_inner.space && (this.zpp_inner.velx = 0, this.zpp_inner.vely = 0, this.zpp_inner.angvel = 0), this.zpp_inner.invalidate_type(), null != this.zpp_inner.space ? this.zpp_inner.space.transmitType(this.zpp_inner, a) : this.zpp_inner.type = a);
                return fc.types[this.zpp_inner.type]
            },
            set_space: function(a) {
                this.zpp_inner.immutable_midstep("Body::space");
                (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) != a && (null !=
                    (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && (this.zpp_inner.component.woken = !1), null != (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer) && (null == this.zpp_inner.space ? null : this.zpp_inner.space.outer).zpp_inner.wrap_bodies.remove(this), null != a && a.zpp_inner.wrap_bodies.add(this));
                return null == this.zpp_inner.space ? null : this.zpp_inner.space.outer
            },
            get_position: function() {
                null == this.zpp_inner.wrap_pos && this.zpp_inner.setupPosition();
                return this.zpp_inner.wrap_pos
            },
            get_velocity: function() {
                null ==
                    this.zpp_inner.wrap_vel && this.zpp_inner.setupVelocity();
                return this.zpp_inner.wrap_vel
            },
            set_velocity: function(a) {
                null == this.zpp_inner.wrap_vel && this.zpp_inner.setupVelocity();
                this.zpp_inner.wrap_vel.set(a);
                null == this.zpp_inner.wrap_vel && this.zpp_inner.setupVelocity();
                return this.zpp_inner.wrap_vel
            },
            set_rotation: function(a) {
                this.zpp_inner.immutable_midstep("Body::rotation");
                this.zpp_inner.rot != a && (this.zpp_inner.rot = a, this.zpp_inner.invalidate_rot(), this.zpp_inner.wake());
                return this.zpp_inner.rot
            },
            set_angularVel: function(a) {
                this.zpp_inner.angvel != a && (this.zpp_inner.angvel = a, this.zpp_inner.wake());
                return this.zpp_inner.angvel
            },
            set_torque: function(a) {
                this.zpp_inner.torque != a && (this.zpp_inner.torque = a, this.zpp_inner.wake());
                return this.zpp_inner.torque
            },
            set_allowRotation: function(a) {
                this.zpp_inner.immutable_midstep("Body::" + (null == a ? "null" : "" + a));
                !this.zpp_inner.norotate != a && (this.zpp_inner.norotate = !a, this.zpp_inner.invalidate_inertia());
                return !this.zpp_inner.norotate
            },
            set_mass: function(a) {
                this.zpp_inner.immutable_midstep("Body::mass");
                this.zpp_inner.massMode = g.id_MassMode_FIXED;
                this.zpp_inner.cmass = a;
                this.zpp_inner.invalidate_mass();
                this.zpp_inner.validate_mass();
                return this.zpp_inner.cmass
            },
            set_gravMass: function(a) {
                this.zpp_inner.immutable_midstep("Body::gravMass");
                this.zpp_inner.gravMassMode = g.id_GravMassMode_FIXED;
                this.zpp_inner.gravMass = a;
                this.zpp_inner.invalidate_gravMass();
                this.zpp_inner.validate_gravMass();
                return this.zpp_inner.gravMass
            },
            localPointToWorld: function(a, b) {
                null == b && (b = !1);
                this.zpp_inner.validate_axis();
                var c =
                    0,
                    d = 0,
                    c = this.zpp_inner.axisy;
                a.zpp_inner.validate();
                c *= a.zpp_inner.x;
                d = this.zpp_inner.axisx;
                a.zpp_inner.validate();
                c -= d * a.zpp_inner.y;
                a.zpp_inner.validate();
                d = a.zpp_inner.x * this.zpp_inner.axisx;
                a.zpp_inner.validate();
                d += a.zpp_inner.y * this.zpp_inner.axisy;
                a.zpp_inner.weak ? (a.dispose(), !0) : !1;
                return K.get(c + this.zpp_inner.posx, d + this.zpp_inner.posy, b)
            },
            worldPointToLocal: function(a, b) {
                null == b && (b = !1);
                this.zpp_inner.validate_axis();
                var c = 0,
                    d = 0,
                    e = d = 0;
                a.zpp_inner.validate();
                d = a.zpp_inner.x - this.zpp_inner.posx;
                a.zpp_inner.validate();
                e = a.zpp_inner.y - this.zpp_inner.posy;
                c = d * this.zpp_inner.axisy + e * this.zpp_inner.axisx;
                d = e * this.zpp_inner.axisy - d * this.zpp_inner.axisx;
                a.zpp_inner.weak ? (a.dispose(), !0) : !1;
                return K.get(c, d, b)
            },
            applyImpulse: function(a, b, c) {
                null == c && (c = !1);
                if (c && this.zpp_inner.component.sleeping) return a.zpp_inner.weak ? (a.dispose(), !0) : !1, null != b && (b.zpp_inner.weak ? (b.dispose(), !0) : !1), this;
                this.zpp_inner.validate_mass();
                var d = this.zpp_inner.imass,
                    e = this.zpp_inner,
                    f = this.zpp_inner.velx;
                a.zpp_inner.validate();
                e.velx = f + a.zpp_inner.x * d;
                e = this.zpp_inner;
                f = this.zpp_inner.vely;
                a.zpp_inner.validate();
                e.vely = f + a.zpp_inner.y * d;
                if (null != b) {
                    var k = 0,
                        d = 0;
                    b.zpp_inner.validate();
                    k = b.zpp_inner.x - this.zpp_inner.posx;
                    b.zpp_inner.validate();
                    d = b.zpp_inner.y - this.zpp_inner.posy;
                    this.zpp_inner.validate_inertia();
                    e = this.zpp_inner;
                    f = this.zpp_inner.angvel;
                    a.zpp_inner.validate();
                    k *= a.zpp_inner.y;
                    a.zpp_inner.validate();
                    e.angvel = f + (k - a.zpp_inner.x * d) * this.zpp_inner.iinertia;
                    b.zpp_inner.weak ? (b.dispose(), !0) : !1
                }
                c || this.zpp_inner.type ==
                    g.id_BodyType_DYNAMIC && this.zpp_inner.wake();
                a.zpp_inner.weak ? (a.dispose(), !0) : !1;
                return this
            },
            applyAngularImpulse: function(a, b) {
                null == b && (b = !1);
                if (b && this.zpp_inner.component.sleeping) return this;
                this.zpp_inner.validate_inertia();
                this.zpp_inner.angvel += a * this.zpp_inner.iinertia;
                b || this.zpp_inner.type == g.id_BodyType_DYNAMIC && this.zpp_inner.wake();
                return this
            },
            setShapeMaterials: function(a) {
                this.zpp_inner.immutable_midstep("Body::setShapeMaterials()");
                for (var b = this.zpp_inner.shapes.head; null != b;) b.elt.outer.set_material(a),
                    b = b.next;
                return this
            },
            setShapeFilters: function(a) {
                this.zpp_inner.immutable_midstep("Body::setShapeFilters()");
                for (var b = this.zpp_inner.shapes.head; null != b;) b.elt.outer.set_filter(a), b = b.next;
                return this
            },
            get_worldCOM: function() {
                null == this.zpp_inner.wrap_worldCOM && (this.zpp_inner.wrap_worldCOM = K.get(this.zpp_inner.worldCOMx, this.zpp_inner.worldCOMy, null), this.zpp_inner.wrap_worldCOM.zpp_inner._inuse = !0, this.zpp_inner.wrap_worldCOM.zpp_inner._immutable = !0, this.zpp_inner.wrap_worldCOM.zpp_inner._validate =
                    (Gg = this.zpp_inner, l(Gg, Gg.getworldCOM)));
                return this.zpp_inner.wrap_worldCOM
            },
            toString: function() {
                return (this.zpp_inner.world ? "(space::world" : "(" + (this.zpp_inner.type == g.id_BodyType_DYNAMIC ? "dynamic" : this.zpp_inner.type == g.id_BodyType_STATIC ? "static" : "kinematic")) + ")#" + this.zpp_inner_i.id
            },
            __class__: Tb,
            __properties__: v(ud.prototype.__properties__, {
                get_worldCOM: "get_worldCOM",
                set_gravMass: "set_gravMass",
                set_mass: "set_mass",
                set_allowRotation: "set_allowRotation",
                set_torque: "set_torque",
                set_angularVel: "set_angularVel",
                set_rotation: "set_rotation",
                set_velocity: "set_velocity",
                get_velocity: "get_velocity",
                get_position: "get_position",
                set_space: "set_space",
                set_type: "set_type"
            })
        });
        var dd = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.phys.BodyIterator"] = dd;
        dd.__name__ = ["nape", "phys", "BodyIterator"];
        dd.get = function(a) {
            var b;
            null == dd.zpp_pool ? (ie.internal = !0, b = new dd, ie.internal = !1) : (b = dd.zpp_pool, dd.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        dd.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = dd.zpp_pool;
                dd.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: dd
        };
        var Je = function() {
            this.zpp_inner = null;
            this.zpp_inner = new ie;
            this.zpp_inner.outer = this
        };
        h["nape.phys.BodyList"] = Je;
        Je.__name__ = ["nape", "phys", "BodyList"];
        Je.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            has: function(a) {
                this.zpp_inner.valmod();
                return this.zpp_inner.inner.has(a.zpp_inner)
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag && (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index !=
                        a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.outer
            },
            push: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                if (b = null != this.zpp_inner.adder ? this.zpp_inner.adder(a) : !0) this.zpp_inner.reverse_flag ? this.zpp_inner.inner.add(a.zpp_inner) : (null == this.zpp_inner.push_ite && (this.zpp_inner.push_ite = null == this.zpp_inner.inner.head ? null : this.zpp_inner.inner.iterator_at(this.get_length() - 1)), this.zpp_inner.push_ite = this.zpp_inner.inner.insert(this.zpp_inner.push_ite,
                    a.zpp_inner)), this.zpp_inner.invalidate(), null != this.zpp_inner.post_adder && this.zpp_inner.post_adder(a);
                return b
            },
            unshift: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                if (b = null != this.zpp_inner.adder ? this.zpp_inner.adder(a) : !0) this.zpp_inner.reverse_flag ? (null == this.zpp_inner.push_ite && (this.zpp_inner.push_ite = null == this.zpp_inner.inner.head ? null : this.zpp_inner.inner.iterator_at(this.get_length() - 1)), this.zpp_inner.push_ite = this.zpp_inner.inner.insert(this.zpp_inner.push_ite,
                    a.zpp_inner)) : this.zpp_inner.inner.add(a.zpp_inner), this.zpp_inner.invalidate(), null != this.zpp_inner.post_adder && this.zpp_inner.post_adder(a);
                return b
            },
            pop: function() {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var a = null;
                if (this.zpp_inner.reverse_flag) {
                    var a = this.zpp_inner.inner.head.elt,
                        b = a.outer;
                    null != this.zpp_inner.subber && this.zpp_inner.subber(b);
                    this.zpp_inner.dontremove || this.zpp_inner.inner.pop()
                } else {
                    null != this.zpp_inner.at_ite && null == this.zpp_inner.at_ite.next && (this.zpp_inner.at_ite =
                        null);
                    var b = 1 == this.get_length() ? null : this.zpp_inner.inner.iterator_at(this.get_length() - 2),
                        a = null == b ? this.zpp_inner.inner.head.elt : b.next.elt,
                        c = a.outer;
                    null != this.zpp_inner.subber && this.zpp_inner.subber(c);
                    this.zpp_inner.dontremove || this.zpp_inner.inner.erase(b)
                }
                this.zpp_inner.invalidate();
                return a.outer
            },
            shift: function() {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var a = null;
                if (this.zpp_inner.reverse_flag) {
                    null != this.zpp_inner.at_ite && null == this.zpp_inner.at_ite.next && (this.zpp_inner.at_ite =
                        null);
                    var b;
                    b = 1 == this.get_length() ? null : this.zpp_inner.inner.iterator_at(this.get_length() - 2);
                    var a = null == b ? this.zpp_inner.inner.head.elt : b.next.elt,
                        c = a.outer;
                    null != this.zpp_inner.subber && this.zpp_inner.subber(c);
                    this.zpp_inner.dontremove || this.zpp_inner.inner.erase(b)
                } else a = this.zpp_inner.inner.head.elt, b = a.outer, null != this.zpp_inner.subber && this.zpp_inner.subber(b), this.zpp_inner.dontremove || this.zpp_inner.inner.pop();
                this.zpp_inner.invalidate();
                return a.outer
            },
            add: function(a) {
                return this.zpp_inner.reverse_flag ?
                    this.push(a) : this.unshift(a)
            },
            remove: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                b = !1;
                for (var c = this.zpp_inner.inner.head; null != c;) {
                    if (c.elt == a.zpp_inner) {
                        b = !0;
                        break
                    }
                    c = c.next
                }
                b && (null != this.zpp_inner.subber && this.zpp_inner.subber(a), this.zpp_inner.dontremove || this.zpp_inner.inner.remove(a.zpp_inner), this.zpp_inner.invalidate());
                return b
            },
            clear: function() {
                if (this.zpp_inner.reverse_flag)
                    for (; null != this.zpp_inner.inner.head;) this.pop();
                else
                    for (; null != this.zpp_inner.inner.head;) this.shift()
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = dd.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: Je,
            __properties__: {
                get_length: "get_length"
            }
        };
        var Ba = function() {};
        h["nape.phys.BodyType"] = Ba;
        Ba.__name__ = ["nape", "phys", "BodyType"];
        Ba.prototype = {
            toString: function() {
                null == g.BodyType_STATIC && (g.internal = !0, g.BodyType_STATIC = new Ba, g.internal = !1);
                var a;
                this == g.BodyType_STATIC ? a = "STATIC" :
                    (null == g.BodyType_DYNAMIC && (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1), this == g.BodyType_DYNAMIC ? a = "DYNAMIC" : (null == g.BodyType_KINEMATIC && (g.internal = !0, g.BodyType_KINEMATIC = new Ba, g.internal = !1), a = this == g.BodyType_KINEMATIC ? "KINEMATIC" : ""));
                return a
            },
            __class__: Ba
        };
        var pi = function() {
            this.zpp_inner = null
        };
        h["nape.phys.Compound"] = pi;
        pi.__name__ = ["nape", "phys", "Compound"];
        pi.__super__ = ud;
        pi.prototype = v(ud.prototype, {
            toString: function() {
                return "Compound" + this.zpp_inner_i.id
            },
            __class__: pi
        });
        var Fc =
            function() {
                this.zpp_next = null;
                this.zpp_critical = !1;
                this.zpp_i = 0;
                this.zpp_inner = null
            };
        h["nape.phys.CompoundIterator"] = Fc;
        Fc.__name__ = ["nape", "phys", "CompoundIterator"];
        Fc.get = function(a) {
            var b;
            null == Fc.zpp_pool ? (Gd.internal = !0, b = new Fc, Gd.internal = !1) : (b = Fc.zpp_pool, Fc.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        Fc.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next =
                    Fc.zpp_pool;
                Fc.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: Fc
        };
        var qi = function() {
            this.zpp_inner = null;
            this.zpp_inner = new Gd;
            this.zpp_inner.outer = this
        };
        h["nape.phys.CompoundList"] = qi;
        qi.__name__ = ["nape", "phys", "CompoundList"];
        qi.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag && (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index != a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.outer
            },
            remove: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                b = !1;
                for (var c = this.zpp_inner.inner.head; null !=
                    c;) {
                    if (c.elt == a.zpp_inner) {
                        b = !0;
                        break
                    }
                    c = c.next
                }
                b && (null != this.zpp_inner.subber && this.zpp_inner.subber(a), this.zpp_inner.dontremove || this.zpp_inner.inner.remove(a.zpp_inner), this.zpp_inner.invalidate());
                return b
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = Fc.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: qi,
            __properties__: {
                get_length: "get_length"
            }
        };
        var xj = function() {
            this.zpp_inner =
                null
        };
        h["nape.phys.FluidProperties"] = xj;
        xj.__name__ = ["nape", "phys", "FluidProperties"];
        xj.prototype = {
            toString: function() {
                return "{ density: " + 1E3 * this.zpp_inner.density + " viscosity: " + this.zpp_inner.viscosity + " gravity: " + G.string(this.zpp_inner.wrap_gravity) + " }"
            },
            __class__: xj
        };
        var Nf = function() {};
        h["nape.phys.GravMassMode"] = Nf;
        Nf.__name__ = ["nape", "phys", "GravMassMode"];
        Nf.prototype = {
            toString: function() {
                null == g.GravMassMode_DEFAULT && (g.internal = !0, g.GravMassMode_DEFAULT = new Nf, g.internal = !1);
                var a;
                this == g.GravMassMode_DEFAULT ? a = "DEFAULT" : (null == g.GravMassMode_FIXED && (g.internal = !0, g.GravMassMode_FIXED = new Nf, g.internal = !1), this == g.GravMassMode_FIXED ? a = "FIXED" : (null == g.GravMassMode_SCALED && (g.internal = !0, g.GravMassMode_SCALED = new Nf, g.internal = !1), a = this == g.GravMassMode_SCALED ? "SCALED" : ""));
                return a
            },
            __class__: Nf
        };
        var Yg = function() {};
        h["nape.phys.InertiaMode"] = Yg;
        Yg.__name__ = ["nape", "phys", "InertiaMode"];
        Yg.prototype = {
            toString: function() {
                null == g.InertiaMode_DEFAULT && (g.internal = !0, g.InertiaMode_DEFAULT =
                    new Yg, g.internal = !1);
                var a;
                this == g.InertiaMode_DEFAULT ? a = "DEFAULT" : (null == g.InertiaMode_FIXED && (g.internal = !0, g.InertiaMode_FIXED = new Yg, g.internal = !1), a = this == g.InertiaMode_FIXED ? "FIXED" : "");
                return a
            },
            __class__: Yg
        };
        var ed = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.phys.InteractorIterator"] = ed;
        ed.__name__ = ["nape", "phys", "InteractorIterator"];
        ed.get = function(a) {
            var b;
            null == ed.zpp_pool ? (Of.internal = !0, b = new ed, Of.internal = !1) : (b = ed.zpp_pool, ed.zpp_pool =
                b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        ed.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = ed.zpp_pool;
                ed.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: ed
        };
        var yj = function() {
            this.zpp_inner = null
        };
        h["nape.phys.InteractorList"] = yj;
        yj.__name__ = ["nape", "phys", "InteractorList"];
        yj.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag && (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index != a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite =
                        this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.outer_i
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = ed.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: yj,
            __properties__: {
                get_length: "get_length"
            }
        };
        var Zg = function() {};
        h["nape.phys.MassMode"] = Zg;
        Zg.__name__ = ["nape", "phys", "MassMode"];
        Zg.prototype = {
            toString: function() {
                null == g.MassMode_DEFAULT && (g.internal = !0, g.MassMode_DEFAULT =
                    new Zg, g.internal = !1);
                var a;
                this == g.MassMode_DEFAULT ? a = "DEFAULT" : (null == g.MassMode_FIXED && (g.internal = !0, g.MassMode_FIXED = new Zg, g.internal = !1), a = this == g.MassMode_FIXED ? "FIXED" : "");
                return a
            },
            __class__: Zg
        };
        var tg = function(a, b, c, d, e) {
            null == e && (e = .001);
            null == d && (d = 1);
            null == c && (c = 2);
            null == b && (b = 1);
            null == a && (a = 0);
            this.zpp_inner = null;
            null == ba.zpp_pool ? this.zpp_inner = new ba : (this.zpp_inner = ba.zpp_pool, ba.zpp_pool = this.zpp_inner.next, this.zpp_inner.next = null);
            null;
            this.zpp_inner.outer = this;
            a != this.zpp_inner.elasticity &&
                (this.zpp_inner.elasticity = a / 1, this.zpp_inner.invalidate(ba.WAKE | ba.ARBITERS));
            this.zpp_inner.elasticity;
            b != this.zpp_inner.dynamicFriction && (this.zpp_inner.dynamicFriction = b / 1, this.zpp_inner.invalidate(ba.WAKE | ba.ANGDRAG | ba.ARBITERS));
            this.zpp_inner.dynamicFriction;
            c != this.zpp_inner.staticFriction && (this.zpp_inner.staticFriction = c / 1, this.zpp_inner.invalidate(ba.WAKE | ba.ARBITERS));
            this.zpp_inner.staticFriction;
            d != 1E3 * this.zpp_inner.density && (this.zpp_inner.density = d / 1E3, this.zpp_inner.invalidate(ba.WAKE |
                ba.PROPS));
            1E3 * this.zpp_inner.density;
            e != this.zpp_inner.rollingFriction && (this.zpp_inner.rollingFriction = e / 1, this.zpp_inner.invalidate(ba.WAKE | ba.ARBITERS));
            this.zpp_inner.rollingFriction
        };
        h["nape.phys.Material"] = tg;
        tg.__name__ = ["nape", "phys", "Material"];
        tg.prototype = {
            toString: function() {
                return "{ elasticity: " + this.zpp_inner.elasticity + " dynamicFriction: " + this.zpp_inner.dynamicFriction + " staticFriction: " + this.zpp_inner.staticFriction + " density: " + 1E3 * this.zpp_inner.density + " rollingFriction: " +
                    this.zpp_inner.rollingFriction + " }"
            },
            __class__: tg
        };
        var je = function() {
            this.zpp_inner_i = this.zpp_inner = null
        };
        h["nape.shape.Shape"] = je;
        je.__name__ = ["nape", "shape", "Shape"];
        je.__super__ = ud;
        je.prototype = v(ud.prototype, {
            get_body: function() {
                return null != this.zpp_inner.body ? this.zpp_inner.body.outer : null
            },
            set_material: function(a) {
                this.zpp_inner.immutable_midstep("Shape::material");
                this.zpp_inner.setMaterial(a.zpp_inner);
                return this.zpp_inner.material.wrapper()
            },
            set_filter: function(a) {
                this.zpp_inner.immutable_midstep("Shape::filter");
                this.zpp_inner.setFilter(a.zpp_inner);
                return this.zpp_inner.filter.wrapper()
            },
            transform: function(a) {
                this.zpp_inner.immutable_midstep("Shape::transform()");
                this.zpp_inner.type == g.id_ShapeType_CIRCLE ? a.equiorthogonal() && this.zpp_inner.circle.__transform(a) : this.zpp_inner.polygon.__transform(a);
                return this
            },
            toString: function() {
                return (this.zpp_inner.type == g.id_ShapeType_CIRCLE ? "Circle" : "Polygon") + "#" + this.zpp_inner_i.id
            },
            __class__: je,
            __properties__: v(ud.prototype.__properties__, {
                set_filter: "set_filter",
                set_material: "set_material",
                get_body: "get_body"
            })
        });
        var xf = function(a, b, c, d) {
            this.zpp_inner_zn = null;
            je.call(this);
            this.zpp_inner_zn = new $g;
            this.zpp_inner_zn.outer = this;
            this.zpp_inner_zn.outer_zn = this;
            this.zpp_inner_i = this.zpp_inner = this.zpp_inner_zn;
            this.zpp_inner_i.outer_i = this;
            this.zpp_inner.immutable_midstep("Circle::radius");
            a != this.zpp_inner_zn.radius && (this.zpp_inner_zn.radius = a, this.zpp_inner_zn.invalidate_radius());
            this.zpp_inner_zn.radius;
            null == b ? (this.zpp_inner.localCOMx = 0, this.zpp_inner.localCOMy =
                0) : (b.zpp_inner.validate(), this.zpp_inner.localCOMx = b.zpp_inner.x, b.zpp_inner.validate(), this.zpp_inner.localCOMy = b.zpp_inner.y, b.zpp_inner.weak ? (b.dispose(), !0) : !1);
            null == c ? (null == ba.zpp_pool ? this.zpp_inner.material = new ba : (this.zpp_inner.material = ba.zpp_pool, ba.zpp_pool = this.zpp_inner.material.next, this.zpp_inner.material.next = null), null) : (this.zpp_inner.immutable_midstep("Shape::material"), this.zpp_inner.setMaterial(c.zpp_inner), this.zpp_inner.material.wrapper());
            null == d ? (null == wa.zpp_pool ? this.zpp_inner.filter =
                new wa : (this.zpp_inner.filter = wa.zpp_pool, wa.zpp_pool = this.zpp_inner.filter.next, this.zpp_inner.filter.next = null), null) : (this.zpp_inner.immutable_midstep("Shape::filter"), this.zpp_inner.setFilter(d.zpp_inner), this.zpp_inner.filter.wrapper());
            this.zpp_inner_i.insert_cbtype($a.ANY_SHAPE.zpp_inner)
        };
        h["nape.shape.Circle"] = xf;
        xf.__name__ = ["nape", "shape", "Circle"];
        xf.__super__ = je;
        xf.prototype = v(je.prototype, {
            __class__: xf
        });
        var ri = function() {
            this.zpp_inner = null
        };
        h["nape.shape.Edge"] = ri;
        ri.__name__ = ["nape",
            "shape", "Edge"
        ];
        ri.prototype = {
            toString: function() {
                if (null == this.zpp_inner.polygon) return "Edge(object-pooled)";
                if (null == this.zpp_inner.polygon.body) return this.zpp_inner.polygon.validate_laxi(), "{ localNormal : " + ("{ x: " + this.zpp_inner.lnormx + " y: " + this.zpp_inner.lnormy + " }") + " }";
                this.zpp_inner.polygon.validate_gaxi();
                return "{ localNormal : " + ("{ x: " + this.zpp_inner.lnormx + " y: " + this.zpp_inner.lnormy + " }") + " worldNormal : " + ("{ x: " + this.zpp_inner.gnormx + " y: " + this.zpp_inner.gnormy + " }") + " }"
            },
            __class__: ri
        };
        var Hd = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.shape.EdgeIterator"] = Hd;
        Hd.__name__ = ["nape", "shape", "EdgeIterator"];
        Hd.get = function(a) {
            var b;
            null == Hd.zpp_pool ? (Pf.internal = !0, b = new Hd, Pf.internal = !1) : (b = Hd.zpp_pool, Hd.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        Hd.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = Hd.zpp_pool;
                Hd.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: Hd
        };
        var zj = function() {
            this.zpp_inner = null
        };
        h["nape.shape.EdgeList"] = zj;
        zj.__name__ = ["nape", "shape", "EdgeList"];
        zj.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag && a != this.get_length() - 1 && (a = this.get_length() - 2 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index = a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index != a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.wrapper()
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = Hd.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: zj,
            __properties__: {
                get_length: "get_length"
            }
        };
        var bb = function(a, b, c) {
            this.zpp_inner_zn = null;
            je.call(this);
            this.zpp_inner_zn = new ah;
            this.zpp_inner_zn.outer = this;
            this.zpp_inner_zn.outer_zn = this;
            this.zpp_inner_i = this.zpp_inner = this.zpp_inner_zn;
            this.zpp_inner_i.outer_i = this;
            if (a instanceof Array && null == a.__enum__)
                for (var d = 0; d < a.length;) {
                    var e = a[d];
                    ++d;
                    var f = e;
                    null == this.zpp_inner_zn.wrap_lverts && this.zpp_inner_zn.getlverts();
                    this.zpp_inner_zn.wrap_lverts.push(K.get(function(a) {
                        f.zpp_inner.validate();
                        return f.zpp_inner.x
                    }(this), function(a) {
                        f.zpp_inner.validate();
                        return f.zpp_inner.y
                    }(this), !1))
                } else if (D.__instanceof(a, Ie))
                    for (d = a.iterator(); d.hasNext();) {
                        var k;
                        d.zpp_critical = !1;
                        k = d.zpp_inner.at(d.zpp_i++);
                        null == this.zpp_inner_zn.wrap_lverts && this.zpp_inner_zn.getlverts();
                        this.zpp_inner_zn.wrap_lverts.push(K.get(function(a) {
                            k.zpp_inner.validate();
                            return k.zpp_inner.x
                        }(this), function(a) {
                            k.zpp_inner.validate();
                            return k.zpp_inner.y
                        }(this), !1))
                    } else if (D.__instanceof(a, mi) && (d = a.zpp_inner.vertices, null != d)) {
                        e = d;
                        do {
                            var q = K.get(e.x, e.y, null),
                                e = e.next;
                            null == this.zpp_inner_zn.wrap_lverts && this.zpp_inner_zn.getlverts();
                            this.zpp_inner_zn.wrap_lverts.push(K.get(function(a) {
                                q.zpp_inner.validate();
                                return q.zpp_inner.x
                            }(this), function(a) {
                                q.zpp_inner.validate();
                                return q.zpp_inner.y
                            }(this), !1));
                            q.dispose()
                        } while (e != d)
                    }
            if (a instanceof Array && null == a.__enum__)
                for (d = 0; d < a.length;) {
                    var e = a[d],
                        g;
                    if (g = e.zpp_inner.weak) e.dispose(), g = !0;
                    g ? a.splice(d, 1) :
                        d++
                } else if (D.__instanceof(a, Ie))
                    for (null != a.zpp_inner._validate && a.zpp_inner._validate(), a = a.zpp_inner.inner, d = null, e = a.head; null != e;) g = e.elt, g.outer.zpp_inner.weak ? (e = a.erase(d), g.outer.zpp_inner.weak ? (g.outer.dispose(), !0) : !1) : (d = e, e = e.next);
            null == b ? (null == ba.zpp_pool ? this.zpp_inner.material = new ba : (this.zpp_inner.material = ba.zpp_pool, ba.zpp_pool = this.zpp_inner.material.next, this.zpp_inner.material.next = null), null) : (this.zpp_inner.immutable_midstep("Shape::material"), this.zpp_inner.setMaterial(b.zpp_inner),
                this.zpp_inner.material.wrapper());
            null == c ? (null == wa.zpp_pool ? this.zpp_inner.filter = new wa : (this.zpp_inner.filter = wa.zpp_pool, wa.zpp_pool = this.zpp_inner.filter.next, this.zpp_inner.filter.next = null), null) : (this.zpp_inner.immutable_midstep("Shape::filter"), this.zpp_inner.setFilter(c.zpp_inner), this.zpp_inner.filter.wrapper());
            this.zpp_inner_i.insert_cbtype($a.ANY_SHAPE.zpp_inner)
        };
        h["nape.shape.Polygon"] = bb;
        bb.__name__ = ["nape", "shape", "Polygon"];
        bb.rect = function(a, b, c, d, e) {
            null == e && (e = !1);
            return [K.get(a,
                b, e), K.get(a + c, b, e), K.get(a + c, b + d, e), K.get(a, b + d, e)]
        };
        bb.box = function(a, b, c) {
            null == c && (c = !1);
            return bb.rect(-a / 2, -b / 2, a, b, c)
        };
        bb.regular = function(a, b, c, d, e) {
            null == e && (e = !1);
            null == d && (d = 0);
            for (var f = [], k = 2 * Math.PI / c, q = 0; q < c;) {
                var g = q++ * k + d,
                    g = K.get(Math.cos(g) * a, Math.sin(g) * b, e);
                f.push(g)
            }
            return f
        };
        bb.__super__ = je;
        bb.prototype = v(je.prototype, {
            __class__: bb
        });
        var Gc = function() {
            this.zpp_next = null;
            this.zpp_critical = !1;
            this.zpp_i = 0;
            this.zpp_inner = null
        };
        h["nape.shape.ShapeIterator"] = Gc;
        Gc.__name__ = ["nape",
            "shape", "ShapeIterator"
        ];
        Gc.get = function(a) {
            var b;
            null == Gc.zpp_pool ? (te.internal = !0, b = new Gc, te.internal = !1) : (b = Gc.zpp_pool, Gc.zpp_pool = b.zpp_next);
            b.zpp_i = 0;
            b.zpp_inner = a;
            b.zpp_critical = !1;
            return b
        };
        Gc.prototype = {
            hasNext: function() {
                this.zpp_inner.zpp_inner.valmod();
                var a = this.zpp_inner.get_length();
                this.zpp_critical = !0;
                if (this.zpp_i < a) return !0;
                this.zpp_next = Gc.zpp_pool;
                Gc.zpp_pool = this;
                this.zpp_inner = null;
                return !1
            },
            next: function() {
                this.zpp_critical = !1;
                return this.zpp_inner.at(this.zpp_i++)
            },
            __class__: Gc
        };
        var si = function() {
            this.zpp_inner = null;
            this.zpp_inner = new te;
            this.zpp_inner.outer = this
        };
        h["nape.shape.ShapeList"] = si;
        si.__name__ = ["nape", "shape", "ShapeList"];
        si.prototype = {
            get_length: function() {
                this.zpp_inner.valmod();
                this.zpp_inner.zip_length && (this.zpp_inner.zip_length = !1, this.zpp_inner.user_length = this.zpp_inner.inner.length);
                return this.zpp_inner.user_length
            },
            at: function(a) {
                this.zpp_inner.valmod();
                this.zpp_inner.reverse_flag && (a = this.get_length() - 1 - a);
                if (a < this.zpp_inner.at_index || null == this.zpp_inner.at_ite) this.zpp_inner.at_index =
                    a, this.zpp_inner.at_ite = this.zpp_inner.inner.iterator_at(a);
                else
                    for (; this.zpp_inner.at_index != a;) this.zpp_inner.at_index++, this.zpp_inner.at_ite = this.zpp_inner.at_ite.next;
                return this.zpp_inner.at_ite.elt.outer
            },
            push: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                if (b = null != this.zpp_inner.adder ? this.zpp_inner.adder(a) : !0) this.zpp_inner.reverse_flag ? this.zpp_inner.inner.add(a.zpp_inner) : (null == this.zpp_inner.push_ite && (this.zpp_inner.push_ite = null == this.zpp_inner.inner.head ?
                    null : this.zpp_inner.inner.iterator_at(this.get_length() - 1)), this.zpp_inner.push_ite = this.zpp_inner.inner.insert(this.zpp_inner.push_ite, a.zpp_inner)), this.zpp_inner.invalidate(), null != this.zpp_inner.post_adder && this.zpp_inner.post_adder(a);
                return b
            },
            unshift: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                if (b = null != this.zpp_inner.adder ? this.zpp_inner.adder(a) : !0) this.zpp_inner.reverse_flag ? (null == this.zpp_inner.push_ite && (this.zpp_inner.push_ite = null == this.zpp_inner.inner.head ?
                    null : this.zpp_inner.inner.iterator_at(this.get_length() - 1)), this.zpp_inner.push_ite = this.zpp_inner.inner.insert(this.zpp_inner.push_ite, a.zpp_inner)) : this.zpp_inner.inner.add(a.zpp_inner), this.zpp_inner.invalidate(), null != this.zpp_inner.post_adder && this.zpp_inner.post_adder(a);
                return b
            },
            add: function(a) {
                return this.zpp_inner.reverse_flag ? this.push(a) : this.unshift(a)
            },
            remove: function(a) {
                this.zpp_inner.modify_test();
                this.zpp_inner.valmod();
                var b;
                b = !1;
                for (var c = this.zpp_inner.inner.head; null != c;) {
                    if (c.elt ==
                        a.zpp_inner) {
                        b = !0;
                        break
                    }
                    c = c.next
                }
                b && (null != this.zpp_inner.subber && this.zpp_inner.subber(a), this.zpp_inner.dontremove || this.zpp_inner.inner.remove(a.zpp_inner), this.zpp_inner.invalidate());
                return b
            },
            iterator: function() {
                this.zpp_inner.valmod();
                return Gc.get(this)
            },
            toString: function() {
                var a = "[",
                    b = !0,
                    c;
                this.zpp_inner.valmod();
                for (c = Gc.get(this); c.hasNext();) {
                    var d;
                    c.zpp_critical = !1;
                    d = c.zpp_inner.at(c.zpp_i++);
                    b || (a += ",");
                    a = null == d ? a + "NULL" : a + d.toString();
                    b = !1
                }
                return a + "]"
            },
            __class__: si,
            __properties__: {
                get_length: "get_length"
            }
        };
        var bh = function() {};
        h["nape.shape.ShapeType"] = bh;
        bh.__name__ = ["nape", "shape", "ShapeType"];
        bh.prototype = {
            toString: function() {
                null == g.ShapeType_CIRCLE && (g.internal = !0, g.ShapeType_CIRCLE = new bh, g.internal = !1);
                var a;
                this == g.ShapeType_CIRCLE ? a = "CIRCLE" : (null == g.ShapeType_POLYGON && (g.internal = !0, g.ShapeType_POLYGON = new bh, g.internal = !1), a = this == g.ShapeType_POLYGON ? "POLYGON" : "");
                return a
            },
            __class__: bh
        };
        var $e = function() {};
        h["nape.shape.ValidationResult"] = $e;
        $e.__name__ = ["nape", "shape", "ValidationResult"];
        $e.prototype = {
            toString: function() {
                null == g.ValidationResult_VALID && (g.internal = !0, g.ValidationResult_VALID = new $e, g.internal = !1);
                var a;
                this == g.ValidationResult_VALID ? a = "VALID" : (null == g.ValidationResult_DEGENERATE && (g.internal = !0, g.ValidationResult_DEGENERATE = new $e, g.internal = !1), this == g.ValidationResult_DEGENERATE ? a = "DEGENERATE" : (null == g.ValidationResult_CONCAVE && (g.internal = !0, g.ValidationResult_CONCAVE = new $e, g.internal = !1), this == g.ValidationResult_CONCAVE ? a = "CONCAVE" : (null == g.ValidationResult_SELF_INTERSECTING &&
                    (g.internal = !0, g.ValidationResult_SELF_INTERSECTING = new $e, g.internal = !1), a = this == g.ValidationResult_SELF_INTERSECTING ? "SELF_INTERSECTING" : "")));
                return a
            },
            __class__: $e
        };
        var af = function() {};
        h["nape.space.Broadphase"] = af;
        af.__name__ = ["nape", "space", "Broadphase"];
        af.prototype = {
            toString: function() {
                null == g.Broadphase_DYNAMIC_AABB_TREE && (g.internal = !0, g.Broadphase_DYNAMIC_AABB_TREE = new af, g.internal = !1);
                var a;
                this == g.Broadphase_DYNAMIC_AABB_TREE ? a = "DYNAMIC_AABB_TREE" : (null == g.Broadphase_SWEEP_AND_PRUNE &&
                    (g.internal = !0, g.Broadphase_SWEEP_AND_PRUNE = new af, g.internal = !1), a = this == g.Broadphase_SWEEP_AND_PRUNE ? "SWEEP_AND_PRUNE" : "");
                return a
            },
            __class__: af
        };
        var ui = function(a, b) {
            this.zpp_inner = null;
            this.zpp_inner = new ti(null == a ? null : a.zpp_inner, b);
            this.zpp_inner.outer = this;
            null != a && (a.zpp_inner.weak ? (a.dispose(), !0) : !1)
        };
        h["nape.space.Space"] = ui;
        ui.__name__ = ["nape", "space", "Space"];
        ui.prototype = {
            get_gravity: function() {
                null == this.zpp_inner.wrap_gravity && this.zpp_inner.getgravity();
                return this.zpp_inner.wrap_gravity
            },
            get_listeners: function() {
                return this.zpp_inner.wrap_listeners
            },
            clear: function() {
                this.zpp_inner.clear()
            },
            step: function(a, b, c) {
                null == c && (c = 10);
                null == b && (b = 10);
                this.zpp_inner.step(a, b, c)
            },
            bodiesInCircle: function(a, b, c, d, e) {
                null == c && (c = !1);
                b = this.zpp_inner.bodiesInCircle(a, b, c, null == d ? null : d.zpp_inner, e);
                a.zpp_inner.weak ? (a.dispose(), !0) : !1;
                return b
            },
            rayCast: function(a, b, c) {
                null == b && (b = !1);
                return this.zpp_inner.rayCast(a, b, c)
            },
            __class__: ui,
            __properties__: {
                get_listeners: "get_listeners",
                get_gravity: "get_gravity"
            }
        };
        var Aj = function() {};
        h["nape.util.Debug"] = Aj;
        Aj.__name__ = ["nape", "util", "Debug"];
        Aj.prototype = {
            clear: function() {},
            flush: function() {},
            draw: function(a) {},
            __class__: Aj
        };
        var vi = function() {};
        h["openfl.IAssetCache"] = vi;
        vi.__name__ = ["openfl", "IAssetCache"];
        vi.prototype = {
            __class__: vi
        };
        var ch = function() {
            this.__enabled = !0;
            this.bitmapData = new Da;
            this.font = new Da;
            this.sound = new Da
        };
        h["openfl.AssetCache"] = ch;
        ch.__name__ = ["openfl", "AssetCache"];
        ch.__interfaces__ = [vi];
        ch.prototype = {
            getBitmapData: function(a) {
                return this.bitmapData.get(a)
            },
            getFont: function(a) {
                return this.font.get(a)
            },
            getSound: function(a) {
                return this.sound.get(a)
            },
            hasBitmapData: function(a) {
                return this.bitmapData.exists(a)
            },
            hasFont: function(a) {
                return this.font.exists(a)
            },
            hasSound: function(a) {
                return this.sound.exists(a)
            },
            setBitmapData: function(a, b) {
                this.bitmapData.set(a, b)
            },
            get_enabled: function() {
                return this.__enabled
            },
            __class__: ch,
            __properties__: {
                get_enabled: "get_enabled"
            }
        };
        var X = function() {};
        h["openfl.Assets"] = X;
        X.__name__ = ["openfl", "Assets"];
        X.exists = function(a, b) {
            return ca.exists(a,
                b)
        };
        X.getBitmapData = function(a, b) {
            null == b && (b = !0);
            if (b && X.cache.get_enabled() && X.cache.hasBitmapData(a)) {
                var c = X.cache.getBitmapData(a);
                if (X.isValidBitmapData(c)) return c
            }
            c = ca.getImage(a, !1);
            return null != c ? (c = Ta.fromImage(c), b && X.cache.get_enabled() && X.cache.setBitmapData(a, c), c) : null
        };
        X.getFont = function(a, b) {
            null == b && (b = !0);
            if (b && X.cache.get_enabled() && X.cache.hasFont(a)) return X.cache.getFont(a);
            var c = ca.getFont(a, !1);
            return null != c ? c : new pf
        };
        X.getSound = function(a, b) {
            null == b && (b = !0);
            if (b && X.cache.get_enabled() &&
                X.cache.hasSound(a)) {
                var c = X.cache.getSound(a);
                if (X.isValidSound(c)) return c
            }
            c = ca.getPath(a);
            return null != c ? new ue(new vf(c)) : null
        };
        X.getText = function(a) {
            return ca.getText(a)
        };
        X.isValidBitmapData = function(a) {
            return null != a
        };
        X.isValidSound = function(a) {
            return !0
        };
        var dh = function() {
            A.call(this);
            this.__currentFrame = 0;
            this.__currentLabels = [];
            this.__totalFrames = 0;
            this.enabled = !0
        };
        h["openfl.display.MovieClip"] = dh;
        dh.__name__ = ["openfl", "display", "MovieClip"];
        dh.__super__ = A;
        dh.prototype = v(A.prototype, {
            __class__: dh
        });
        var ne = function() {
            na.call(this);
            this.applicationDomain = bf.currentDomain;
            this.bytesTotal = this.bytesLoaded = 0;
            this.childAllowsParent = !0;
            this.parameters = {}
        };
        h["openfl.display.LoaderInfo"] = ne;
        ne.__name__ = ["openfl", "display", "LoaderInfo"];
        ne.create = function(a) {
            var b = new ne;
            b.uncaughtErrorEvents = new eh;
            null != a ? b.loader = a : b.url = ne.__rootURL;
            return b
        };
        ne.__super__ = na;
        ne.prototype = v(na.prototype, {
            __class__: ne
        });
        var bf = function(a) {
            this.parentDomain = null != a ? a : bf.currentDomain
        };
        h["openfl.system.ApplicationDomain"] =
            bf;
        bf.__name__ = ["openfl", "system", "ApplicationDomain"];
        bf.prototype = {
            __class__: bf
        };
        var eh = function(a) {
            na.call(this, a)
        };
        h["openfl.events.UncaughtErrorEvents"] = eh;
        eh.__name__ = ["openfl", "events", "UncaughtErrorEvents"];
        eh.__super__ = na;
        eh.prototype = v(na.prototype, {
            __class__: eh
        });
        var Rb = function(a, b, c, d, e, f) {
            null == f && (f = 0);
            null == e && (e = 0);
            null == d && (d = 1);
            null == c && (c = 0);
            null == b && (b = 0);
            null == a && (a = 1);
            this.a = a;
            this.b = b;
            this.c = c;
            this.d = d;
            this.tx = e;
            this.ty = f;
            this.__array = [a, b, c, d, e, f, 0, 0, 1]
        };
        h["openfl.geom.Matrix"] = Rb;
        Rb.__name__ = ["openfl", "geom", "Matrix"];
        Rb.prototype = {
            clone: function() {
                return new Rb(this.a, this.b, this.c, this.d, this.tx, this.ty)
            },
            concat: function(a) {
                var b = this.a * a.a + this.b * a.c;
                this.b = this.a * a.b + this.b * a.d;
                this.a = b;
                b = this.c * a.a + this.d * a.c;
                this.d = this.c * a.b + this.d * a.d;
                this.c = b;
                b = this.tx * a.a + this.ty * a.c + a.tx;
                this.ty = this.tx * a.b + this.ty * a.d + a.ty;
                this.tx = b
            },
            identity: function() {
                this.a = 1;
                this.c = this.b = 0;
                this.d = 1;
                this.ty = this.tx = 0
            },
            invert: function() {
                var a = this.a * this.d - this.b *
                    this.c;
                if (0 == a) this.a = this.b = this.c = this.d = 0, this.tx = -this.tx, this.ty = -this.ty;
                else {
                    var a = 1 / a,
                        b = this.d * a;
                    this.d = this.a * a;
                    this.a = b;
                    this.b *= -a;
                    this.c *= -a;
                    a = -this.a * this.tx - this.c * this.ty;
                    this.ty = -this.b * this.tx - this.d * this.ty;
                    this.tx = a
                }
                return this
            },
            mult: function(a) {
                var b = new Rb;
                b.a = this.a * a.a + this.b * a.c;
                b.b = this.a * a.b + this.b * a.d;
                b.c = this.c * a.a + this.d * a.c;
                b.d = this.c * a.b + this.d * a.d;
                b.tx = this.tx * a.a + this.ty * a.c + a.tx;
                b.ty = this.tx * a.b + this.ty * a.d + a.ty;
                return b
            },
            scale: function(a, b) {
                this.a *= a;
                this.b *= b;
                this.c *=
                    a;
                this.d *= b;
                this.tx *= a;
                this.ty *= b
            },
            to3DString: function(a) {
                null == a && (a = !1);
                return a ? "matrix3d(" + this.a + ", " + this.b + ", 0, 0, " + this.c + ", " + this.d + ", 0, 0, 0, 0, 1, 0, " + (this.tx | 0) + ", " + (this.ty | 0) + ", 0, 1)" : "matrix3d(" + this.a + ", " + this.b + ", 0, 0, " + this.c + ", " + this.d + ", 0, 0, 0, 0, 1, 0, " + this.tx + ", " + this.ty + ", 0, 1)"
            },
            transformPoint: function(a) {
                return new Ga(a.x * this.a + a.y * this.c + this.tx, a.x * this.b + a.y * this.d + this.ty)
            },
            translate: function(a, b) {
                var c = new Rb;
                c.tx = a;
                c.ty = b;
                this.concat(c)
            },
            toArray: function(a) {
                null ==
                    a && (a = !1);
                a ? (this.__array[0] = this.a, this.__array[1] = this.c, this.__array[2] = 0, this.__array[3] = this.b, this.__array[4] = this.d, this.__array[5] = 0, this.__array[6] = this.tx, this.__array[7] = this.ty) : (this.__array[0] = this.a, this.__array[1] = this.b, this.__array[2] = this.tx, this.__array[3] = this.c, this.__array[4] = this.d, this.__array[5] = this.ty, this.__array[6] = 0, this.__array[7] = 0);
                this.__array[8] = 1;
                return this.__array
            },
            __translateTransformed: function(a) {
                this.tx = a.x * this.a + a.y * this.c + this.tx;
                this.ty = a.x * this.b + a.y *
                    this.d + this.ty
            },
            __class__: Rb
        };
        var Z = function() {};
        h["openfl.Lib"] = Z;
        Z.__name__ = ["openfl", "Lib"];
        Z.application = null;
        Z.embed = of.openfl.embed = function(a, b, c, d, e) {
            Bg.embed(a, b, c, d, e)
        };
        Z.getTimer = function() {
            return Bg.getTimer()
        };
        var ce = function() {
            this.length = 0
        };
        h["openfl.VectorData"] = ce;
        ce.__name__ = ["openfl", "VectorData"];
        ce.prototype = {
            __class__: ce
        };
        var fd = function(a, b) {
            this.width = a;
            this.height = b
        };
        h["openfl._internal.renderer.AbstractRenderer"] = fd;
        fd.__name__ = ["openfl", "_internal", "renderer", "AbstractRenderer"];
        fd.prototype = {
            render: function(a) {},
            resize: function(a, b) {},
            __class__: fd
        };
        var Qf = function() {};
        h["openfl._internal.renderer.RenderSession"] = Qf;
        Qf.__name__ = ["openfl", "_internal", "renderer", "RenderSession"];
        Qf.prototype = {
            __class__: Qf
        };
        var Bj = function() {};
        h["openfl._internal.renderer.canvas.CanvasBitmap"] = Bj;
        Bj.__name__ = ["openfl", "_internal", "renderer", "canvas", "CanvasBitmap"];
        Bj.render = function(a, b) {
            if (a.__renderable && !(0 >= a.__worldAlpha)) {
                var c = b.context;
                if (null != a.bitmapData && a.bitmapData.__isValid) {
                    null !=
                        a.__mask && b.maskManager.pushMask(a.__mask);
                    a.bitmapData.__sync();
                    c.globalAlpha = a.__worldAlpha;
                    var d = a.__worldTransform,
                        e = a.get_scrollRect();
                    b.roundPixels ? c.setTransform(d.a, d.b, d.c, d.d, d.tx | 0, d.ty | 0) : c.setTransform(d.a, d.b, d.c, d.d, d.tx, d.ty);
                    a.smoothing || (c.mozImageSmoothingEnabled = !1, c.webkitImageSmoothingEnabled = !1, c.imageSmoothingEnabled = !1);
                    null == e ? c.drawImage(a.bitmapData.__image.get_src(), 0, 0) : c.drawImage(a.bitmapData.__image.get_src(), e.x, e.y, e.width, e.height, e.x, e.y, e.width, e.height);
                    a.smoothing ||
                        (c.mozImageSmoothingEnabled = !0, c.webkitImageSmoothingEnabled = !0, c.imageSmoothingEnabled = !0);
                    null != a.__mask && b.maskManager.popMask()
                }
            }
        };
        var p = function() {};
        h["openfl._internal.renderer.canvas.CanvasGraphics"] = p;
        p.__name__ = ["openfl", "_internal", "renderer", "canvas", "CanvasGraphics"];
        p.bounds = null;
        p.hasFill = null;
        p.hasStroke = null;
        p.inPath = null;
        p.inversePendingMatrix = null;
        p.pendingMatrix = null;
        p.positionX = null;
        p.positionY = null;
        p.setFill = null;
        p.context = null;
        p.pattern = null;
        p.beginPath = function() {
            p.inPath ||
                (p.context.beginPath(), p.inPath = !0)
        };
        p.beginPatternFill = function(a, b) {
            p.setFill || null == a || (null == p.pattern && (p.pattern = p.context.createPattern(a.__image.get_src(), b ? "repeat" : "no-repeat")), p.context.fillStyle = p.pattern, p.setFill = !0)
        };
        p.closePath = function(a) {
            p.inPath && (p.hasFill && (p.context.translate(-p.bounds.x, -p.bounds.y), null != p.pendingMatrix ? (p.context.transform(p.pendingMatrix.a, p.pendingMatrix.b, p.pendingMatrix.c, p.pendingMatrix.d, p.pendingMatrix.tx, p.pendingMatrix.ty), p.context.fill(), p.context.transform(p.inversePendingMatrix.a,
                p.inversePendingMatrix.b, p.inversePendingMatrix.c, p.inversePendingMatrix.d, p.inversePendingMatrix.tx, p.inversePendingMatrix.ty)) : p.context.fill(), p.context.translate(p.bounds.x, p.bounds.y)), p.context.closePath(), p.hasStroke && p.context.stroke());
            p.inPath = !1;
            a && (p.hasFill = !1, p.hasStroke = !1, p.pendingMatrix = null, p.inversePendingMatrix = null)
        };
        p.drawRoundRect = function(a, b, c, d, e, f) {
            -1 == f && (f = e);
            e *= .5;
            f *= .5;
            e > c / 2 && (e = c / 2);
            f > d / 2 && (f = d / 2);
            c = a + c;
            d = b + d;
            var k = -e + e * p.SIN45,
                q = -e + e * p.TAN22,
                g = -f + f * p.SIN45,
                h = -f + f *
                p.TAN22;
            p.context.moveTo(c, d - f);
            p.context.quadraticCurveTo(c, d + h, c + k, d + g);
            p.context.quadraticCurveTo(c + q, d, c - e, d);
            p.context.lineTo(a + e, d);
            p.context.quadraticCurveTo(a - q, d, a - k, d + g);
            p.context.quadraticCurveTo(a, d + h, a, d - f);
            p.context.lineTo(a, b + f);
            p.context.quadraticCurveTo(a, b - h, a - k, b - g);
            p.context.quadraticCurveTo(a - q, b, a + e, b);
            p.context.lineTo(c - e, b);
            p.context.quadraticCurveTo(c + q, b, c + k, b - g);
            p.context.quadraticCurveTo(c, b - h, c, b + f);
            p.context.lineTo(c, d - f)
        };
        p.render = function(a, b) {
            if (a.__dirty) {
                p.bounds =
                    a.__bounds;
                p.hasFill = !1;
                p.hasStroke = !1;
                p.inPath = !1;
                p.positionX = 0;
                p.positionY = 0;
                if (a.__visible && 0 != a.__commands.length && null != p.bounds && 0 != p.bounds.width && 0 != p.bounds.height) {
                    null == a.__canvas && (a.__canvas = window.document.createElement("canvas"), a.__context = a.__canvas.getContext("2d"));
                    p.context = a.__context;
                    a.__canvas.width = Math.ceil(p.bounds.width);
                    a.__canvas.height = Math.ceil(p.bounds.height);
                    var c = p.bounds.x,
                        d = p.bounds.y,
                        e = null,
                        f = !1,
                        k = 0,
                        q = a.__commands;
                    try {
                        for (; k < q.length;) {
                            var g = q[k];
                            ++k;
                            switch (g[1]) {
                                case 0:
                                    var h =
                                        g[4],
                                        m = g[3],
                                        B = g[2];
                                    p.closePath(!1);
                                    if (B != e || h != f) e = B, f = h, p.pattern = null, p.setFill = !1, B.__sync();
                                    null != m ? (p.pendingMatrix = m, p.inversePendingMatrix = new Rb(m.a, m.b, m.c, m.d, m.tx, m.ty), p.inversePendingMatrix.invert()) : (p.pendingMatrix = null, p.inversePendingMatrix = null);
                                    p.hasFill = !0;
                                    break;
                                case 1:
                                    var R = g[3],
                                        l = g[2];
                                    p.closePath(!1);
                                    p.context.fillStyle = 1 == R ? "#" + va.hex(l, 6) : "rgba(" + ((l & 16711680) >>> 16) + ", " + ((l & 65280) >>> 8) + ", " + (l & 255) + ", " + R + ")";
                                    e = null;
                                    p.setFill = !0;
                                    p.hasFill = !0;
                                    break;
                                case 2:
                                    var r = g[7],
                                        u = g[6],
                                        t = g[5],
                                        w = g[4],
                                        x = g[3],
                                        v = g[2];
                                    p.beginPatternFill(e, f);
                                    p.beginPath();
                                    p.context.bezierCurveTo(v - c, x - d, w - c, t - d, u - c, r - d);
                                    p.positionX = u;
                                    p.positionY = r;
                                    break;
                                case 3:
                                    var A = g[5],
                                        z = g[4],
                                        D = g[3],
                                        F = g[2];
                                    p.beginPatternFill(e, f);
                                    p.beginPath();
                                    p.context.quadraticCurveTo(F - c, D - d, z - c, A - d);
                                    p.positionX = z;
                                    p.positionY = A;
                                    break;
                                case 4:
                                    var H = g[4],
                                        C = g[3],
                                        J = g[2];
                                    p.beginPatternFill(e, f);
                                    p.beginPath();
                                    p.context.moveTo(J - c + H, C - d);
                                    p.context.arc(J - c, C - d, H, 0, 2 * Math.PI, !0);
                                    break;
                                case 5:
                                    var N = g[5],
                                        L = g[4],
                                        E = g[3],
                                        K = g[2],
                                        K = K - c,
                                        E = E - d,
                                        O =
                                        L / 2 * .5522848,
                                        P = N / 2 * .5522848,
                                        T = K + L,
                                        M = E + N,
                                        Q = K + L / 2,
                                        Y = E + N / 2;
                                    p.beginPatternFill(e, f);
                                    p.beginPath();
                                    p.context.moveTo(K, Y);
                                    p.context.bezierCurveTo(K, Y - P, Q - O, E, Q, E);
                                    p.context.bezierCurveTo(Q + O, E, T, Y - P, T, Y);
                                    p.context.bezierCurveTo(T, Y + P, Q + O, M, Q, M);
                                    p.context.bezierCurveTo(Q - O, M, K, Y + P, K, Y);
                                    break;
                                case 6:
                                    var ca = g[5],
                                        Z = g[4],
                                        ba = g[3],
                                        aa = g[2],
                                        fa = !1;
                                    if (null != e) {
                                        var da = 0,
                                            W = 0,
                                            U = 0,
                                            ga = 0,
                                            ha = !0;
                                        if (null != p.pendingMatrix)
                                            if (0 != p.pendingMatrix.b || 0 != p.pendingMatrix.c) ha = !1;
                                            else var pa = p.inversePendingMatrix.transformPoint(new Ga(aa,
                                                    ba)),
                                                ta = p.inversePendingMatrix.transformPoint(new Ga(aa + Z, ba + ca)),
                                                da = pa.y,
                                                ga = pa.x,
                                                U = ta.y,
                                                W = ta.x;
                                        else da = ba, ga = aa, U = ba + ca, W = aa + Z;
                                        ha && 0 <= da && 0 <= ga && W <= e.width && U <= e.height && (fa = !0, p.context.drawImage(e.__image.get_src(), ga, da, W - ga, U - da, aa - c, ba - d, Z, ca))
                                    }
                                    fa || (p.beginPatternFill(e, f), p.beginPath(), p.context.rect(aa - c, ba - d, Z, ca));
                                    break;
                                case 7:
                                    var oa = g[7],
                                        I = g[6],
                                        ja = g[5],
                                        na = g[4],
                                        za = g[3],
                                        sa = g[2];
                                    p.beginPatternFill(e, f);
                                    p.beginPath();
                                    p.drawRoundRect(sa - c, za - d, na, ja, I, oa);
                                    break;
                                case 8:
                                    var ua = g[6],
                                        ia = g[5],
                                        S =
                                        g[3],
                                        Ge = g[2];
                                    p.closePath(!1);
                                    var ra = 0 < (ia & 1),
                                        Yj = 0 < (ia & 2),
                                        Ka = 0 < (ia & 16),
                                        Ja = 0 < (ia & 4),
                                        xa = 0 < (ia & 8),
                                        ya = 0 < (ia & 32),
                                        X = 0 < (ia & 64),
                                        Ca = 0 < (ia & 65536);
                                    Ka && (Yj = ra = !1);
                                    var Ha = 0,
                                        Ia = 0,
                                        Ba = 0,
                                        Aa = 0,
                                        ka = 3;
                                    ya && (ka = X ? 8 : 6);
                                    ra && (Ha = ka, ka++);
                                    Yj && (Ia = ka, ka++);
                                    Ka && (Aa = ka, ka += 4);
                                    Ja && (ka += 3);
                                    xa && (Ba = ka, ka++);
                                    var Da = S.length;
                                    0 <= ua && Da > ua && (Da = ua);
                                    var Pa = 0,
                                        ea = null,
                                        Ma = null,
                                        Wa = -1,
                                        Oa;
                                    Ge.__bitmap.__sync();
                                    Oa = Ge.__bitmap.__image.get_src();
                                    Ca && (p.context.globalCompositeOperation = "lighter");
                                    for (; Pa < Da;) {
                                        var Fa;
                                        Fa = ya ? -1 : S[Pa + 2] | 0;
                                        ya || Fa == Wa ?
                                            ya && (ea = Ge.__rectTile, ea.setTo(S[Pa + 2], S[Pa + 3], S[Pa + 4], S[Pa + 5]), Ma = Ge.__point, X ? (Ma.x = S[Pa + 6], Ma.y = S[Pa + 7]) : (Ma.x = 0, Ma.y = 0)) : (ea = Ge.__tileRects[Fa], Ma = Ge.__centerPoints[Fa], Wa = Fa);
                                        if (null != ea && 0 < ea.width && 0 < ea.height && null != Ma) {
                                            p.context.save();
                                            p.context.translate(S[Pa], S[Pa + 1]);
                                            Yj && p.context.rotate(S[Pa + Ia]);
                                            var Va = 1;
                                            ra && (Va = S[Pa + Ha]);
                                            Ka && p.context.transform(S[Pa + Aa], S[Pa + Aa + 1], S[Pa + Aa + 2], S[Pa + Aa + 3], 0, 0);
                                            xa && (p.context.globalAlpha = S[Pa + Ba]);
                                            p.context.drawImage(Oa, ea.x, ea.y, ea.width, ea.height, -Ma.x *
                                                Va, -Ma.y * Va, ea.width * Va, ea.height * Va);
                                            p.context.restore()
                                        }
                                        Pa += ka
                                    }
                                    Ca && (p.context.globalCompositeOperation = "source-over");
                                    break;
                                case 10:
                                    p.closePath(!0);
                                    break;
                                case 11:
                                    var hb = g[9],
                                        V = g[8],
                                        kb = g[7],
                                        lb = g[4],
                                        Za = g[3],
                                        mb = g[2];
                                    p.closePath(!1);
                                    if (null == mb) p.hasStroke = !1;
                                    else {
                                        p.context.lineWidth = mb;
                                        p.context.lineJoin = null == V ? "round" : G.string(V).toLowerCase();
                                        if (null == kb) p.context.lineCap = "round";
                                        else switch (kb[1]) {
                                            case 0:
                                                p.context.lineCap = "butt";
                                                break;
                                            default:
                                                p.context.lineCap = G.string(kb).toLowerCase()
                                        }
                                        p.context.miterLimit =
                                            null == hb ? 3 : hb;
                                        if (1 == lb || null == lb) p.context.strokeStyle = null == Za ? "#000000" : "#" + va.hex(Za & 16777215, 6);
                                        else {
                                            var db = (Za & 16711680) >>> 16,
                                                ib = (Za & 65280) >>> 8,
                                                sb = Za & 255;
                                            p.context.strokeStyle = null == Za ? "#000000" : "rgba(" + db + ", " + ib + ", " + sb + ", " + lb + ")"
                                        }
                                        p.hasStroke = !0
                                    }
                                    break;
                                case 12:
                                    var rb = g[3],
                                        vb = g[2];
                                    p.beginPatternFill(e, f);
                                    p.beginPath();
                                    p.context.lineTo(vb - c, rb - d);
                                    p.positionX = vb;
                                    p.positionY = rb;
                                    break;
                                case 13:
                                    var fh = g[3],
                                        jb = g[2];
                                    p.beginPath();
                                    p.context.moveTo(jb - c, fh - d);
                                    p.positionX = jb;
                                    p.positionY = fh;
                                    break;
                                case 9:
                                    var Ta =
                                        g[5],
                                        La = g[4],
                                        xb = g[3],
                                        Xa = g[2];
                                    p.closePath(!1);
                                    var He = Xa,
                                        bb = xb,
                                        Ya = La,
                                        qa = null,
                                        Na = null == e;
                                    if (Na && null != Ya) throw "__break__";
                                    if (!Na) {
                                        if (null == La) {
                                            var wi;
                                            wi = new ce;
                                            wi.data = [];
                                            wi.length = 0;
                                            wi.fixed = !1;
                                            for (var La = wi, tb = 0, Cb = He.length / 2 | 0; tb < Cb;) {
                                                var hk = tb++;
                                                if (!La.fixed) {
                                                    La.length++;
                                                    if (La.data.length < La.length) {
                                                        var Xd;
                                                        Xd = Array(La.data.length + 10);
                                                        bc.blit(La.data, 0, Xd, 0, La.data.length);
                                                        La.data = Xd
                                                    }
                                                    La.data[La.length - 1] = He.data[2 * hk] / e.width
                                                }
                                                La.length;
                                                if (!La.fixed) {
                                                    La.length++;
                                                    if (La.data.length < La.length) {
                                                        var pb;
                                                        pb = Array(La.data.length + 10);
                                                        bc.blit(La.data, 0, pb, 0, La.data.length);
                                                        La.data = pb
                                                    }
                                                    La.data[La.length - 1] = He.data[2 * hk + 1] / e.height
                                                }
                                                La.length
                                            }
                                        }
                                        var Gb = p.normalizeUvt(La, La.length != He.length),
                                            Kb = Gb.max,
                                            Ya = Gb.uvt,
                                            qa = 1 < Kb ? p.createTempPatternCanvas(e, f, p.bounds.width, p.bounds.height) : p.createTempPatternCanvas(e, f, e.width, e.height)
                                    }
                                    for (var Ra = 0, hc = bb.length, Sa, yb, zb, Db, Fb, Sb, wb, Hb, Ib, Ua, wa, ab, fb, Qa, cb, $a, la, ma, Ea, gb, nb, qb, Nb, Bb, Hc, Eb, Pb, Jb; Ra < hc;) {
                                        Sa = Ra;
                                        yb = Ra + 1;
                                        zb = Ra + 2;
                                        Db = 2 * bb.data[Sa];
                                        Fb = 2 * bb.data[Sa] + 1;
                                        Sb = 2 *
                                            bb.data[yb];
                                        wb = 2 * bb.data[yb] + 1;
                                        Hb = 2 * bb.data[zb];
                                        Ib = 2 * bb.data[zb] + 1;
                                        Ua = He.data[Db];
                                        wa = He.data[Fb];
                                        ab = He.data[Sb];
                                        fb = He.data[wb];
                                        Qa = He.data[Hb];
                                        cb = He.data[Ib];
                                        switch (Ta[1]) {
                                            case 2:
                                                if (!(0 > (ab - Ua) * (cb - wa) - (fb - wa) * (Qa - Ua))) {
                                                    Ra += 3;
                                                    continue
                                                }
                                                break;
                                            case 0:
                                                if (0 > (ab - Ua) * (cb - wa) - (fb - wa) * (Qa - Ua)) {
                                                    Ra += 3;
                                                    continue
                                                }
                                        }
                                        Na ? (p.context.beginPath(), p.context.moveTo(Ua, wa), p.context.lineTo(ab, fb), p.context.lineTo(Qa, cb), p.context.closePath(), p.context.fill()) : (p.context.save(), p.context.beginPath(), p.context.moveTo(Ua, wa),
                                            p.context.lineTo(ab, fb), p.context.lineTo(Qa, cb), p.context.closePath(), p.context.clip(), $a = Ya.data[Db] * qa.width, ma = Ya.data[Sb] * qa.width, gb = Ya.data[Hb] * qa.width, la = Ya.data[Fb] * qa.height, Ea = Ya.data[wb] * qa.height, nb = Ya.data[Ib] * qa.height, qb = $a * (nb - Ea) - ma * nb + gb * Ea + (ma - gb) * la, 0 != qb && (Nb = -(la * (Qa - ab) - Ea * Qa + nb * ab + (Ea - nb) * Ua) / qb, Bb = (Ea * cb + la * (fb - cb) - nb * fb + (nb - Ea) * wa) / qb, Hc = ($a * (Qa - ab) - ma * Qa + gb * ab + (ma - gb) * Ua) / qb, Eb = -(ma * cb + $a * (fb - cb) - gb * fb + (gb - ma) * wa) / qb, Pb = ($a * (nb * ab - Ea * Qa) + la * (ma * Qa - gb * ab) + (gb * Ea - ma * nb) *
                                                Ua) / qb, Jb = ($a * (nb * fb - Ea * cb) + la * (ma * cb - gb * fb) + (gb * Ea - ma * nb) * wa) / qb, p.context.transform(Nb, Bb, Hc, Eb, Pb, Jb), p.context.drawImage(qa, 0, 0), p.context.restore()));
                                        Ra += 3
                                    }
                            }
                        }
                    } catch (Ub) {
                        if ("__break__" != Ub) throw Ub;
                    }
                } else a.__canvas = null, a.__context = null;
                a.__dirty = !1;
                p.closePath(!1)
            }
        };
        p.renderMask = function(a, b) {
            if (0 != a.__commands.length)
                for (var c = b.context, d = 0, e = a.__commands; d < e.length;) {
                    var f = e[d];
                    ++d;
                    switch (f[1]) {
                        case 2:
                            c.bezierCurveTo(f[2] - 0, f[4] - 0, f[3] - 0, f[5] - 0, f[6] - 0, f[7] - 0);
                            break;
                        case 3:
                            c.quadraticCurveTo(f[2] -
                                0, f[3] - 0, f[4] - 0, f[5] - 0);
                            break;
                        case 4:
                            c.arc(f[2] - 0, f[3] - 0, f[4], 0, 2 * Math.PI, !0);
                            break;
                        case 5:
                            var k = f[5],
                                q = f[4],
                                g = f[3],
                                f = f[2],
                                f = f - 0,
                                g = g - 0,
                                h = q / 2 * .5522848,
                                m = k / 2 * .5522848,
                                B = f + q,
                                R = g + k,
                                q = f + q / 2,
                                k = g + k / 2;
                            c.moveTo(f, k);
                            c.bezierCurveTo(f, k - m, q - h, g, q, g);
                            c.bezierCurveTo(q + h, g, B, k - m, B, k);
                            c.bezierCurveTo(B, k + m, q + h, R, q, R);
                            c.bezierCurveTo(q - h, R, f, k + m, f, k);
                            break;
                        case 6:
                            c.rect(f[2] - 0, f[3] - 0, f[4], f[5]);
                            break;
                        case 7:
                            p.drawRoundRect(f[2] - 0, f[3] - 0, f[4], f[5], f[6], f[7]);
                            break;
                        case 12:
                            c.lineTo(f[2] - 0, f[3] - 0);
                            break;
                        case 13:
                            c.moveTo(f[2] -
                                0, f[3] - 0)
                    }
                }
        };
        p.createTempPatternCanvas = function(a, b, c, d) {
            var e = window.document.createElement("canvas"),
                f = e.getContext("2d");
            e.width = Math.ceil(c);
            e.height = Math.ceil(d);
            f.fillStyle = f.createPattern(a.__image.get_src(), b ? "repeat" : "no-repeat");
            f.beginPath();
            f.moveTo(0, 0);
            f.lineTo(0, d);
            f.lineTo(c, d);
            f.lineTo(c, 0);
            f.lineTo(0, 0);
            f.closePath();
            f.fill();
            return e
        };
        p.normalizeUvt = function(a, b) {
            null == b && (b = !1);
            for (var c = Math.NEGATIVE_INFINITY, d = Math.NEGATIVE_INFINITY, e = a.length, f = 1, k = e + 1; f < k;) d = f++, b && 0 == d % 3 ||
                (d = a.data[d - 1], c < d && (c = d));
            f = new ce;
            f.data = [];
            f.length = 0;
            f.fixed = !1;
            k = 1;
            for (e += 1; k < e;)
                if (d = k++, !b || 0 != d % 3) {
                    if (!f.fixed) {
                        f.length++;
                        if (f.data.length < f.length) {
                            var q;
                            q = Array(f.data.length + 10);
                            bc.blit(f.data, 0, q, 0, f.data.length);
                            f.data = q
                        }
                        f.data[f.length - 1] = a.data[d - 1] / c
                    }
                    f.length
                }
            return {
                max: c,
                uvt: f
            }
        };
        var gh = function(a, b, c) {
            fd.call(this, a, b);
            this.context = c;
            this.renderSession = new Qf;
            this.renderSession.context = c;
            this.renderSession.roundPixels = !0;
            this.renderSession.renderer = this;
            this.renderSession.maskManager =
                new xi(this.renderSession)
        };
        h["openfl._internal.renderer.canvas.CanvasRenderer"] = gh;
        gh.__name__ = ["openfl", "_internal", "renderer", "canvas", "CanvasRenderer"];
        gh.__super__ = fd;
        gh.prototype = v(fd.prototype, {
            render: function(a) {
                this.context.setTransform(1, 0, 0, 1, 0, 0);
                this.context.globalAlpha = 1;
                !a.__transparent && a.__clearBeforeRender ? (this.context.fillStyle = a.__colorString, this.context.fillRect(0, 0, a.stageWidth, a.stageHeight)) : a.__transparent && a.__clearBeforeRender && this.context.clearRect(0, 0, a.stageWidth,
                    a.stageHeight);
                a.__renderCanvas(this.renderSession)
            },
            __class__: gh
        });
        var gj = function() {};
        h["openfl._internal.renderer.canvas.CanvasShape"] = gj;
        gj.__name__ = ["openfl", "_internal", "renderer", "canvas", "CanvasShape"];
        gj.render = function(a, b) {
            if (a.__renderable && !(0 >= a.__worldAlpha)) {
                var c = a.__graphics;
                if (null != c && (p.render(c, b), null != c.__canvas)) {
                    null != a.__mask && b.maskManager.pushMask(a.__mask);
                    var d = b.context,
                        e = a.get_scrollRect();
                    d.globalAlpha = a.__worldAlpha;
                    var f = a.__worldTransform;
                    b.roundPixels ? d.setTransform(f.a,
                        f.b, f.c, f.d, f.tx | 0, f.ty | 0) : d.setTransform(f.a, f.b, f.c, f.d, f.tx, f.ty);
                    null == e ? d.drawImage(c.__canvas, c.__bounds.x, c.__bounds.y) : d.drawImage(c.__canvas, e.x - c.__bounds.x, e.y - c.__bounds.y, e.width, e.height, c.__bounds.x + e.x, c.__bounds.y + e.y, e.width, e.height);
                    null != a.__mask && b.maskManager.popMask()
                }
            }
        };
        var ra = function() {};
        h["openfl._internal.renderer.canvas.CanvasTextField"] = ra;
        ra.__name__ = ["openfl", "_internal", "renderer", "canvas", "CanvasTextField"];
        ra.context = null;
        ra.render = function(a, b) {
            if (a.__renderable &&
                !(0 >= a.__worldAlpha) && (ra.update(a), null != a.__canvas)) {
                var c = b.context;
                c.globalAlpha = a.__worldAlpha;
                var d = a.__worldTransform,
                    e = a.get_scrollRect();
                b.roundPixels ? c.setTransform(d.a, d.b, d.c, d.d, d.tx | 0, d.ty | 0) : c.setTransform(d.a, d.b, d.c, d.d, d.tx, d.ty);
                null == e ? c.drawImage(a.__canvas, 0, 0) : c.drawImage(a.__canvas, e.x, e.y, e.width, e.height, e.x, e.y, e.width, e.height)
            }
        };
        ra.renderText = function(a, b, c, d) {
            ra.context.font = a.__getFont(c);
            ra.context.textBaseline = "top";
            ra.context.fillStyle = "#" + va.hex(c.color, 6);
            b = b.split("\n");
            for (var e = 0, f = 0; f < b.length;) {
                var k = b[f];
                ++f;
                switch (c.align[1]) {
                    case 3:
                        ra.context.textAlign = "center";
                        ra.context.fillText(k, a.__width / 2, 2 + e, a.__width - 4);
                        break;
                    case 1:
                        ra.context.textAlign = "end";
                        ra.context.fillText(k, a.__width - 2, 2 + e, a.__width - 4);
                        break;
                    default:
                        ra.context.textAlign = "start", ra.context.fillText(k, 2 + d, 2 + e, a.__width - 4)
                }
                e += a.get_textHeight()
            }
        };
        ra.update = function(a) {
            if (a.__dirty)
                if (!(null != a.__text && "" != a.__text || a.background || a.border) || (0 >= a.get_width() || 0 >= a.get_height()) && a.autoSize != Za.LEFT) a.__canvas =
                    null, a.__context = null, a.__dirty = !1;
                else {
                    null == a.__canvas && (a.__canvas = window.document.createElement("canvas"), a.__context = a.__canvas.getContext("2d"));
                    ra.context = a.__context;
                    if (null != a.__text && "" != a.__text) {
                        var b = a.get_text();
                        if (a.displayAsPassword) {
                            for (var b = b.length, c = "", d = 0; d < b;) d++, c += "*";
                            b = c
                        }
                        for (var c = a.__measureText(), e = d = 0; e < c.length;) {
                            var f = c[e];
                            ++e;
                            d += f
                        }
                        a.autoSize == Za.LEFT && (a.__width = d + 4);
                        a.__canvas.width = Math.ceil(a.__width);
                        a.__canvas.height = Math.ceil(a.__height);
                        if (a.border || a.background) a.__context.rect(.5,
                            .5, a.__width - 1, a.__height - 1), a.background && (ra.context.fillStyle = "#" + va.hex(a.backgroundColor, 6), ra.context.fill()), a.border && (ra.context.lineWidth = 1, ra.context.strokeStyle = "#" + va.hex(a.borderColor, 6), ra.context.stroke());
                        a.__hasFocus && a.__selectionStart == a.__cursorPosition && a.__showCursor ? (d = a.__getTextWidth(b.substring(0, a.__cursorPosition)), ra.context.fillStyle = "#" + va.hex(a.__textFormat.color, 6), ra.context.fillRect(d, 5, 1, a.__textFormat.size - 5)) : a.__hasFocus && 0 < Math.abs(a.__selectionStart - a.__cursorPosition) &&
                            !a.__isKeyDown && (e = G["int"](Math.min(a.__selectionStart, a.__cursorPosition)), f = G["int"](Math.max(a.__selectionStart, a.__cursorPosition)), d = a.__getTextWidth(b.substring(0, e)), e = a.__getTextWidth(b.substring(e, f)), ra.context.fillStyle = "#" + va.hex(a.__textFormat.color, 6), ra.context.fillRect(d, 5, e, a.__textFormat.size - 5));
                        if (null == a.__ranges) ra.renderText(a, b, a.__textFormat, 0);
                        else
                            for (var f = e = 0, k = a.__ranges.length; f < k;) {
                                var q = f++,
                                    d = a.__ranges[q];
                                ra.renderText(a, b.substring(d.start, d.end), d.format, e);
                                e +=
                                    c[q]
                            }
                    } else if (a.autoSize == Za.LEFT && (a.__width = 4), a.__canvas.width = Math.ceil(a.__width), a.__canvas.height = Math.ceil(a.__height), a.border || a.background) a.border ? ra.context.rect(.5, .5, a.__width - 1, a.__height - 1) : a.__context.rect(0, 0, a.__width, a.__height), a.background && (ra.context.fillStyle = "#" + va.hex(a.backgroundColor, 6), ra.context.fill()), a.border && (ra.context.lineWidth = 1, ra.context.lineCap = "square", ra.context.strokeStyle = "#" + va.hex(a.borderColor, 6), ra.context.stroke());
                    a.__dirty = !1;
                    return !0
                }
            return !1
        };
        var xi = function(a) {
            this.renderSession = a
        };
        h["openfl._internal.renderer.canvas.MaskManager"] = xi;
        xi.__name__ = ["openfl", "_internal", "renderer", "canvas", "MaskManager"];
        xi.prototype = {
            pushMask: function(a) {
                var b = this.renderSession.context;
                b.save();
                var c = a.__getTransform();
                b.setTransform(c.a, c.c, c.b, c.d, c.tx, c.ty);
                b.beginPath();
                a.__renderMask(this.renderSession);
                b.clip()
            },
            pushRect: function(a, b) {
                var c = this.renderSession.context;
                c.save();
                c.setTransform(b.a, b.c, b.b, b.d, b.tx, b.ty);
                c.beginPath();
                c.rect(a.x, a.y,
                    a.width, a.height);
                c.clip()
            },
            popMask: function() {
                this.renderSession.context.restore()
            },
            __class__: xi
        };
        var hh = function() {};
        h["openfl._internal.renderer.dom.DOMBitmap"] = hh;
        hh.__name__ = ["openfl", "_internal", "renderer", "dom", "DOMBitmap"];
        hh.renderCanvas = function(a, b) {
            null != a.__image && (b.element.removeChild(a.__image), a.__image = null);
            null == a.__canvas && (a.__canvas = window.document.createElement("canvas"), a.__context = a.__canvas.getContext("2d"), a.smoothing || (a.__context.mozImageSmoothingEnabled = !1, a.__context.webkitImageSmoothingEnabled = !1, a.__context.imageSmoothingEnabled = !1), Ic.initializeElement(a, a.__canvas, b));
            a.bitmapData.__sync();
            a.__canvas.width = a.bitmapData.width;
            a.__canvas.height = a.bitmapData.height;
            a.__context.globalAlpha = a.__worldAlpha;
            a.__context.drawImage(a.bitmapData.__image.buffer.__srcCanvas, 0, 0);
            Ic.applyStyle(a, b, !0, !1, !0)
        };
        hh.renderImage = function(a, b) {
            null != a.__canvas && (b.element.removeChild(a.__canvas), a.__canvas = null);
            null == a.__image && (a.__image = window.document.createElement("img"), a.__image.src = a.bitmapData.__image.buffer.__srcImage.src,
                Ic.initializeElement(a, a.__image, b));
            Ic.applyStyle(a, b, !0, !0, !0)
        };
        var Ic = function(a, b, c) {
            fd.call(this, a, b);
            this.element = c;
            this.renderSession = new Qf;
            this.renderSession.element = c;
            this.renderSession.roundPixels = !0;
            a = window.getComputedStyle(document.documentElement, "");
            a = (Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/) || "" === a.OLink && ["", "o"])[1];
            "WebKit|Moz|MS|O".match(new RegExp("(" + a + ")", "i"));
            a[0].toUpperCase();
            a.substr(1);
            this.renderSession.vendorPrefix = a;
            this.renderSession.transformProperty =
                "webkit" == a ? "-webkit-transform" : "transform";
            this.renderSession.transformOriginProperty = "webkit" == a ? "-webkit-transform-origin" : "transform-origin";
            this.renderSession.renderer = this
        };
        h["openfl._internal.renderer.dom.DOMRenderer"] = Ic;
        Ic.__name__ = ["openfl", "_internal", "renderer", "dom", "DOMRenderer"];
        Ic.applyStyle = function(a, b, c, d, e) {
            var f = a.__style;
            c && a.__worldTransformChanged && f.setProperty(b.transformProperty, a.__worldTransform.to3DString(b.roundPixels), null);
            a.__worldZ != ++b.z && (a.__worldZ = b.z, f.setProperty("z-index",
                null == a.__worldZ ? "null" : "" + a.__worldZ, null));
            d && a.__worldAlphaChanged && (1 > a.__worldAlpha ? f.setProperty("opacity", null == a.__worldAlpha ? "null" : "" + a.__worldAlpha, null) : f.removeProperty("opacity"));
            e && a.__worldClipChanged && (null == a.__worldClip ? f.removeProperty("clip") : (a = a.__worldClip.transform(a.__worldTransform.clone().invert()), f.setProperty("clip", "rect(" + a.y + "px, " + a.get_right() + "px, " + a.get_bottom() + "px, " + a.x + "px)", null)))
        };
        Ic.initializeElement = function(a, b, c) {
            var d = a.__style = b.style;
            d.setProperty("position",
                "absolute", null);
            d.setProperty("top", "0", null);
            d.setProperty("left", "0", null);
            d.setProperty(c.transformOriginProperty, "0 0 0", null);
            c.element.appendChild(b);
            a.__worldAlphaChanged = !0;
            a.__worldClipChanged = !0;
            a.__worldTransformChanged = !0;
            a.__worldVisibleChanged = !0;
            a.__worldZ = -1
        };
        Ic.__super__ = fd;
        Ic.prototype = v(fd.prototype, {
            render: function(a) {
                this.element.style.background = a.__colorString;
                this.renderSession.z = 1;
                a.__renderDOM(this.renderSession)
            },
            __class__: Ic
        });
        var hj = function() {};
        h["openfl._internal.renderer.dom.DOMShape"] =
            hj;
        hj.__name__ = ["openfl", "_internal", "renderer", "dom", "DOMShape"];
        hj.render = function(a, b) {
            var c = a.__graphics;
            if (null != a.stage && a.__worldVisible && a.__renderable && null != c) {
                if (c.__dirty || a.__worldAlphaChanged || null == a.__canvas && null != c.__canvas) p.render(c, b), null != c.__canvas ? (null == a.__canvas && (a.__canvas = window.document.createElement("canvas"), a.__context = a.__canvas.getContext("2d"), Ic.initializeElement(a, a.__canvas, b)), a.__canvas.width = c.__canvas.width, a.__canvas.height = c.__canvas.height, a.__context.globalAlpha =
                    a.__worldAlpha, a.__context.drawImage(c.__canvas, 0, 0)) : null != a.__canvas && (b.element.removeChild(a.__canvas), a.__canvas = null, a.__style = null);
                if (null != a.__canvas) {
                    if (a.__worldTransformChanged || c.__transformDirty) {
                        c.__transformDirty = !1;
                        var d = new Rb;
                        d.translate(c.__bounds.x, c.__bounds.y);
                        d = d.mult(a.__worldTransform);
                        a.__style.setProperty(b.transformProperty, b.roundPixels ? "matrix3d(" + d.a + ", " + d.b + ", 0, 0, " + d.c + ", " + d.d + ", 0, 0, 0, 0, 1, 0, " + (d.tx | 0) + ", " + (d.ty | 0) + ", 0, 1)" : "matrix3d(" + d.a + ", " + d.b + ", 0, 0, " +
                            d.c + ", " + d.d + ", 0, 0, 0, 0, 1, 0, " + d.tx + ", " + d.ty + ", 0, 1)", null)
                    }
                    Ic.applyStyle(a, b, !1, !1, !0)
                }
            } else null != a.__canvas && (b.element.removeChild(a.__canvas), a.__canvas = null, a.__style = null)
        };
        var jj = function() {};
        h["openfl._internal.renderer.dom.DOMTextField"] = jj;
        jj.__name__ = ["openfl", "_internal", "renderer", "dom", "DOMTextField"];
        jj.render = function(a, b) {
            if (null != a.stage && a.__worldVisible && a.__renderable) {
                if (a.__dirty || null == a.__div)
                    if ("" != a.__text || a.background || a.border) {
                        null == a.__div && (a.__div = window.document.createElement("div"),
                            Ic.initializeElement(a, a.__div, b), a.__style.setProperty("cursor", "inherit", null));
                        var c = a.__style;
                        a.__div.innerHTML = a.__text;
                        a.background ? c.setProperty("background-color", "#" + va.hex(a.backgroundColor, 6), null) : c.removeProperty("background-color");
                        a.border ? c.setProperty("border", "solid 1px #" + va.hex(a.borderColor, 6), null) : c.removeProperty("border");
                        c.setProperty("font", a.__getFont(a.__textFormat), null);
                        c.setProperty("color", "#" + va.hex(a.__textFormat.color, 6), null);
                        a.autoSize != Za.NONE ? c.setProperty("width",
                            "auto", null) : c.setProperty("width", a.__width + "px", null);
                        c.setProperty("height", a.__height + "px", null);
                        switch (a.__textFormat.align[1]) {
                            case 3:
                                c.setProperty("text-align", "center", null);
                                break;
                            case 1:
                                c.setProperty("text-align", "right", null);
                                break;
                            default:
                                c.setProperty("text-align", "left", null)
                        }
                        a.__dirty = !1
                    } else null != a.__div && (b.element.removeChild(a.__div), a.__div = null);
                null != a.__div && Ic.applyStyle(a, b, !0, !0, !1)
            } else null != a.__div && (b.element.removeChild(a.__div), a.__div = null, a.__style = null)
        };
        var Cj =
            function() {};
        h["openfl._internal.renderer.opengl.GLBitmap"] = Cj;
        Cj.__name__ = ["openfl", "_internal", "renderer", "opengl", "GLBitmap"];
        Cj.render = function(a, b) {
            !a.__renderable || 0 >= a.__worldAlpha || b.spriteBatch.render(a)
        };
        var Ha = function(a, b, c, d, e, f) {
            null == f && (f = !1);
            null == e && (e = !1);
            null == d && (d = !1);
            null == b && (b = 600);
            null == a && (a = 800);
            fd.call(this, a, b);
            this.transparent = d;
            this.preserveDrawingBuffer = f;
            this.width = a;
            this.height = b;
            this.options = {
                alpha: d,
                antialias: e,
                premultipliedAlpha: d,
                stencil: !0,
                preserveDrawingBuffer: f
            };
            this._glContextId = Ha.glContextId++;
            this.gl = c;
            Ha.glContexts[this._glContextId] = c;
            null == Ha.blendModesWebGL && (Ha.blendModesWebGL = new Cf, Ha.blendModesWebGL.set(L.NORMAL, [c.ONE, c.ONE_MINUS_SRC_ALPHA]), Ha.blendModesWebGL.set(L.ADD, [c.SRC_ALPHA, c.DST_ALPHA]), Ha.blendModesWebGL.set(L.MULTIPLY, [c.DST_COLOR, c.ONE_MINUS_SRC_ALPHA]), Ha.blendModesWebGL.set(L.SCREEN, [c.SRC_ALPHA, c.ONE]), Ha.blendModesWebGL.set(L.ALPHA, [c.ONE, c.ONE_MINUS_SRC_ALPHA]), Ha.blendModesWebGL.set(L.DARKEN, [c.ONE, c.ONE_MINUS_SRC_ALPHA]),
                Ha.blendModesWebGL.set(L.DIFFERENCE, [c.ONE, c.ONE_MINUS_SRC_ALPHA]), Ha.blendModesWebGL.set(L.ERASE, [c.ONE, c.ONE_MINUS_SRC_ALPHA]), Ha.blendModesWebGL.set(L.HARDLIGHT, [c.ONE, c.ONE_MINUS_SRC_ALPHA]), Ha.blendModesWebGL.set(L.INVERT, [c.ONE, c.ONE_MINUS_SRC_ALPHA]), Ha.blendModesWebGL.set(L.LAYER, [c.ONE, c.ONE_MINUS_SRC_ALPHA]), Ha.blendModesWebGL.set(L.LIGHTEN, [c.ONE, c.ONE_MINUS_SRC_ALPHA]), Ha.blendModesWebGL.set(L.OVERLAY, [c.ONE, c.ONE_MINUS_SRC_ALPHA]), Ha.blendModesWebGL.set(L.SUBTRACT, [c.ONE, c.ONE_MINUS_SRC_ALPHA]));
            this.projection = new Ga;
            this.projection.x = this.width / 2;
            this.projection.y = -this.height / 2;
            this.offset = new Ga(0, 0);
            this.resize(this.width, this.height);
            this.contextLost = !1;
            this.shaderManager = new yi(c);
            this.spriteBatch = new zi(c);
            this.maskManager = new Ai(c);
            this.filterManager = new Bi(c, this.transparent);
            this.stencilManager = new Ci(c);
            this.blendModeManager = new Di(c);
            this.renderSession = new Qf;
            this.renderSession.gl = this.gl;
            this.renderSession.drawCount = 0;
            this.renderSession.shaderManager = this.shaderManager;
            this.renderSession.maskManager =
                this.maskManager;
            this.renderSession.filterManager = this.filterManager;
            this.renderSession.blendModeManager = this.blendModeManager;
            this.renderSession.spriteBatch = this.spriteBatch;
            this.renderSession.stencilManager = this.stencilManager;
            this.renderSession.renderer = this;
            c.useProgram(this.shaderManager.defaultShader.program);
            c.disable(c.DEPTH_TEST);
            c.disable(c.CULL_FACE);
            c.enable(c.BLEND);
            c.colorMask(!0, !0, !0, this.transparent)
        };
        h["openfl._internal.renderer.opengl.GLRenderer"] = Ha;
        Ha.__name__ = ["openfl", "_internal",
            "renderer", "opengl", "GLRenderer"
        ];
        Ha.__super__ = fd;
        Ha.prototype = v(fd.prototype, {
            render: function(a) {
                if (!this.contextLost) {
                    var b = this.gl;
                    b.viewport(0, 0, this.width, this.height);
                    b.bindFramebuffer(b.FRAMEBUFFER, null);
                    this.transparent ? b.clearColor(0, 0, 0, 0) : b.clearColor(a.__colorSplit[0] | 0, a.__colorSplit[1] | 0, a.__colorSplit[2] | 0, 1);
                    b.clear(b.COLOR_BUFFER_BIT);
                    this.renderDisplayObject(a, this.projection)
                }
            },
            renderDisplayObject: function(a, b, c) {
                this.renderSession.blendModeManager.setBlendMode(L.NORMAL);
                this.renderSession.drawCount =
                    0;
                this.renderSession.currentBlendMode = null;
                this.renderSession.projection = b;
                this.renderSession.offset = this.offset;
                this.spriteBatch.begin(this.renderSession);
                this.filterManager.begin(this.renderSession, c);
                a.__renderGL(this.renderSession);
                this.spriteBatch.end()
            },
            resize: function(a, b) {
                fd.prototype.resize.call(this, a, b);
                this.gl.viewport(0, 0, a, b);
                this.projection.x = a / 2;
                this.projection.y = -b / 2
            },
            __class__: Ha
        });
        var kj = function() {};
        h["openfl._internal.renderer.opengl.GLTextField"] = kj;
        kj.__name__ = ["openfl", "_internal",
            "renderer", "opengl", "GLTextField"
        ];
        kj.render = function(a, b) {
            if (a.__renderable && !(0 >= a.__worldAlpha)) {
                var c = b.gl,
                    d = ra.update(a);
                null == a.__texture && (a.__texture = c.createTexture(), c.bindTexture(c.TEXTURE_2D, a.__texture), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_WRAP_S, c.CLAMP_TO_EDGE), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_WRAP_T, c.CLAMP_TO_EDGE), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MAG_FILTER, c.LINEAR), c.texParameteri(c.TEXTURE_2D, c.TEXTURE_MIN_FILTER, c.LINEAR), d = !0);
                d && (c.bindTexture(c.TEXTURE_2D, a.__texture),
                    c.texImage2D(c.TEXTURE_2D, 0, c.RGBA, c.RGBA, c.UNSIGNED_BYTE, a.__canvas), c.bindTexture(c.TEXTURE_2D, null))
            }
        };
        var da = function(a) {
            this._UID = da.__UID++;
            this.gl = a;
            this.program = null;
            this.attributes = []
        };
        h["openfl._internal.renderer.opengl.shaders.AbstractShader"] = da;
        da.__name__ = "openfl _internal renderer opengl shaders AbstractShader".split(" ");
        da.compileProgram = function(a, b, c) {
            c = da.CompileFragmentShader(a, c);
            b = da.CompileVertexShader(a, b);
            var d = a.createProgram();
            null != c && null != b && (a.attachShader(d, b), a.attachShader(d,
                c), a.linkProgram(d), 0 == a.getProgramParameter(d, a.LINK_STATUS) && console.log("Could not initialize shaders"));
            return d
        };
        da.CompileVertexShader = function(a, b) {
            return da._CompileShader(a, b, a.VERTEX_SHADER)
        };
        da.CompileFragmentShader = function(a, b) {
            return da._CompileShader(a, b, a.FRAGMENT_SHADER)
        };
        da._CompileShader = function(a, b, c) {
            b = b.join("\n");
            c = a.createShader(c);
            a.shaderSource(c, b);
            a.compileShader(c);
            return 0 == a.getShaderParameter(c, a.COMPILE_STATUS) ? (console.log(a.getShaderInfoLog(c)), null) : c
        };
        da.prototype = {
            init: function() {
                var a = this.gl,
                    b = da.compileProgram(a, this.vertexSrc, this.fragmentSrc);
                a.useProgram(b);
                this.program = b
            },
            __class__: da
        };
        var ih = function(a) {
            da.call(this, a);
            this.fragmentSrc = ["precision mediump float;", "varying vec4 vColor;", "void main(void) {", "   gl_FragColor = vColor;", "}"];
            this.vertexSrc = ["attribute vec2 aVertexPosition;", "uniform mat3 translationMatrix;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "uniform vec3 tint;", "uniform float alpha;", "uniform vec3 color;", "varying vec4 vColor;",
                "void main(void) {", "   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);", "   v -= offsetVector.xyx;", "   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);", "   vColor = vec4(color * alpha * tint, alpha);", "}"
            ];
            this.init()
        };
        h["openfl._internal.renderer.opengl.shaders.ComplexPrimitiveShader"] = ih;
        ih.__name__ = "openfl _internal renderer opengl shaders ComplexPrimitiveShader".split(" ");
        ih.__super__ = da;
        ih.prototype = v(da.prototype, {
            init: function() {
                da.prototype.init.call(this);
                var a = this.gl;
                this.projectionVector = a.getUniformLocation(this.program, "projectionVector");
                this.offsetVector = a.getUniformLocation(this.program, "offsetVector");
                this.tintColor = a.getUniformLocation(this.program, "tint");
                this.color = a.getUniformLocation(this.program, "color");
                this.aVertexPosition = a.getAttribLocation(this.program, "aVertexPosition");
                this.attributes = [this.aVertexPosition];
                this.translationMatrix = a.getUniformLocation(this.program, "translationMatrix");
                this.alpha = a.getUniformLocation(this.program,
                    "alpha")
            },
            __class__: ih
        });
        var cf = function(a) {
            da.call(this, a);
            this.fragmentSrc = ["precision lowp float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "void main(void) {", "   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;", "}"];
            this.textureCount = 0;
            this.attributes = [];
            this.init()
        };
        h["openfl._internal.renderer.opengl.shaders.DefaultShader"] = cf;
        cf.__name__ = "openfl _internal renderer opengl shaders DefaultShader".split(" ");
        cf.__super__ = da;
        cf.prototype = v(da.prototype, {
            init: function() {
                null == this.vertexSrc && (this.vertexSrc = cf.defaultVertexSrc);
                da.prototype.init.call(this);
                var a = this.gl;
                this.uSampler = a.getUniformLocation(this.program, "uSampler");
                this.projectionVector = a.getUniformLocation(this.program, "projectionVector");
                this.offsetVector = a.getUniformLocation(this.program, "offsetVector");
                this.dimensions = a.getUniformLocation(this.program, "dimensions");
                this.aVertexPosition = a.getAttribLocation(this.program, "aVertexPosition");
                this.aTextureCoord = a.getAttribLocation(this.program,
                    "aTextureCoord");
                this.colorAttribute = a.getAttribLocation(this.program, "aColor"); - 1 == this.colorAttribute && (this.colorAttribute = 2);
                this.attributes = [this.aVertexPosition, this.aTextureCoord, this.colorAttribute];
                if (null != this.uniforms)
                    for (var b = this.uniforms.keys(); b.hasNext();) {
                        var c = b.next();
                        this.uniforms.get(c).uniformLocation = a.getUniformLocation(this.program, c)
                    }
                this.initUniforms()
            },
            initSampler2D: function(a) {
                if (null != a.value && null != a.value.baseTexture && null != a.value.baseTexture.hasLoaded) {
                    var b = this.gl;
                    b.activeTexture(Q.field(b, "TEXTURE" + this.textureCount));
                    b.bindTexture(b.TEXTURE_2D, a.value.baseTexture._glTextures[Ha.glContextId]);
                    if (null != a.textureData) {
                        var c = a.textureData,
                            d;
                        d = 0 != c.magFilter ? c.magFilter : b.LINEAR;
                        var e;
                        e = 0 != c.minFilter ? c.minFilter : b.LINEAR;
                        var f;
                        f = 0 != c.wrapS ? c.wrapS : b.CLAMP_TO_EDGE;
                        var k;
                        k = 0 != c.wrapT ? c.wrapT : b.CLAMP_TO_EDGE;
                        var q;
                        q = 0 != c.luminance ? b.LUMINANCE : b.RGBA;
                        c.repeat && (k = f = b.REPEAT);
                        b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL, c.flip);
                        0 != c.width ? b.texImage2D(b.TEXTURE_2D, 0, q, 0 !=
                            c.width ? c.width : 512, 0 != c.height ? c.height : 2, 0 != c.border ? c.border : 0, q, b.UNSIGNED_BYTE, null) : b.texImage2D(b.TEXTURE_2D, 0, q, b.RGBA, b.UNSIGNED_BYTE, a.value.baseTexture.source);
                        b.texParameteri(b.TEXTURE_2D, b.TEXTURE_MAG_FILTER, d);
                        b.texParameteri(b.TEXTURE_2D, b.TEXTURE_MIN_FILTER, e);
                        b.texParameteri(b.TEXTURE_2D, b.TEXTURE_WRAP_S, f);
                        b.texParameteri(b.TEXTURE_2D, b.TEXTURE_WRAP_T, k)
                    }
                    b.uniform1i(a.uniformLocation, this.textureCount);
                    a._init = !0;
                    this.textureCount++
                }
            },
            initUniforms: function() {
                this.textureCount = 1;
                var a = this.gl,
                    b;
                if (null != this.uniforms)
                    for (var c = this.uniforms.keys(); c.hasNext();) {
                        b = c.next();
                        b = this.uniforms.get(b);
                        var d = b.type;
                        "sampler2D" == d ? (b._init = !1, null != b.value && this.initSampler2D(b)) : "mat2" == d || "mat3" == d || "mat4" == d ? (b.glMatrix = !0, b.glValueLength = 1, "mat2" == d ? b.glFunc = l(a, a.uniformMatrix2fv) : "mat3" == d ? b.glFunc = l(a, a.uniformMatrix3fv) : "mat4" == d && (b.glFunc = l(a, a.uniformMatrix4fv))) : (b.glFunc = Q.field(a, "uniform" + d), b.glValueLength = "2f" == d || "2i" == d ? 2 : "3f" == d || "3i" == d ? 3 : "4f" == d || "4i" == d ? 4 : 1)
                    }
            },
            __class__: cf
        });
        var jh = function(a) {
            da.call(this, a);
            this.vertexSrc = ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "varying vec2 vPos;", "varying vec4 vColor;", "void main(void) {", "   vec3 v = vec3(aVertexPosition , 1.0);", "   v -= offsetVector.xyx;", "   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);", "   vPos = aTextureCoord;",
                "   vColor = aColor;", "}"
            ];
            this.fragmentSrc = ["precision mediump float;", "uniform sampler2D sampler;", "uniform vec3 color;", "uniform bool useTexture;", "uniform float alpha;", "varying vec2 vPos;", "varying vec4 vColor;", "vec4 tmp;", "void main(void) {", "   if(useTexture) {", "       tmp = texture2D(sampler, vPos);", "   } else {", "       tmp = vec4(color, 1.);", "   }", "   float a = tmp.a * vColor.a * alpha;", "   gl_FragColor = vec4(vec3((tmp.rgb * vColor.rgb) * a), a);", "}"];
            this.init()
        };
        h["openfl._internal.renderer.opengl.shaders.DrawTrianglesShader"] =
            jh;
        jh.__name__ = "openfl _internal renderer opengl shaders DrawTrianglesShader".split(" ");
        jh.__super__ = da;
        jh.prototype = v(da.prototype, {
            init: function() {
                da.prototype.init.call(this);
                this.translationMatrix = this.gl.getUniformLocation(this.program, "translationMatrix");
                this.projectionVector = this.gl.getUniformLocation(this.program, "projectionVector");
                this.offsetVector = this.gl.getUniformLocation(this.program, "offsetVector");
                this.sampler = this.gl.getUniformLocation(this.program, "sampler");
                this.alpha = this.gl.getUniformLocation(this.program,
                    "alpha");
                this.color = this.gl.getUniformLocation(this.program, "color");
                this.useTexture = this.gl.getUniformLocation(this.program, "useTexture");
                this.aVertexPosition = this.gl.getAttribLocation(this.program, "aVertexPosition");
                this.aTextureCoord = this.gl.getAttribLocation(this.program, "aTextureCoord");
                this.colorAttribute = this.gl.getAttribLocation(this.program, "aColor");
                this.attributes = [this.aVertexPosition, this.aTextureCoord, this.colorAttribute]
            },
            __class__: jh
        });
        var kh = function(a) {
            da.call(this, a);
            this.fragmentSrc = ["precision lowp float;", "varying vec2 vTextureCoord;", "varying float vColor;", "uniform sampler2D uSampler;", "void main(void) {", "   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;", "}"];
            this.vertexSrc = ["attribute vec2 aVertexPosition;", "attribute vec2 aPositionCoord;", "attribute vec2 aScale;", "attribute float aRotation;", "attribute vec2 aTextureCoord;", "attribute float aColor;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "uniform mat3 uMatrix;", "varying vec2 vTextureCoord;",
                "varying float vColor;", "const vec2 center = vec2(-1.0, 1.0);", "void main(void) {", "   vec2 v;", "   vec2 sv = aVertexPosition * aScale;", "   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);", "   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);", "   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;", "   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = aColor;", "}"
            ];
            this.textureCount = 0;
            this.init()
        };
        h["openfl._internal.renderer.opengl.shaders.FastShader"] =
            kh;
        kh.__name__ = "openfl _internal renderer opengl shaders FastShader".split(" ");
        kh.__super__ = da;
        kh.prototype = v(da.prototype, {
            init: function() {
                da.prototype.init.call(this);
                var a = this.gl;
                this.uSampler = a.getUniformLocation(this.program, "uSampler");
                this.projectionVector = a.getUniformLocation(this.program, "projectionVector");
                this.offsetVector = a.getUniformLocation(this.program, "offsetVector");
                this.dimensions = a.getUniformLocation(this.program, "dimensions");
                this.uMatrix = a.getUniformLocation(this.program, "uMatrix");
                this.aVertexPosition = a.getAttribLocation(this.program, "aVertexPosition");
                this.aPositionCoord = a.getAttribLocation(this.program, "aPositionCoord");
                this.aScale = a.getAttribLocation(this.program, "aScale");
                this.aRotation = a.getAttribLocation(this.program, "aRotation");
                this.aTextureCoord = a.getAttribLocation(this.program, "aTextureCoord");
                this.colorAttribute = a.getAttribLocation(this.program, "aColor"); - 1 == this.colorAttribute && (this.colorAttribute = 2);
                this.attributes = [this.aVertexPosition, this.aPositionCoord, this.aScale,
                    this.aRotation, this.aTextureCoord, this.colorAttribute
                ]
            },
            __class__: kh
        });
        var lh = function(a) {
            da.call(this, a);
            this.vertexSrc = ["attribute vec2 aVertexPosition;", "uniform mat3 translationMatrix;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "void main(void) {", "   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);", "   v -= offsetVector.xyx;", "   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);", "}"];
            this.fragmentSrc = ["precision mediump float;",
                "uniform vec3 color;", "uniform float alpha;", "void main(void) {", "   gl_FragColor = vec4((color * alpha), alpha);", "}"
            ];
            this.init()
        };
        h["openfl._internal.renderer.opengl.shaders.FillShader"] = lh;
        lh.__name__ = "openfl _internal renderer opengl shaders FillShader".split(" ");
        lh.__super__ = da;
        lh.prototype = v(da.prototype, {
            init: function() {
                da.prototype.init.call(this);
                this.translationMatrix = this.gl.getUniformLocation(this.program, "translationMatrix");
                this.projectionVector = this.gl.getUniformLocation(this.program,
                    "projectionVector");
                this.offsetVector = this.gl.getUniformLocation(this.program, "offsetVector");
                this.color = this.gl.getUniformLocation(this.program, "color");
                this.alpha = this.gl.getUniformLocation(this.program, "alpha");
                this.aVertexPosition = this.gl.getAttribLocation(this.program, "aVertexPosition");
                this.attributes = [this.aVertexPosition]
            },
            __class__: lh
        });
        var mh = function(a) {
            da.call(this, a);
            this.vertexSrc = ["attribute vec2 aVertexPosition;", "uniform mat3 translationMatrix;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;",
                "uniform mat3 patternMatrix;", "varying vec2 vPos;", "void main(void) {", "   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);", "   v -= offsetVector.xyx;", "   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);", "   vPos = (patternMatrix * vec3(aVertexPosition, 1)).xy;", "}"
            ];
            this.fragmentSrc = ["precision mediump float;", "uniform float alpha;", "uniform vec2 patternTL;", "uniform vec2 patternBR;", "uniform sampler2D sampler;", "varying vec2 vPos;", "void main(void) {",
                "   vec2 pos = mix(patternTL, patternBR, vPos);", "   vec4 tcol = texture2D(sampler, pos);", "   gl_FragColor = vec4(tcol.rgb * alpha, tcol.a * alpha);", "}"
            ];
            this.init()
        };
        h["openfl._internal.renderer.opengl.shaders.PatternFillShader"] = mh;
        mh.__name__ = "openfl _internal renderer opengl shaders PatternFillShader".split(" ");
        mh.__super__ = da;
        mh.prototype = v(da.prototype, {
            init: function() {
                da.prototype.init.call(this);
                this.translationMatrix = this.gl.getUniformLocation(this.program, "translationMatrix");
                this.projectionVector =
                    this.gl.getUniformLocation(this.program, "projectionVector");
                this.offsetVector = this.gl.getUniformLocation(this.program, "offsetVector");
                this.patternMatrix = this.gl.getUniformLocation(this.program, "patternMatrix");
                this.patternTL = this.gl.getUniformLocation(this.program, "patternTL");
                this.patternBR = this.gl.getUniformLocation(this.program, "patternBR");
                this.sampler = this.gl.getUniformLocation(this.program, "sampler");
                this.alpha = this.gl.getUniformLocation(this.program, "alpha");
                this.aVertexPosition = this.gl.getAttribLocation(this.program,
                    "aVertexPosition");
                this.attributes = [this.aVertexPosition]
            },
            __class__: mh
        });
        var nh = function(a) {
            da.call(this, a);
            this.fragmentSrc = ["precision mediump float;", "varying vec4 vColor;", "void main(void) {", "   gl_FragColor = vColor;", "}"];
            this.vertexSrc = ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "uniform float alpha;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void) {", "   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);",
                "   v -= offsetVector.xyx;", "   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);", "   vColor = aColor;", "}"
            ];
            this.init()
        };
        h["openfl._internal.renderer.opengl.shaders.PrimitiveShader"] = nh;
        nh.__name__ = "openfl _internal renderer opengl shaders PrimitiveShader".split(" ");
        nh.__super__ = da;
        nh.prototype = v(da.prototype, {
            init: function() {
                da.prototype.init.call(this);
                var a = this.gl;
                this.projectionVector = a.getUniformLocation(this.program, "projectionVector");
                this.offsetVector =
                    a.getUniformLocation(this.program, "offsetVector");
                this.tintColor = a.getUniformLocation(this.program, "tint");
                this.aVertexPosition = a.getAttribLocation(this.program, "aVertexPosition");
                this.colorAttribute = a.getAttribLocation(this.program, "aColor");
                this.attributes = [this.aVertexPosition, this.colorAttribute];
                this.translationMatrix = a.getUniformLocation(this.program, "translationMatrix");
                this.alpha = a.getUniformLocation(this.program, "alpha")
            },
            __class__: nh
        });
        var oh = function(a) {
            da.call(this, a);
            this.fragmentSrc = ["precision mediump float;", "varying vec2 vTextureCoord;", "uniform float alpha;", "uniform sampler2D uSampler;", "void main(void) {", "   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y));", "}"];
            this.vertexSrc = ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 translationMatrix;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "varying vec2 vTextureCoord;", "void main(void) {", "   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);",
                "   v -= offsetVector.xyx;", "   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "}"
            ];
            this.init()
        };
        h["openfl._internal.renderer.opengl.shaders.StripShader"] = oh;
        oh.__name__ = "openfl _internal renderer opengl shaders StripShader".split(" ");
        oh.__super__ = da;
        oh.prototype = v(da.prototype, {
            init: function() {
                da.prototype.init.call(this);
                var a = this.gl;
                this.uSampler = a.getUniformLocation(this.program, "uSampler");
                this.projectionVector =
                    a.getUniformLocation(this.program, "projectionVector");
                this.offsetVector = a.getUniformLocation(this.program, "offsetVector");
                this.colorAttribute = a.getAttribLocation(this.program, "aColor");
                this.aVertexPosition = a.getAttribLocation(this.program, "aVertexPosition");
                this.aTextureCoord = a.getAttribLocation(this.program, "aTextureCoord");
                this.attributes = [this.aVertexPosition, this.aTextureCoord];
                this.translationMatrix = a.getUniformLocation(this.program, "translationMatrix");
                this.alpha = a.getUniformLocation(this.program,
                    "alpha")
            },
            __class__: oh
        });
        var Di = function(a) {
            this.gl = a;
            this.currentBlendMode = null
        };
        h["openfl._internal.renderer.opengl.utils.BlendModeManager"] = Di;
        Di.__name__ = "openfl _internal renderer opengl utils BlendModeManager".split(" ");
        Di.prototype = {
            setBlendMode: function(a) {
                null == a && (a = L.NORMAL);
                if (this.currentBlendMode == a) return !1;
                this.currentBlendMode = a;
                a = Ha.blendModesWebGL.get(this.currentBlendMode);
                this.gl.blendFunc(a[0], a[1]);
                return !0
            },
            __class__: Di
        };
        var Eb = function() {
            this.type = Ia.Polygon;
            this.points = [];
            this.isRemovable = !0;
            this.fillIndex = 0;
            this.line = new Rf;
            this.fill = Db.None
        };
        h["openfl._internal.renderer.opengl.utils.DrawPath"] = Eb;
        Eb.__name__ = "openfl _internal renderer opengl utils DrawPath".split(" ");
        Eb.getStack = function(a, b) {
            return t.build(a, b)
        };
        Eb.prototype = {
            update: function(a, b, c) {
                this.updateLine(a);
                this.fill = b;
                this.fillIndex = c
            },
            updateLine: function(a) {
                this.line.width = a.width;
                this.line.color = a.color & 16777215;
                this.line.alpha = null == a.alpha ? 1 : a.alpha;
                this.line.scaleMode = null == a.scaleMode ? ma.NORMAL :
                    a.scaleMode;
                this.line.caps = null == a.caps ? Jc.ROUND : a.caps;
                this.line.joints = null == a.joints ? Kc.ROUND : a.joints;
                this.line.miterLimit = a.miterLimit
            },
            __class__: Eb
        };
        var t = function() {};
        h["openfl._internal.renderer.opengl.utils.PathBuiler"] = t;
        t.__name__ = "openfl _internal renderer opengl utils PathBuiler".split(" ");
        t.__currentPath = null;
        t.__drawPaths = null;
        t.__line = null;
        t.__fill = null;
        t.closePath = function() {
            var a = t.__currentPath.points.length;
            if (!(0 >= a) && t.__currentPath.type == Ia.Polygon && t.__currentPath.fill != Db.None) {
                var b =
                    t.__currentPath.points[0],
                    c = t.__currentPath.points[1],
                    d = t.__currentPath.points[a - 1];
                if (b != t.__currentPath.points[a - 2] || c != d) t.__currentPath.points.push(b), t.__currentPath.points.push(c)
            }
        };
        t.endFill = function() {
            t.__fill = Db.None;
            t.__fillIndex++
        };
        t.moveTo = function(a, b) {
            t.__currentPath.isRemovable && 0 == t.__currentPath.points.length ? t.__drawPaths.pop() : t.closePath();
            t.__currentPath = new Eb;
            t.__currentPath.update(t.__line, t.__fill, t.__fillIndex);
            t.__currentPath.type = Ia.Polygon;
            t.__currentPath.points.push(a);
            t.__currentPath.points.push(b);
            t.__drawPaths.push(t.__currentPath)
        };
        t.build = function(a, b) {
            var c = null,
                d = a.__bounds;
            t.__drawPaths = [];
            t.__currentPath = new Eb;
            t.__line = new Rf;
            t.__fill = Db.None;
            t.__fillIndex = 0;
            c = a.__glStack[Ha.glContextId];
            null == c && (c = a.__glStack[Ha.glContextId] = new Ei(b));
            if (a.__visible && 0 != a.__commands.length && null != d && 0 != d.width && 0 != d.height) {
                for (var d = 0, e = a.__commands; d < e.length;) {
                    var f = e[d];
                    ++d;
                    switch (f[1]) {
                        case 0:
                            var k = f[5],
                                q = f[4],
                                g = f[3],
                                f = f[2];
                            t.endFill();
                            t.__fill = null != f ? Db.Texture(f,
                                g, q, k) : Db.None;
                            0 == t.__currentPath.points.length && (t.__currentPath.isRemovable && 0 == t.__currentPath.points.length ? t.__drawPaths.pop() : t.closePath(), t.__currentPath = new Eb, t.__currentPath.update(t.__line, t.__fill, t.__fillIndex), t.__currentPath.points = [], t.__currentPath.type = Ia.Polygon, t.__drawPaths.push(t.__currentPath));
                            break;
                        case 1:
                            k = f[3];
                            f = f[2];
                            t.endFill();
                            t.__fill = 0 < k ? Db.Color(f & 16777215, k) : Db.None;
                            0 == t.__currentPath.points.length && (t.__currentPath.isRemovable && 0 == t.__currentPath.points.length ? t.__drawPaths.pop() :
                                t.closePath(), t.__currentPath = new Eb, t.__currentPath.update(t.__line, t.__fill, t.__fillIndex), t.__currentPath.points = [], t.__currentPath.type = Ia.Polygon, t.__drawPaths.push(t.__currentPath));
                            break;
                        case 2:
                            var k = f[7],
                                q = f[6],
                                g = f[5],
                                h = f[4],
                                m = f[3],
                                f = f[2];
                            0 == t.__currentPath.points.length && t.moveTo(0, 0);
                            for (var B = 0, R = 0, l = 0, r = 0, u = 0, p = t.__currentPath.points, w = p[p.length - 2], x = p[p.length - 1], v = 0, A = B = 0, z = 1; 21 > z;) A = z++/20,B=1-A,R=B*B,l=R*B,r=A*A,u=r*A,v=l*w+3*R*A*f+3*B*r*h+u*q,B=l*x+3*R*A*m+3*B*r*g+u*k,p.push(v),
p.push(B);break;case 3:k=f[5];q=f[4];g=f[3];f=f[2];0==t.__currentPath.points.length&&t.moveTo(0,0);x=v=0;h=t.__currentPath.points;m=h[h.length-2];p=h[h.length-1];z=x=v=0;for(w=1;21>w;)z=w++/20, v = m + (f - m) * z, x = p + (g - p) * z, v += (f + (q - f) * z - v) * z, x += (g + (k - g) * z - x) * z, h.push(v), h.push(x);
                            break;
                        case 4:
                            k = f[4];
                            q = f[3];
                            f = f[2];
                            t.__currentPath.isRemovable && 0 == t.__currentPath.points.length ? t.__drawPaths.pop() : t.closePath();
                            t.__currentPath = new Eb;
                            t.__currentPath.update(t.__line, t.__fill, t.__fillIndex);
                            t.__currentPath.type =
                                Ia.Circle;
                            t.__currentPath.points = [f, q, k];
                            t.__drawPaths.push(t.__currentPath);
                            break;
                        case 5:
                            k = f[5];
                            q = f[4];
                            g = f[3];
                            f = f[2];
                            t.__currentPath.isRemovable && 0 == t.__currentPath.points.length ? t.__drawPaths.pop() : t.closePath();
                            t.__currentPath = new Eb;
                            t.__currentPath.update(t.__line, t.__fill, t.__fillIndex);
                            t.__currentPath.type = Ia.Ellipse;
                            t.__currentPath.points = [f, g, q, k];
                            t.__drawPaths.push(t.__currentPath);
                            break;
                        case 6:
                            k = f[5];
                            q = f[4];
                            g = f[3];
                            f = f[2];
                            t.__currentPath.isRemovable && 0 == t.__currentPath.points.length ? t.__drawPaths.pop() :
                                t.closePath();
                            t.__currentPath = new Eb;
                            t.__currentPath.update(t.__line, t.__fill, t.__fillIndex);
                            t.__currentPath.type = Ia.Rectangle(!1);
                            t.__currentPath.points = [f, g, q, k];
                            t.__drawPaths.push(t.__currentPath);
                            break;
                        case 7:
                            k = f[7];
                            q = f[6];
                            g = f[5];
                            h = f[4];
                            m = f[3];
                            f = f[2]; - 1 == k && (k = q);
                            q *= .5;
                            k *= .5;
                            q > h / 2 && (q = h / 2);
                            k > g / 2 && (k = g / 2);
                            t.__currentPath.isRemovable && 0 == t.__currentPath.points.length ? t.__drawPaths.pop() : t.closePath();
                            t.__currentPath = new Eb;
                            t.__currentPath.update(t.__line, t.__fill, t.__fillIndex);
                            t.__currentPath.type =
                                Ia.Rectangle(!0);
                            t.__currentPath.points = [f, m, h, g, q, k];
                            t.__drawPaths.push(t.__currentPath);
                            break;
                        case 10:
                            t.endFill();
                            break;
                        case 11:
                            k = f[9];
                            q = f[8];
                            g = f[7];
                            h = f[6];
                            m = f[4];
                            p = f[3];
                            f = f[2];
                            t.__line = new Rf;
                            t.__line.width = null == f || f == Math.NaN || 0 > f ? 0 : 0 == f ? 1 : f;
                            t.__currentPath.isRemovable && 0 == t.__currentPath.points.length ? t.__drawPaths.pop() : t.closePath();
                            t.__line.color = p;
                            t.__line.alpha = m;
                            t.__line.scaleMode = h;
                            t.__line.caps = g;
                            t.__line.joints = q;
                            t.__line.miterLimit = k;
                            t.__currentPath = new Eb;
                            t.__currentPath.update(t.__line,
                                t.__fill, t.__fillIndex);
                            t.__currentPath.points = [];
                            t.__currentPath.type = Ia.Polygon;
                            t.__drawPaths.push(t.__currentPath);
                            break;
                        case 12:
                            k = f[3];
                            t.__currentPath.points.push(f[2]);
                            t.__currentPath.points.push(k);
                            break;
                        case 13:
                            t.moveTo(f[2], f[3]);
                            break;
                        case 9:
                            k = f[7];
                            q = f[6];
                            g = f[5];
                            m = f[4];
                            h = f[3];
                            f = f[2];
                            switch (t.__fill[1]) {
                                case 1:
                                    p = !0;
                                    break;
                                default:
                                    p = !1
                            }
                            if (p && null != m) continue;
                            t.__currentPath.isRemovable && 0 == t.__currentPath.points.length ? t.__drawPaths.pop() : t.closePath();
                            t.__currentPath = new Eb;
                            t.__currentPath.update(t.__line,
                                t.__fill, t.__fillIndex);
                            if (null == m) switch (m = new ce, m.data = [], m.length = 0, m.fixed = !1, p = t.__fill, p[1]) {
                                case 2:
                                    for (p = p[2], w = 0, x = f.length / 2 | 0; w < x;) v = w++, m.fixed || (m.length++, m.data.length < m.length && (z = Array(m.data.length + 10), bc.blit(m.data, 0, z, 0, m.data.length), m.data = z), m.data[m.length - 1] = f.data[2 * v] / p.width), m.length, m.fixed || (m.length++, m.data.length < m.length && (z = Array(m.data.length + 10), bc.blit(m.data, 0, z, 0, m.data.length), m.data = z), m.data[m.length - 1] = f.data[2 * v + 1] / p.height), m.length
                            }
                            t.__currentPath.type =
                                Ia.DrawTriangles(f, h, m, g, q, k);
                            t.__currentPath.isRemovable = !1;
                            t.__drawPaths.push(t.__currentPath);
                            break;
                        case 8:
                            k = f[6], q = f[5], g = f[4], h = f[3], f = f[2], t.__currentPath.isRemovable && 0 == t.__currentPath.points.length ? t.__drawPaths.pop() : t.closePath(), t.__fillIndex++, t.__currentPath = new Eb, t.__currentPath.update(t.__line, t.__fill, t.__fillIndex), t.__currentPath.type = Ia.DrawTiles(f, h, g, q, k), t.__currentPath.isRemovable = !1, t.__drawPaths.push(t.__currentPath)
                    }
                }
                t.closePath()
            }
            a.__drawPaths = t.__drawPaths;
            return c
        };
        var Rf = function() {
            this.color = this.width = 0;
            this.alpha = 1;
            this.scaleMode = ma.NORMAL;
            this.caps = Jc.ROUND;
            this.joints = Kc.ROUND;
            this.miterLimit = 3
        };
        h["openfl._internal.renderer.opengl.utils.LineStyle"] = Rf;
        Rf.__name__ = "openfl _internal renderer opengl utils LineStyle".split(" ");
        Rf.prototype = {
            __class__: Rf
        };
        var Db = h["openfl._internal.renderer.opengl.utils.FillType"] = {
            __ename__: "openfl _internal renderer opengl utils FillType".split(" "),
            __constructs__: ["None", "Color", "Texture", "Gradient"]
        };
        Db.None = ["None", 0];
        Db.None.toString = w;
        Db.None.__enum__ = Db;
        Db.Color = function(a, b) {
            var c = ["Color", 1, a, b];
            c.__enum__ = Db;
            c.toString = w;
            return c
        };
        Db.Texture = function(a, b, c, d) {
            a = ["Texture", 2, a, b, c, d];
            a.__enum__ = Db;
            a.toString = w;
            return a
        };
        Db.Gradient = ["Gradient", 3];
        Db.Gradient.toString = w;
        Db.Gradient.__enum__ = Db;
        var Bi = function(a, b) {
            this.transparent = b;
            this.filterStack = [];
            this.offsetY = this.offsetX = 0;
            this.setContext(a)
        };
        h["openfl._internal.renderer.opengl.utils.FilterManager"] = Bi;
        Bi.__name__ = "openfl _internal renderer opengl utils FilterManager".split(" ");
        Bi.prototype = {
            begin: function(a, b) {
                this.renderSession = a;
                this.defaultShader = a.shaderManager.defaultShader;
                var c = a.projection;
                this.width = 2 * c.x | 0;
                this.height = 2 * -c.y | 0;
                this.buffer = b
            },
            initShaderBuffers: function() {
                var a = this.gl;
                this.vertexBuffer = a.createBuffer();
                this.uvBuffer = a.createBuffer();
                this.colorBuffer = a.createBuffer();
                this.indexBuffer = a.createBuffer();
                this.vertexArray = [0, 0, 1, 0, 0, 1, 1, 1];
                a.bindBuffer(a.ARRAY_BUFFER, this.vertexBuffer);
                a.bufferData(a.ARRAY_BUFFER, this.vertexArray, a.STATIC_DRAW);
                this.uvArray = [0, 0, 1, 0, 0, 1, 1, 1];
                a.bindBuffer(a.ARRAY_BUFFER, this.uvBuffer);
                a.bufferData(a.ARRAY_BUFFER, this.uvArray, a.STATIC_DRAW);
                this.colorArray = [1, 16777215, 1, 16777215, 1, 16777215, 1, 16777215];
                a.bindBuffer(a.ARRAY_BUFFER, this.colorBuffer);
                a.bufferData(a.ARRAY_BUFFER, this.colorArray, a.STATIC_DRAW);
                a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                a.bufferData(a.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 1, 3, 2]), a.STATIC_DRAW)
            },
            setContext: function(a) {
                this.gl =
                    a;
                this.texturePool = [];
                this.initShaderBuffers()
            },
            __class__: Bi
        };
        var Fi = function(a, b, c, d) {
            null == d && (d = !0);
            this.gl = a;
            this.frameBuffer = a.createFramebuffer();
            this.texture = a.createTexture();
            a.bindTexture(a.TEXTURE_2D, this.texture);
            a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MAG_FILTER, d ? a.LINEAR : a.NEAREST);
            a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MIN_FILTER, d ? a.LINEAR : a.NEAREST);
            a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_S, a.CLAMP_TO_EDGE);
            a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_T, a.CLAMP_TO_EDGE);
            a.bindFramebuffer(a.FRAMEBUFFER,
                this.frameBuffer);
            a.framebufferTexture2D(a.FRAMEBUFFER, a.COLOR_ATTACHMENT0, a.TEXTURE_2D, this.texture, 0);
            this.renderBuffer = a.createRenderbuffer();
            a.bindRenderbuffer(a.RENDERBUFFER, this.renderBuffer);
            a.framebufferRenderbuffer(a.FRAMEBUFFER, a.DEPTH_STENCIL_ATTACHMENT, a.RENDERBUFFER, this.renderBuffer);
            this.resize(b, c)
        };
        h["openfl._internal.renderer.opengl.utils.FilterTexture"] = Fi;
        Fi.__name__ = "openfl _internal renderer opengl utils FilterTexture".split(" ");
        Fi.prototype = {
            clear: function() {
                var a = this.gl;
                a.clearColor(0, 0, 0, 0);
                a.clear(a.COLOR_BUFFER_BIT)
            },
            resize: function(a, b) {
                if (this.width != a || this.height != b) {
                    this.width = a;
                    this.height = b;
                    var c = this.gl;
                    c.bindTexture(c.TEXTURE_2D, this.texture);
                    c.texImage2D(c.TEXTURE_2D, 0, c.RGBA, a, b, 0, c.RGBA, c.UNSIGNED_BYTE, null);
                    c.bindRenderbuffer(c.RENDERBUFFER, this.renderBuffer);
                    c.renderbufferStorage(c.RENDERBUFFER, c.DEPTH_STENCIL, a, b)
                }
            },
            __class__: Fi
        };
        var ib = function(a, b, c, d) {
            null == d && (d = 0);
            null == c && (c = 0);
            null == b && (b = 0);
            null == a && (a = 0);
            this.x = a;
            this.y = b;
            this.width = c;
            this.height = d
        };
        h["openfl.geom.Rectangle"] = ib;
        ib.__name__ = ["openfl", "geom", "Rectangle"];
        ib.prototype = {
            clone: function() {
                return new ib(this.x, this.y, this.width, this.height)
            },
            copyFrom: function(a) {
                this.x = a.x;
                this.y = a.y;
                this.width = a.width;
                this.height = a.height
            },
            setTo: function(a, b, c, d) {
                this.x = a;
                this.y = b;
                this.width = c;
                this.height = d
            },
            transform: function(a) {
                var b = a.a * this.x + a.c * this.y,
                    c = b,
                    d = a.b * this.x + a.d * this.y,
                    e = b,
                    f = a.a * (this.x + this.width) + a.c * this.y,
                    k = a.b * (this.x + this.width) + a.d * this.y;
                f < b && (b = f);
                k < d && (d = k);
                f > c && (c = f);
                k > e && (e = k);
                f = a.a * (this.x + this.width) + a.c * (this.y + this.height);
                k = a.b * (this.x + this.width) + a.d * (this.y + this.height);
                f < b && (b = f);
                k < d && (d = k);
                f > c && (c = f);
                k > e && (e = k);
                f = a.a * this.x + a.c * (this.y + this.height);
                k = a.b * this.x + a.d * (this.y + this.height);
                f < b && (b = f);
                k < d && (d = k);
                f > c && (c = f);
                k > e && (e = k);
                return new ib(b + a.tx, d + a.ty, c - b, e - d)
            },
            __expand: function(a, b, c, d) {
                if (0 == this.width && 0 == this.height) this.x = a, this.y = b, this.width = c, this.height = d;
                else {
                    var e = this.get_right(),
                        f = this.get_bottom();
                    this.x > a && (this.x = a, this.width =
                        e - a);
                    this.y > b && (this.y = b, this.height = f - b);
                    e < a + c && (this.width = a + c - this.x);
                    f < b + d && (this.height = b + d - this.y)
                }
            },
            __toLimeRectangle: function() {
                return new De(this.x, this.y, this.width, this.height)
            },
            get_bottom: function() {
                return this.y + this.height
            },
            get_left: function() {
                return this.x
            },
            get_right: function() {
                return this.x + this.width
            },
            get_top: function() {
                return this.y
            },
            __class__: ib,
            __properties__: {
                get_top: "get_top",
                get_right: "get_right",
                get_left: "get_left",
                get_bottom: "get_bottom"
            }
        };
        var F = function() {};
        h["openfl._internal.renderer.opengl.utils.GraphicsRenderer"] =
            F;
        F.__name__ = "openfl _internal renderer opengl utils GraphicsRenderer".split(" ");
        F.buildCircle = function(a, b, c) {
            null == c && (c = !1);
            var d = a.points,
                e = d[0],
                f = d[1],
                k = d[2],
                d = 3 == d.length ? k : d[3];
            a.type == Ia.Ellipse && (k /= 2, d /= 2, e += k, f += d);
            c && (e -= F.objectBounds.x, f -= F.objectBounds.y);
            c = 2 * Math.PI / 40;
            b = F.prepareBucket(a, b);
            if (null != b) {
                var q = b.verts,
                    g = b.indices,
                    h = q.length / 2 | 0;
                g.push(h);
                for (var m = 0; 41 > m;) {
                    var B = m++;
                    q.push(e);
                    q.push(f);
                    q.push(e + Math.sin(c * B) * k);
                    q.push(f + Math.cos(c * B) * d);
                    g.push(h++);
                    g.push(h++)
                }
                g.push(h -
                    1)
            }
            if (0 < a.line.width) {
                q = a.points;
                a.points = [];
                for (g = 0; 41 > g;) h = g++, a.points.push(e + Math.sin(c * h) * k), a.points.push(f + Math.cos(c * h) * d);
                F.buildLine(a, b.line);
                a.points = q
            }
        };
        F.buildComplexPoly = function(a, b, c) {
            null == c && (c = !1);
            if (!(6 > a.points.length)) {
                var d = a.points.slice();
                if (c)
                    for (var e = 0, f = d.length / 2 | 0; e < f;) {
                        var k = e++;
                        d[2 * k] -= F.objectBounds.x;
                        d[2 * k + 1] -= F.objectBounds.y
                    }
                e = F.prepareBucket(a, b);
                e.drawMode = b.gl.TRIANGLE_FAN;
                e.verts = d;
                b = e.indices;
                d = d.length / 2 | 0;
                for (f = 0; f < d;) k = f++, b.push(k);
                0 < a.line.width && F.buildLine(a,
                    e.line, c)
            }
        };
        F.buildLine = function(a, b, c) {
            null == c && (c = !1);
            var d = a.points;
            if (0 != d.length) {
                if (c) {
                    c = 0;
                    for (var e = d.length / 2 | 0; c < e;) {
                        var f = c++;
                        d[2 * f] -= F.objectBounds.x;
                        d[2 * f + 1] -= F.objectBounds.y
                    }
                }
                if (0 < a.line.width % 2)
                    for (c = 0, e = d.length; c < e;) f = c++, d[f] += .5;
                e = new Ga(d[0], d[1]);
                f = new Ga(d[d.length - 2 | 0], d[d.length - 1 | 0]);
                e.x == f.x && e.y == f.y && (d = d.slice(), d.pop(), d.pop(), f = new Ga(d[d.length - 2 | 0], d[d.length - 1 | 0]), c = f.x + .5 * (e.x - f.x), e = f.y + .5 * (e.y - f.y), d.unshift(e), d.unshift(c), d.push(c), d.push(e));
                c = b.verts;
                b = b.indices;
                var k = d.length / 2 | 0,
                    e = d.length,
                    f = c.length / 6 | 0,
                    q = a.line.width / 2,
                    g = F.hex2rgb(a.line.color);
                a = a.line.alpha;
                var h = g[0] * a,
                    m = g[1] * a,
                    g = g[2] * a,
                    B, R, l, r, p, u, w, x, t, v, A, z, D, G;
                l = d[0];
                r = d[1];
                p = d[2];
                u = d[3];
                x = -(r - u);
                t = l - p;
                R = Math.sqrt(Math.abs(x * x + t * t));
                x = x / R * q;
                t = t / R * q;
                c.push(l - x);
                c.push(r - t);
                c.push(h);
                c.push(m);
                c.push(g);
                c.push(a);
                c.push(l + x);
                c.push(r + t);
                c.push(h);
                c.push(m);
                c.push(g);
                c.push(a);
                for (var H = 1, C = k - 1; H < C;) t = H++, l = d[2 * (t - 1)], r = d[2 * (t - 1) + 1], p = d[2 * t], u = d[2 * t + 1], B = d[2 * (t + 1)], w = d[2 * (t + 1) + 1], x = -(r - u), t = l - p, R =
                    Math.sqrt(Math.abs(x * x + t * t)), x /= R, t /= R, x *= q, t *= q, v = -(u - w), A = p - B, R = Math.sqrt(Math.abs(v * v + A * A)), v /= R, A /= R, v *= q, A *= q, R = -t + r - (-t + u), z = -x + p - (-x + l), l = (-x + l) * (-t + u) - (-x + p) * (-t + r), r = -A + w - (-A + u), D = -v + p - (-v + B), w = (-v + B) * (-A + u) - (-v + p) * (-A + w), G = R * D - r * z, .1 > Math.abs(G) ? (c.push(p - x), c.push(u - t), c.push(h), c.push(m), c.push(g), c.push(a), c.push(p + x), c.push(u + t), c.push(h), c.push(m), c.push(g), c.push(a)) : (B = (z * w - D * l) / G, R = (r * l - R * w) / G, z = (B - p) * (B - p) + (R - u) + (R - u), 19600 < z ? (x -= v, t -= A, R = Math.sqrt(Math.abs(x * x + t * t)), x /= R, t /= R,
                        x *= q, t *= q, c.push(p - x), c.push(u - t), c.push(h), c.push(m), c.push(g), c.push(a), c.push(p + x), c.push(u + t), c.push(h), c.push(m), c.push(g), c.push(a), c.push(p - x), c.push(u - t), c.push(h), c.push(m), c.push(g), c.push(a), e++) : (c.push(B), c.push(R), c.push(h), c.push(m), c.push(g), c.push(a), c.push(p - (B - p)), c.push(u - (R - u)), c.push(h), c.push(m), c.push(g), c.push(a)));
                l = d[2 * (k - 2)];
                r = d[2 * (k - 2) + 1];
                p = d[2 * (k - 1)];
                u = d[2 * (k - 1) + 1];
                x = -(r - u);
                t = l - p;
                R = Math.sqrt(Math.abs(x * x + t * t));
                Math.isFinite(R) || console.log(x * x + t * t);
                x /= R;
                t /= R;
                x *= q;
                t *=
                    q;
                c.push(p - x);
                c.push(u - t);
                c.push(h);
                c.push(m);
                c.push(g);
                c.push(a);
                c.push(p + x);
                c.push(u + t);
                c.push(h);
                c.push(m);
                c.push(g);
                c.push(a);
                b.push(f);
                for (d = 0; d < e;) d++, b.push(f++);
                b.push(f - 1)
            }
        };
        F.buildRectangle = function(a, b, c) {
            null == c && (c = !1);
            var d = a.points,
                e = d[0],
                f = d[1],
                k = d[2],
                d = d[3];
            c && (e -= F.objectBounds.x, f -= F.objectBounds.y);
            b = F.prepareBucket(a, b);
            if (null != b) {
                c = b.verts;
                var q = b.indices,
                    g = c.length / 2 | 0;
                c.push(e);
                c.push(f);
                c.push(e + k);
                c.push(f);
                c.push(e);
                c.push(f + d);
                c.push(e + k);
                c.push(f + d);
                q.push(g);
                q.push(g);
                q.push(g + 1);
                q.push(g + 2);
                q.push(g + 3);
                q.push(g + 3)
            }
            0 < a.line.width && (c = a.points, a.points = [e, f, e + k, f, e + k, f + d, e, f + d, e, f], F.buildLine(a, b.line), a.points = c)
        };
        F.buildRoundedRectangle = function(a, b, c) {
            null == c && (c = !1);
            var d = a.points.slice(),
                e = d[0],
                f = d[1],
                k = d[2],
                g = d[3],
                d = d[4];
            c && (e -= F.objectBounds.x, f -= F.objectBounds.y);
            c = [];
            c.push(e);
            c.push(f + d);
            c = c.concat(F.quadraticBezierCurve(e, f + g - d, e, f + g, e + d, f + g));
            c = c.concat(F.quadraticBezierCurve(e + k - d, f + g, e + k, f + g, e + k, f + g - d));
            c = c.concat(F.quadraticBezierCurve(e + k, f + d, e +
                k, f, e + k - d, f));
            c = c.concat(F.quadraticBezierCurve(e + d, f, e, f, e, f + d));
            b = F.prepareBucket(a, b);
            if (null != b) {
                e = b.verts;
                f = b.indices;
                k = e.length / 2;
                g = df.triangulate(c);
                for (d = 0; d < g.length;) f.push(g[d] + k | 0), f.push(g[d] + k | 0), f.push(g[d + 1] + k | 0), f.push(g[d + 2] + k | 0), f.push(g[d + 2] + k | 0), d += 3;
                for (d = 0; d < c.length;) e.push(c[d]), e.push(c[++d]), d++
            }
            0 < a.line.width && (e = a.points, a.points = c, F.buildLine(a, b.line), a.points = e)
        };
        F.buildDrawTriangles = function(a, b, c, d) {
            null == d && (d = !1);
            var e = a.type.slice(2),
                f = e[0],
                k = e[1],
                g = e[2],
                n = e[3],
                e = e[4],
                h, m, B, R, l;
            d ? (h = 1, B = m = 0, R = 1, b = l = 0) : (h = b.__worldTransform.a, m = b.__worldTransform.b, B = b.__worldTransform.c, R = b.__worldTransform.d, l = b.__worldTransform.tx, b = b.__worldTransform.ty);
            var r = null != e && 0 < e.length;
            c = F.prepareBucket(a, c);
            c.rawVerts = !0;
            c.glLength = k.length;
            c.stride = 8;
            a = c.glLength * c.stride;
            null == c.glVerts || c.glVerts.length < a ? (a = [a], c.glVerts = a) : a = c.glVerts;
            for (var p = 0, u = 0, t = 0, x = 0, w = c = 0, v = 0, A = 0, z = 0, D = 0, G = 0, H = 0, C = 0, J = [1, 1, 1, 1], x = J, N = 0, E = k.length / 3 | 0; N < E;) {
                u = N++;
                x = k.data[3 * u];
                c = k.data[3 * u + 1];
                w = k.data[3 * u + 2];
                p = 2 * x;
                u = 2 * c;
                t = 2 * w;
                v = f.data[p];
                A = f.data[p + 1];
                z = f.data[u];
                D = f.data[u + 1];
                G = f.data[t];
                H = f.data[t + 1];
                d && (v -= F.objectBounds.x, A -= F.objectBounds.y, z -= F.objectBounds.x, D -= F.objectBounds.y, G -= F.objectBounds.x, H -= F.objectBounds.y);
                switch (n[1]) {
                    case 2:
                        if (!(0 > (z - v) * (H - A) - (D - A) * (G - v))) continue;
                        break;
                    case 0:
                        if (0 > (z - v) * (H - A) - (D - A) * (G - v)) continue
                }
                a[C++] = h * v + B * A + l;
                a[C++] = m * v + R * A + b;
                a[C++] = g.data[p];
                a[C++] = g.data[p + 1];
                r ? (x = F.hex2rgba(e.data[x]), a[C++] = x[0], a[C++] = x[1], a[C++] = x[2], a[C++] =
                    x[3]) : (a[C++] = J[0], a[C++] = J[1], a[C++] = J[2], a[C++] = J[3]);
                a[C++] = h * z + B * D + l;
                a[C++] = m * z + R * D + b;
                a[C++] = g.data[u];
                a[C++] = g.data[u + 1];
                r ? (x = F.hex2rgba(e.data[c]), a[C++] = x[0], a[C++] = x[1], a[C++] = x[2], a[C++] = x[3]) : (a[C++] = J[0], a[C++] = J[1], a[C++] = J[2], a[C++] = J[3]);
                a[C++] = h * G + B * H + l;
                a[C++] = m * G + R * H + b;
                a[C++] = g.data[t];
                a[C++] = g.data[t + 1];
                r ? (x = F.hex2rgba(e.data[w]), a[C++] = x[0], a[C++] = x[1], a[C++] = x[2], a[C++] = x[3]) : (a[C++] = J[0], a[C++] = J[1], a[C++] = J[2], a[C++] = J[3])
            }
        };
        F.quadraticBezierCurve = function(a, b, c, d, e, f) {
            for (var k,
                g, n, h, m = [], B = 0, R = 0; 21 > R;) B = R++/20,k=a+(c-a)*B,g=b+(d-b)*B,n=c+(e-c)*B,h=d+(f-d)*B,k+=(n-k)*B,g+=(h-g)*B,m.push(k),m.push(g);return m};F.render=function(a,b){var c=a.__graphics,d=b.spriteBatch,e=c.__dirty;if(!(0>=c.__commands.length))if(e&&F.updateGraphics(a,b.gl,a.cacheAsBitmap),a.cacheAsBitmap){if(e){var e=b.gl,f=c.__bounds,k=c.__cachedTexture,g=Math.floor(f.width+.5),f=Math.floor(f.height+.5);null==k&&(k=new Fi(e,g,f,!1),c.__cachedTexture=k);k.resize(g,f);e.bindFramebuffer(e.FRAMEBUFFER,k.frameBuffer);
e.viewport(0,0,g,f);k.clear();F.renderGraphics(a,b,new Ga(g/2, -f / 2), !0); e.bindFramebuffer(e.FRAMEBUFFER, null); e.viewport(0, 0, b.renderer.width, b.renderer.height)
}
d.drawing || d.begin(b);
d.renderCachedGraphics(a)
} else F.renderGraphics(a, b, b.projection, !1)
};
F.renderGraphics = function(a, b, c, d) {
    null == d && (d = !1);
    var e = b.gl,
        f = b.offset,
        k = a.__graphics.__glStack[Ha.glContextId],
        g, n;
    n = d ? Rb.__identity : a.__worldTransform;
    for (var h = b.spriteBatch.drawing, m = 0, B = k.buckets.length; m < B;) {
        var R = m++,
            h = b.spriteBatch.drawing;
        g = k.buckets[R];
        switch (g.mode[1]) {
            case 1:
            case 2:
                h && !d && b.spriteBatch.end();
                b.stencilManager.pushBucket(g, b, c, n.toArray(!0));
                h = F.prepareShader(g, b, a, c, n.toArray(!1));
                F.renderFill(g, h, b);
                b.stencilManager.popBucket(a, g, b);
                break;
            case 5:
                h && !d && b.spriteBatch.end();
                h = F.prepareShader(g, b, a, c, null);
                F.renderDrawTriangles(g, h, b);
                break;
            case 6:
                h || b.spriteBatch.begin(b), F.renderDrawTiles(a, g, b)
        }
        R = 0;
        for (g = g.data; R < g.length;) {
            var l = g[R];
            ++R;
            null != l.line && 0 < l.line.verts.length && ((h = b.spriteBatch.drawing) && !d && b.spriteBatch.end(),
                h = b.shaderManager.primitiveShader, b.shaderManager.setShader(h), e.uniformMatrix3fv(h.translationMatrix, !1, n.toArray(!0)), e.uniform2f(h.projectionVector, c.x, -c.y), e.uniform2f(h.offsetVector, -f.x, -f.y), e.uniform1f(h.alpha, a.__worldAlpha), e.bindBuffer(e.ARRAY_BUFFER, l.line.vertsBuffer), e.vertexAttribPointer(h.aVertexPosition, 2, e.FLOAT, !1, 24, 0), e.vertexAttribPointer(h.colorAttribute, 4, e.FLOAT, !1, 24, 8), e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, l.line.indexBuffer), e.drawElements(e.TRIANGLE_STRIP, l.line.indices.length,
                    e.UNSIGNED_SHORT, 0))
        }(h = b.spriteBatch.drawing) || d || b.spriteBatch.begin(b)
    }
};
F.updateGraphics = function(a, b, c) {
    null == c && (c = !1);
    var d = a.__graphics;
    F.objectPosition.setTo(a.get_x(), a.get_y());
    null != d.__bounds && F.objectBounds.copyFrom(d.__bounds);
    var e = null;
    d.__dirty && (e = Eb.getStack(d, b));
    d.__dirty = !1;
    b = 0;
    for (var f = e.buckets; b < f.length;) {
        var k = f[b];
        ++b;
        k.reset();
        F.bucketPool.push(k)
    }
    e.reset();
    b = e.lastIndex;
    for (f = d.__drawPaths.length; b < f;) {
        var k = b++,
            k = d.__drawPaths[k],
            g = k.type;
        switch (g[1]) {
            case 0:
                F.buildComplexPoly(k,
                    e, c);
                break;
            case 1:
                g[2] ? F.buildRoundedRectangle(k, e, c) : F.buildRectangle(k, e, c);
                break;
            case 2:
            case 3:
                F.buildCircle(k, e, c);
                break;
            case 4:
                F.buildDrawTriangles(k, a, e, c);
                break;
            case 5:
                F.prepareBucket(k, e)
        }
        e.lastIndex++
    }
    e.upload()
};
F.prepareBucket = function(a, b) {
    var c = null,
        c = a.fill;
    switch (c[1]) {
        case 1:
            var d = c[3],
                e = c[2],
                c = F.switchBucket(a.fillIndex, b, Ja.Fill);
            c.color = null == e ? [0, 0, 0] : [(e >> 16 & 255) / 255, (e >> 8 & 255) / 255, (e & 255) / 255];
            c.alpha = d;
            c.uploadTileBuffer = !0;
            break;
        case 2:
            var f = c[5],
                k = c[4],
                e = c[3],
                d = c[2],
                c = F.switchBucket(a.fillIndex,
                    b, Ja.PatternFill);
            c.bitmap = d;
            c.textureRepeat = k;
            c.textureSmooth = f;
            c.texture = d.getTexture(b.gl);
            c.uploadTileBuffer = !0;
            f = c.textureMatrix;
            f.identity();
            e = null == e ? new Rb : new Rb(e.a, e.b, e.c, e.d, e.tx, e.ty);
            e = e.invert();
            e.__translateTransformed(new Ga(-F.objectPosition.x, -F.objectPosition.y));
            var k = e.tx / d.width,
                g = e.ty / d.height;
            f.concat(e);
            c.textureTL.x = k;
            c.textureTL.y = g;
            c.textureBR.x = k + 1;
            c.textureBR.y = g + 1;
            f.scale(1 / d.width, 1 / d.height);
            c.textureMatrix = f;
            break;
        default:
            c = F.switchBucket(a.fillIndex, b, Ja.Line),
                c.uploadTileBuffer = !1
    }
    switch (a.type[1]) {
        case 4:
            c.mode = Ja.DrawTriangles;
            c.uploadTileBuffer = !1;
            break;
        case 5:
            c.mode = Ja.DrawTiles, c.uploadTileBuffer = !1
    }
    c.graphicType = a.type;
    return c.getData()
};
F.getBucket = function(a, b) {
    var c = F.bucketPool.pop();
    null == c && (c = new Gi(a.gl));
    c.mode = b;
    a.buckets.push(c);
    return c
};
F.switchBucket = function(a, b, c) {
    var d;
    0 == b.buckets.length ? d = F.getBucket(b, c) : (d = b.buckets[b.buckets.length - 1], d.fillIndex != a && (d = F.getBucket(b, c)));
    d.dirty = !0;
    d.fillIndex = a;
    return d
};
F.prepareShader =
    function(a, b, c, d, e) {
        var f = b.gl,
            k = b.offset,
            g = null;
        switch (a.mode[1]) {
            case 1:
                g = b.shaderManager.fillShader;
                break;
            case 2:
                g = b.shaderManager.patternFillShader;
                break;
            case 5:
                g = b.shaderManager.drawTrianglesShader;
                break;
            default:
                g = null
        }
        if (null == g) return null;
        b.shaderManager.setShader(g);
        f.uniform2f(g.projectionVector, d.x, -d.y);
        f.uniform2f(g.offsetVector, -k.x, -k.y);
        f.uniform1f(g.alpha, c.__worldAlpha * a.alpha);
        switch (a.mode[1]) {
            case 1:
                f.uniformMatrix3fv(g.translationMatrix, !1, e);
                f.uniform3fv(g.color, [a.color]);
                break;
            case 2:
                f.uniformMatrix3fv(g.translationMatrix, !1, e);
                f.uniform1i(g.sampler, 0);
                f.uniform2f(g.patternTL, a.textureTL.x, a.textureTL.y);
                f.uniform2f(g.patternBR, a.textureBR.x, a.textureBR.y);
                f.uniformMatrix3fv(g.patternMatrix, !1, a.textureMatrix.toArray(!1));
                break;
            case 5:
                null != a.texture ? (f.uniform1i(g.useTexture, 1), f.uniform1i(g.sampler, 0)) : (f.uniform1i(g.useTexture, 0), f.uniform3fv(g.color, [a.color]))
        }
        return g
    };
F.renderFill = function(a, b, c) {
    c = c.gl;
    a.mode == Ja.PatternFill && null != a.texture &&
        F.bindTexture(c, a);
    c.bindBuffer(c.ARRAY_BUFFER, a.tileBuffer);
    c.vertexAttribPointer(b.aVertexPosition, 4, c.SHORT, !1, 0, 0);
    c.drawArrays(c.TRIANGLE_STRIP, 0, 4)
};
F.renderDrawTriangles = function(a, b, c) {
    c = c.gl;
    for (var d = 0, e = a.data; d < e.length;) {
        var f = e[d];
        ++d;
        f.destroyed || (null != a.texture && F.bindTexture(c, a), F.bindDrawTrianglesBuffer(c, b, f), c.drawArrays(c.TRIANGLES, f.glStart, f.glLength))
    }
};
F.renderDrawTiles = function(a, b, c) {
    b = b.graphicType.slice(2);
    c.spriteBatch.renderTiles(a, b[0], b[1], b[2], b[3], b[4])
};
F.bindDrawTrianglesBuffer =
    function(a, b, c) {
        a.bindBuffer(a.ARRAY_BUFFER, c.vertsBuffer);
        c = 4 * c.stride;
        a.vertexAttribPointer(b.aVertexPosition, 2, a.FLOAT, !1, c, 0);
        a.vertexAttribPointer(b.aTextureCoord, 2, a.FLOAT, !1, c, 8);
        a.vertexAttribPointer(b.colorAttribute, 4, a.FLOAT, !1, c, 16)
    };
F.bindTexture = function(a, b) {
    a.bindTexture(a.TEXTURE_2D, b.texture);
    b.textureRepeat && b.bitmap.__image.get_powerOfTwo() ? (a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_S, a.REPEAT), a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_T, a.REPEAT)) : (a.texParameteri(a.TEXTURE_2D,
        a.TEXTURE_WRAP_S, a.CLAMP_TO_EDGE), a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_T, a.CLAMP_TO_EDGE));
    b.textureSmooth ? (a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MAG_FILTER, a.LINEAR), a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MIN_FILTER, a.LINEAR)) : (a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MAG_FILTER, a.NEAREST), a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MIN_FILTER, a.NEAREST))
};
F.hex2rgb = function(a) {
    return null == a ? [0, 0, 0] : [(a >> 16 & 255) / 255, (a >> 8 & 255) / 255, (a & 255) / 255]
};
F.hex2rgba = function(a) {
    return null == a ? [1, 1, 1, 1] : [(a >>
        16 & 255) / 255, (a >> 8 & 255) / 255, (a & 255) / 255, (a >> 24 & 255) / 255]
};
var Ei = function(a) {
    this.lastIndex = 0;
    this.gl = a;
    this.buckets = [];
    this.lastIndex = 0
};
h["openfl._internal.renderer.opengl.utils.GLStack"] = Ei;
Ei.__name__ = "openfl _internal renderer opengl utils GLStack".split(" ");
Ei.prototype = {
    reset: function() {
        this.buckets = [];
        this.lastIndex = 0
    },
    upload: function() {
        for (var a = 0, b = this.buckets; a < b.length;) {
            var c = b[a];
            ++a;
            c.dirty && c.upload()
        }
    },
    __class__: Ei
};
var Gi = function(a) {
    this.textureSmooth = this.uploadTileBuffer = !0;
    this.textureRepeat = !1;
    this.data = [];
    this.fillIndex = 0;
    this.gl = a;
    this.color = [0, 0, 0];
    this.lastIndex = 0;
    this.alpha = 1;
    this.dirty = !0;
    this.mode = Ja.Fill;
    this.textureMatrix = new Rb;
    this.textureTL = new Ga;
    this.textureBR = new Ga(1, 1)
};
h["openfl._internal.renderer.opengl.utils.GLBucket"] = Gi;
Gi.__name__ = "openfl _internal renderer opengl utils GLBucket".split(" ");
Gi.prototype = {
    getData: function() {
        for (var a = null, b = !1, c = 0, d = this.data; c < d.length;) {
            var e = d[c];
            ++c;
            if (e.destroyed) {
                a = e;
                b = !0;
                break
            }
        }
        null == a && (a = new ph(this.gl));
        a.destroyed = !1;
        a.parent = this;
        b && J.remove(this.data, a);
        this.data.push(a);
        return a
    },
    reset: function() {
        for (var a = 0, b = this.data; a < b.length;) {
            var c = b[a];
            ++a;
            c.destroy()
        }
        this.fillIndex = 0;
        this.uploadTileBuffer = !0;
        this.graphicType = Ia.Polygon
    },
    upload: function() {
        this.uploadTileBuffer && (null == this.tileBuffer && (this.tileBuffer = this.gl.createBuffer(), this.tile = [0, 0, 0, 0, 4096, 0, 1, 0, 0, 4096, 0, 1, 4096, 4096, 1, 1], this.glTile = new Int16Array(this.tile)), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.tileBuffer), this.gl.bufferData(this.gl.ARRAY_BUFFER,
            this.glTile, this.gl.STATIC_DRAW), this.uploadTileBuffer = !1);
        for (var a = 0, b = this.data; a < b.length;) {
            var c = b[a];
            ++a;
            c.destroyed || c.upload()
        }
        this.dirty = !1
    },
    __class__: Gi
};
var ph = function(a, b) {
    null == b && (b = !0);
    this.rawIndices = this.destroyed = !1;
    this.stride = 0;
    this.rawVerts = !1;
    this.glLength = this.glStart = this.lastVertsSize = 0;
    this.gl = a;
    this.drawMode = a.TRIANGLE_STRIP;
    this.verts = [];
    this.vertsBuffer = a.createBuffer();
    this.indices = [];
    this.indexBuffer = a.createBuffer();
    b && (this.line = new ph(a, !1))
};
h["openfl._internal.renderer.opengl.utils.GLBucketData"] =
    ph;
ph.__name__ = "openfl _internal renderer opengl utils GLBucketData".split(" ");
ph.prototype = {
    destroy: function() {
        this.destroyed = !0;
        this.verts = [];
        this.indices = [];
        this.stride = this.glStart = this.glLength = 0;
        this.rawIndices = this.rawVerts = !1;
        null != this.line && this.line.destroy()
    },
    upload: function() {
        if (this.rawVerts && null != this.glVerts && 0 < this.glVerts.length || 0 < this.verts.length)
            if (this.rawVerts || (this.glVerts = [this.verts]), this.gl.bindBuffer(this.gl.ARRAY_BUFFER, this.vertsBuffer), this.glVerts.length <=
                this.lastVertsSize) {
                var a = 4 * this.glLength * this.stride;
                0 < this.glLength && this.lastVertsSize > a ? (a = this.glVerts.subarray(0, a), this.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, a)) : this.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, this.glVerts)
            } else this.gl.bufferData(this.gl.ARRAY_BUFFER, this.glVerts, this.gl.STREAM_DRAW), this.lastVertsSize = this.glVerts.length;
        0 == this.glLength && (this.rawIndices && null != this.glIndices && 0 < this.glIndices.length || 0 < this.indices.length) && (this.rawIndices || (this.glIndices = new Uint16Array(this.indices)),
            this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer), this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, this.glIndices, this.gl.STREAM_DRAW));
        null != this.line && this.line.upload()
    },
    __class__: ph
};
var Ja = h["openfl._internal.renderer.opengl.utils.BucketMode"] = {
    __ename__: "openfl _internal renderer opengl utils BucketMode".split(" "),
    __constructs__: "None Fill PatternFill Line PatternLine DrawTriangles DrawTiles".split(" ")
};
Ja.None = ["None", 0];
Ja.None.toString = w;
Ja.None.__enum__ = Ja;
Ja.Fill = ["Fill",
    1
];
Ja.Fill.toString = w;
Ja.Fill.__enum__ = Ja;
Ja.PatternFill = ["PatternFill", 2];
Ja.PatternFill.toString = w;
Ja.PatternFill.__enum__ = Ja;
Ja.Line = ["Line", 3];
Ja.Line.toString = w;
Ja.Line.__enum__ = Ja;
Ja.PatternLine = ["PatternLine", 4];
Ja.PatternLine.toString = w;
Ja.PatternLine.__enum__ = Ja;
Ja.DrawTriangles = ["DrawTriangles", 5];
Ja.DrawTriangles.toString = w;
Ja.DrawTriangles.__enum__ = Ja;
Ja.DrawTiles = ["DrawTiles", 6];
Ja.DrawTiles.toString = w;
Ja.DrawTiles.__enum__ = Ja;
var ik = function() {};
h["openfl._internal.renderer.opengl.utils.GLGraphicsData"] =
    ik;
ik.__name__ = "openfl _internal renderer opengl utils GLGraphicsData".split(" ");
var df = function() {};
h["openfl._internal.renderer.opengl.utils.PolyK"] = df;
df.__name__ = "openfl _internal renderer opengl utils PolyK".split(" ");
df.triangulate = function(a) {
    var b = !0,
        c = a.length >> 1;
    if (3 > c) return [];
    var d = [],
        e;
    e = [];
    for (var f = 0; f < c;) {
        var k = f++;
        e.push(k)
    }
    for (var f = 0, k = c, g = !1; 3 < k;) {
        var n = e[f % k],
            h = e[(f + 1) % k],
            m = e[(f + 2) % k],
            B = a[2 * n],
            l = a[2 * n + 1],
            r = a[2 * h],
            p = a[2 * h + 1],
            u = a[2 * m],
            t = a[2 * m + 1],
            g = !1;
        if (df._convex(B, l, r, p, u, t,
            b))
            for (var g = !0, w = 0; w < k;) {
                var x = w++,
                    x = e[x];
                if (x != n && x != h && x != m && df._PointInTriangle(a[2 * x], a[2 * x + 1], B, l, r, p, u, t)) {
                    g = !1;
                    break
                }
            }
        if (g) d.push(n), d.push(h), d.push(m), e.splice((f + 1) % k, 1), k--, f = 0;
        else if (f++ > 3 * k)
            if (b) {
                d = [];
                b = [];
                for (e = 0; e < c;) f = e++, b.push(f);
                e = b;
                f = 0;
                k = c;
                b = !1
            } else return console.log("Warning: shape too complex to fill"), []
    }
    d.push(e[0]);
    d.push(e[1]);
    d.push(e[2]);
    return d
};
df._PointInTriangle = function(a, b, c, d, e, f, k, g) {
    k = k - c | 0;
    g = g - d | 0;
    e = e - c | 0;
    f = f - d | 0;
    a = a - c | 0;
    c = b - d | 0;
    b = k * k + g * g;
    d = k * e + g * f;
    k = k * a +
        g * c;
    g = e * e + f * f;
    e = e * a + f * c;
    f = 1 / (b * g - d * d);
    g = (g * k - d * e) * f;
    k = (b * e - d * k) * f;
    return 0 <= g && 0 <= k && 1 > g + k
};
df._convex = function(a, b, c, d, e, f, k) {
    return 0 <= (b - d) * (e - c) + (c - a) * (f - d) == k
};
var Ia = h["openfl._internal.renderer.opengl.utils.GraphicType"] = {
    __ename__: "openfl _internal renderer opengl utils GraphicType".split(" "),
    __constructs__: "Polygon Rectangle Circle Ellipse DrawTriangles DrawTiles".split(" ")
};
Ia.Polygon = ["Polygon", 0];
Ia.Polygon.toString = w;
Ia.Polygon.__enum__ = Ia;
Ia.Rectangle = function(a) {
    a = ["Rectangle", 1,
        a
    ];
    a.__enum__ = Ia;
    a.toString = w;
    return a
};
Ia.Circle = ["Circle", 2];
Ia.Circle.toString = w;
Ia.Circle.__enum__ = Ia;
Ia.Ellipse = ["Ellipse", 3];
Ia.Ellipse.toString = w;
Ia.Ellipse.__enum__ = Ia;
Ia.DrawTriangles = function(a, b, c, d, e, f) {
    a = ["DrawTriangles", 4, a, b, c, d, e, f];
    a.__enum__ = Ia;
    a.toString = w;
    return a
};
Ia.DrawTiles = function(a, b, c, d, e) {
    a = ["DrawTiles", 5, a, b, c, d, e];
    a.__enum__ = Ia;
    a.toString = w;
    return a
};
var Ai = function(a) {
    this.maskStack = [];
    this.maskPosition = 0;
    this.setContext(a);
    this.reverse = !1;
    this.count = 0
};
h["openfl._internal.renderer.opengl.utils.MaskManager"] =
    Ai;
Ai.__name__ = "openfl _internal renderer opengl utils MaskManager".split(" ");
Ai.prototype = {
    setContext: function(a) {
        this.gl = a
    },
    __class__: Ai
};
var yi = function(a) {
    this.maxAttibs = 10;
    this.attribState = [];
    this.tempAttribState = [];
    this.shaderMap = [];
    for (var b = 0, c = this.maxAttibs; b < c;) {
        var d = b++;
        this.attribState[d] = !1
    }
    this.setContext(a)
};
h["openfl._internal.renderer.opengl.utils.ShaderManager"] = yi;
yi.__name__ = "openfl _internal renderer opengl utils ShaderManager".split(" ");
yi.prototype = {
    setAttribs: function(a) {
        for (var b =
            0, c = this.tempAttribState.length; b < c;) {
            var d = b++;
            this.tempAttribState[d] = !1
        }
        b = 0;
        for (c = a.length; b < c;) d = b++, this.tempAttribState[a[d]] = !0;
        a = this.gl;
        b = 0;
        for (c = this.attribState.length; b < c;) d = b++, this.attribState[d] != this.tempAttribState[d] && (this.attribState[d] = this.tempAttribState[d], this.tempAttribState[d] ? a.enableVertexAttribArray(d) : a.disableVertexAttribArray(d))
    },
    setContext: function(a) {
        this.gl = a;
        this.primitiveShader = new nh(a);
        this.complexPrimitiveShader = new ih(a);
        this.defaultShader = new cf(a);
        this.fastShader =
            new kh(a);
        this.stripShader = new oh(a);
        this.fillShader = new lh(a);
        this.patternFillShader = new mh(a);
        this.drawTrianglesShader = new jh(a);
        this.setShader(this.defaultShader)
    },
    setShader: function(a) {
        if (this._currentId == a._UID) return !1;
        this._currentId = a._UID;
        this.currentShader = a;
        this.gl.useProgram(a.program);
        this.setAttribs(a.attributes);
        return !0
    },
    __class__: yi
};
var zi = function(a) {
    this.states = [];
    this.vertSize = 6;
    this.size = Math.floor(Math.pow(2, 16) / this.vertSize);
    var b = 6 * this.size;
    this.vertices = [4 *
        this.size * this.vertSize
    ];
    this.indices = new Uint16Array(b);
    for (var c = this.lastIndexCount = 0, d = 0; c < b;) this.indices[c] = d, this.indices[c + 1] = d + 1, this.indices[c + 2] = d + 2, this.indices[c + 3] = d, this.indices[c + 4] = d + 2, this.indices[c + 5] = d + 3, c += 6, d += 4;
    this.drawing = !1;
    this.currentBatchSize = 0;
    this.currentBaseTexture = null;
    this.setContext(a);
    this.dirty = !0;
    this.currentState = new qh
};
h["openfl._internal.renderer.opengl.utils.SpriteBatch"] = zi;
zi.__name__ = "openfl _internal renderer opengl utils SpriteBatch".split(" ");
zi.prototype = {
    begin: function(a) {
        this.renderSession = a;
        this.shader = a.shaderManager.defaultShader;
        this.drawing = !0;
        this.start()
    },
    end: function() {
        this.flush();
        this.drawing = !1
    },
    flush: function() {
        if (0 != this.currentBatchSize) {
            var a = this.gl;
            this.renderSession.shaderManager.setShader(this.renderSession.shaderManager.defaultShader);
            if (this.dirty) {
                this.dirty = !1;
                a.activeTexture(a.TEXTURE0);
                a.bindBuffer(a.ARRAY_BUFFER, this.vertexBuffer);
                a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                var b = this.renderSession.projection;
                a.uniform2f(this.shader.projectionVector, b.x, b.y);
                b = 4 * this.vertSize;
                a.vertexAttribPointer(this.shader.aVertexPosition, 2, a.FLOAT, !1, b, 0);
                a.vertexAttribPointer(this.shader.aTextureCoord, 2, a.FLOAT, !1, b, 8);
                a.vertexAttribPointer(this.shader.colorAttribute, 2, a.FLOAT, !1, b, 16)
            }
            this.currentBatchSize > .5 * this.size ? a.bufferSubData(a.ARRAY_BUFFER, 0, this.vertices) : (b = this.vertices.subarray(0, 4 * this.currentBatchSize * this.vertSize), a.bufferSubData(a.ARRAY_BUFFER, 0, b));
            var c = b = 0;
            this.currentState.texture = null;
            this.currentState.textureSmooth = !0;
            this.currentState.blendMode = this.renderSession.blendModeManager.currentBlendMode;
            for (var d = this.currentBatchSize, e = 0; e < d;) {
                var f = e++,
                    a = this.states[f];
                if (this.currentState.texture != a.texture || this.currentState.blendMode != a.blendMode) this.renderBatch(this.currentState, b, c), c = f, b = 0, this.currentState.texture = a.texture, this.currentState.textureSmooth = a.textureSmooth, this.currentState.blendMode = a.blendMode, this.renderSession.blendModeManager.setBlendMode(this.currentState.blendMode);
                b++
            }
            this.renderBatch(this.currentState,
                b, c);
            this.currentBatchSize = 0
        }
    },
    render: function(a) {
        var b = a.bitmapData,
            c = b.getTexture(this.gl);
        if (null != b) {
            this.currentBatchSize >= this.size && (this.flush(), this.currentState.texture = c);
            var d = b.__uvData;
            null != d && (this.fillVertices(4 * this.currentBatchSize * this.vertSize, 0, 0, b.width, b.height, 16777215, a.__worldAlpha, d, a.__worldTransform), this.setState(this.currentBatchSize, c, null, a.blendMode), this.currentBatchSize++)
        }
    },
    renderCachedGraphics: function(a) {
        var b = a.__graphics.__cachedTexture;
        if (null != b) {
            this.currentBatchSize >=
                this.size && (this.flush(), this.currentBaseTexture = b.texture);
            var c = a.__worldAlpha,
                d = new rf;
            d.x0 = 0;
            d.y0 = 1;
            d.x1 = 1;
            d.y1 = 1;
            d.x2 = 1;
            d.y2 = 0;
            d.x3 = 0;
            d.y3 = 0;
            var e = 4 * this.currentBatchSize * this.vertSize,
                f = a.__worldTransform.clone();
            f.__translateTransformed(new Ga(a.__graphics.__bounds.x, a.__graphics.__bounds.y));
            this.fillVertices(e, 0, 0, b.width, b.height, 16777215, c, d, f);
            this.setState(this.currentBatchSize, b.texture, null, a.blendMode);
            this.currentBatchSize++
        }
    },
    renderTiles: function(a, b, c, d, e, f) {
        null == f && (f = -1);
        null ==
            e && (e = 0);
        null == d && (d = !1);
        var k = b.__bitmap.getTexture(this.gl);
        if (null != k) {
            var g = 0 < (e & 1),
                n = 0 < (e & 2),
                h = 0 < (e & 16),
                m = 0 < (e & 4),
                B = 0 < (e & 8),
                l = 0 < (e & 32),
                r = 0 < (e & 64);
            switch (e & 983040) {
                case 65536:
                    e = L.ADD;
                    break;
                case 131072:
                    e = L.MULTIPLY;
                    break;
                case 262144:
                    e = L.SCREEN;
                    break;
                default:
                    e = L.NORMAL
            }
            h && (n = g = !1);
            var p = 0,
                u = 0,
                t = 0,
                w = 0,
                x = 0,
                v = 3;
            l && (v = r ? 8 : 6);
            g && (p = v, v++);
            n && (u = v, v++);
            h && (x = v, v += 4);
            m && (t = v, v += 3);
            B && (w = v, v++);
            var A = c.length;
            0 <= f && A > f && (A = f);
            f = 0;
            var z = -1,
                C = b.__rectTile,
                z = b.__rectUV,
                D = b.__point,
                G = 0,
                H = 0,
                J = 1,
                F = 16777215,
                N =
                1,
                E = 0,
                K = 1,
                O = E = N = K = E = 0,
                P = H = G = 0,
                T = 0,
                Q = new Rb;
            a = a.__worldTransform;
            for (var M = new rf, H = 0; f < A;) this.currentBatchSize >= this.size && (this.flush(), this.currentBaseTexture = k), G = c[f], H = c[f + 1], l ? (C.x = c[f + 2], C.y = c[f + 3], C.width = c[f + 4], C.height = c[f + 5], r ? (D.x = c[f + 6], D.y = c[f + 7]) : (D.x = 0, D.y = 0), z.setTo(C.get_left() / b.__bitmap.width, C.get_top() / b.__bitmap.height, C.get_right() / b.__bitmap.width, C.get_bottom() / b.__bitmap.height)) : (z = (null == c[f + 2] ? 0 : c[f + 2]) | 0, C = b.__tileRects[z], D = b.__centerPoints[z], z = b.__tileUVs[z]), null !=
                C && 0 < C.width && 0 < C.height && null != D && (J = 1, F = 16777215, K = N = 1, E = 0, Q.identity(), B && (J = c[f + w]), m && (F = (255 * c[f + t] | 0) << 16 | (255 * c[f + t + 1] | 0) << 8 | 255 * c[f + t + 2] | 0), g && (N = c[f + p]), n && (E = c[f + u], K = Math.cos(E), E = Math.sin(E)), h ? (K = c[f + x], N = c[f + x + 1], E = c[f + x + 2], O = c[f + x + 3]) : (K *= N, N *= E, E = -N, O = K), P = D.x * K + D.y * E, T = D.x * N + D.y * O, G -= P, H -= T, Q.a = K * a.a + N * a.c, Q.b = K * a.b + N * a.d, Q.c = E * a.a + O * a.c, Q.d = E * a.b + O * a.d, Q.tx = G * a.a + H * a.c, Q.ty = G * a.b + H * a.d, M.x0 = z.x, M.y0 = z.y, M.x1 = z.width, M.y1 = z.y, M.x2 = z.width, M.y2 = z.height, M.x3 = z.x, M.y3 = z.height, H = 4 *
                    this.currentBatchSize * this.vertSize, this.fillVertices(H, 0, 0, C.width, C.height, F, J, M, Q), this.setState(this.currentBatchSize, k, d, e), this.currentBatchSize++), f += v
        }
    },
    fillVertices: function(a, b, c, d, e, f, k, g, n) {
        var h;
        h = d * (1 - b);
        b = d * -b;
        d = e * (1 - c);
        c = e * -c;
        e = n.a;
        var m = n.b,
            B = n.c,
            l = n.d,
            r = n.tx;
        n = n.ty;
        this.vertices[a++] = e * b + B * c + r;
        this.vertices[a++] = l * c + m * b + n;
        this.vertices[a++] = g.x0;
        this.vertices[a++] = g.y0;
        this.vertices[a++] = k;
        this.vertices[a++] = f;
        this.vertices[a++] = e * h + B * c + r;
        this.vertices[a++] = l * c + m * h + n;
        this.vertices[a++] =
            g.x1;
        this.vertices[a++] = g.y1;
        this.vertices[a++] = k;
        this.vertices[a++] = f;
        this.vertices[a++] = e * h + B * d + r;
        this.vertices[a++] = l * d + m * h + n;
        this.vertices[a++] = g.x2;
        this.vertices[a++] = g.y2;
        this.vertices[a++] = k;
        this.vertices[a++] = f;
        this.vertices[a++] = e * b + B * d + r;
        this.vertices[a++] = l * d + m * b + n;
        this.vertices[a++] = g.x3;
        this.vertices[a++] = g.y3;
        this.vertices[a++] = k;
        this.vertices[a++] = f
    },
    setState: function(a, b, c, d) {
        null == c && (c = !0);
        a = this.states[this.currentBatchSize];
        null == a && (a = this.states[this.currentBatchSize] = new qh);
        a.texture = b;
        a.textureSmooth = c;
        a.blendMode = d
    },
    renderBatch: function(a, b, c) {
        0 != b && (this.gl.bindTexture(this.gl.TEXTURE_2D, a.texture), a.textureSmooth ? (this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR)) : (this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.NEAREST), this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.NEAREST)), this.gl.drawElements(this.gl.TRIANGLES,
            6 * b, this.gl.UNSIGNED_SHORT, 12 * c), this.renderSession.drawCount++)
    },
    setContext: function(a) {
        this.gl = a;
        this.vertexBuffer = a.createBuffer();
        this.indexBuffer = a.createBuffer();
        a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        a.bufferData(a.ELEMENT_ARRAY_BUFFER, this.indices, a.STATIC_DRAW);
        a.bindBuffer(a.ARRAY_BUFFER, this.vertexBuffer);
        a.bufferData(a.ARRAY_BUFFER, this.vertices, a.DYNAMIC_DRAW);
        this.currentBlendMode = null
    },
    start: function() {
        this.dirty = !0
    },
    __class__: zi
};
var qh = function() {
    this.textureSmooth = !0
};
h["openfl._internal.renderer.opengl.utils._SpriteBatch.State"] = qh;
qh.__name__ = "openfl _internal renderer opengl utils _SpriteBatch State".split(" ");
qh.prototype = {
    __class__: qh
};
var Ci = function(a) {
    this.stencilStack = [];
    this.bucketStack = [];
    this.setContext(a);
    this.reverse = !0;
    this.count = 0
};
h["openfl._internal.renderer.opengl.utils.StencilManager"] = Ci;
Ci.__name__ = "openfl _internal renderer opengl utils StencilManager".split(" ");
Ci.prototype = {
    prepareGraphics: function(a, b, c, d) {
        var e = b.offset,
            f = b.shaderManager.fillShader;
        b.shaderManager.setShader(f);
        this.gl.uniformMatrix3fv(f.translationMatrix, !1, d);
        this.gl.uniform2f(f.projectionVector, c.x, -c.y);
        this.gl.uniform2f(f.offsetVector, -e.x, -e.y);
        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, a.vertsBuffer);
        this.gl.vertexAttribPointer(f.aVertexPosition, 2, this.gl.FLOAT, !1, 8, 0);
        this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, a.indexBuffer)
    },
    pushBucket: function(a, b, c, d) {
        0 == this.bucketStack.length && (this.gl.enable(this.gl.STENCIL_TEST), this.gl.clear(this.gl.STENCIL_BUFFER_BIT), this.gl.stencilMask(255));
        this.bucketStack.push(a);
        this.gl.colorMask(!1, !1, !1, !1);
        this.gl.stencilFunc(this.gl.NEVER, 1, 255);
        this.gl.stencilOp(this.gl.INVERT, this.gl.KEEP, this.gl.KEEP);
        this.gl.clear(this.gl.STENCIL_BUFFER_BIT);
        var e = 0;
        for (a = a.data; e < a.length;) {
            var f = a[e];
            ++e;
            f.destroyed || (this.prepareGraphics(f, b, c, d), this.gl.drawElements(f.drawMode, f.glIndices.length, this.gl.UNSIGNED_SHORT, 0))
        }
        this.gl.colorMask(!0, !0, !0, !0);
        this.gl.stencilOp(this.gl.KEEP, this.gl.KEEP, this.gl.KEEP);
        this.gl.stencilFunc(this.gl.EQUAL, 255, 255)
    },
    popBucket: function(a, b, c) {
        this.bucketStack.pop();
        0 == this.bucketStack.length && this.gl.disable(this.gl.STENCIL_TEST)
    },
    setContext: function(a) {
        this.gl = a
    },
    __class__: Ci
};
var Zf = function() {
    this.__mouseOutStack = [];
    Bb.call(this);
    Z.application = this
};
h["openfl.display.Application"] = Zf;
Zf.__name__ = ["openfl", "display", "Application"];
Zf.__super__ = Bb;
Zf.prototype = v(Bb.prototype, {
    convertKeyCode: function(a) {
        switch (a) {
            case 8:
                return 8;
            case 9:
                return 9;
            case 13:
                return 13;
            case 27:
                return 27;
            case 32:
                return 32;
            case 39:
                return 222;
            case 44:
                return 188;
            case 45:
                return 189;
            case 46:
                return 190;
            case 47:
                return 191;
            case 48:
                return 48;
            case 49:
                return 49;
            case 50:
                return 50;
            case 51:
                return 51;
            case 52:
                return 52;
            case 53:
                return 53;
            case 54:
                return 54;
            case 55:
                return 55;
            case 56:
                return 56;
            case 57:
                return 57;
            case 59:
                return 186;
            case 61:
                return 187;
            case 91:
                return 219;
            case 92:
                return 220;
            case 93:
                return 221;
            case 96:
                return 192;
            case 97:
                return 65;
            case 98:
                return 66;
            case 99:
                return 67;
            case 100:
                return 68;
            case 101:
                return 69;
            case 102:
                return 70;
            case 103:
                return 71;
            case 104:
                return 72;
            case 105:
                return 73;
            case 106:
                return 74;
            case 107:
                return 75;
            case 108:
                return 76;
            case 109:
                return 77;
            case 110:
                return 78;
            case 111:
                return 79;
            case 112:
                return 80;
            case 113:
                return 81;
            case 114:
                return 82;
            case 115:
                return 83;
            case 116:
                return 84;
            case 117:
                return 85;
            case 118:
                return 86;
            case 119:
                return 87;
            case 120:
                return 88;
            case 121:
                return 89;
            case 122:
                return 90;
            case 127:
                return 46;
            case 1073741881:
                return 20;
            case 1073741882:
                return 112;
            case 1073741883:
                return 113;
            case 1073741884:
                return 114;
            case 1073741885:
                return 115;
            case 1073741886:
                return 116;
            case 1073741887:
                return 117;
            case 1073741888:
                return 118;
            case 1073741889:
                return 119;
            case 1073741890:
                return 120;
            case 1073741891:
                return 121;
            case 1073741892:
                return 122;
            case 1073741893:
                return 123;
            case 1073741897:
                return 45;
            case 1073741898:
                return 36;
            case 1073741899:
                return 33;
            case 1073741901:
                return 35;
            case 1073741902:
                return 34;
            case 1073741903:
                return 39;
            case 1073741904:
                return 37;
            case 1073741905:
                return 40;
            case 1073741906:
                return 38;
            case 1073741908:
                return 111;
            case 1073741909:
                return 106;
            case 1073741910:
                return 109;
            case 1073741911:
                return 107;
            case 1073741912:
                return 108;
            case 1073741913:
                return 97;
            case 1073741914:
                return 98;
            case 1073741915:
                return 99;
            case 1073741916:
                return 100;
            case 1073741917:
                return 101;
            case 1073741918:
                return 102;
            case 1073741919:
                return 103;
            case 1073741920:
                return 104;
            case 1073741921:
                return 105;
            case 1073741922:
                return 96;
            case 1073741923:
                return 110;
            case 1073741928:
                return 124;
            case 1073741929:
                return 125;
            case 1073741930:
                return 126;
            case 1073742048:
                return 17;
            case 1073742049:
                return 16;
            case 1073742050:
                return 18;
            case 1073742052:
                return 17;
            case 1073742053:
                return 16;
            case 1073742054:
                return 18;
            default:
                return a
        }
    },
    create: function(a) {
        Bb.prototype.create.call(this, a);
        this.stage = new rh(this.windows[0].__width, this.windows[0].__height, a.background);
        this.stage.addChild(Z.current);
        this.stage.align = Ka.TOP_LEFT;
        this.stage.scaleMode = Hb.NO_SCALE
    },
    onKey: function(a) {
        var b = [];
        null == this.stage.__focus ? this.stage.__getInteractive(b) : this.stage.__focus.__getInteractive(b);
        0 < b.length && (b.reverse(), this.stage.__fireEvent(a, b))
    },
    onKeyDown: function(a, b) {
        var c = this.convertKeyCode(a);
        this.onKey(new Pd(Pd.KEY_DOWN, !0, !1, c, c, null, pc.get_ctrlKey(b), pc.get_altKey(b), pc.get_shiftKey(b), pc.get_metaKey(b)))
    },
    onKeyUp: function(a, b) {
        var c = this.convertKeyCode(a);
        this.onKey(new Pd(Pd.KEY_UP, !0, !1, c, c, null, pc.get_ctrlKey(b), pc.get_altKey(b), pc.get_shiftKey(b), pc.get_metaKey(b)))
    },
    onMouse: function(a, b, c, d) {
        if (!(2 < d)) {
            this.stage.__mouseX = b;
            this.stage.__mouseY = c;
            var e = [],
                f = null,
                k = new Ga(b, c);
            this.stage.__hitTest(b, c, !1, e, !0) ? f = e[e.length - 1] :
                (f = this.stage, e = [this.stage]);
            this.stage.__fireEvent(N.__create(a, d, f == this.stage ? k : f.globalToLocal(k), f), e);
            switch (a) {
                case N.MOUSE_UP:
                    b = N.CLICK;
                    break;
                case N.MIDDLE_MOUSE_UP:
                    b = N.MIDDLE_CLICK;
                    break;
                case N.RIGHT_MOUSE_UP:
                    b = N.RIGHT_CLICK;
                    break;
                default:
                    b = null
            }
            null != b && (this.stage.__fireEvent(N.__create(b, d, f == this.stage ? k : f.globalToLocal(k), f), e), a == N.MOUSE_UP && D.__cast(f, Lb).doubleClickEnabled && (a = Z.getTimer(), 500 > a - this.__lastClickTime ? (this.stage.__fireEvent(N.__create(N.DOUBLE_CLICK, d, f == this.stage ?
                k : f.globalToLocal(k), f), e), this.__lastClickTime = 0) : this.__lastClickTime = a));
            D.__instanceof(f, A) ? (d = f, d.buttonMode && d.useHandCursor ? fe.set_cursor(Y.POINTER) : fe.set_cursor(Y.ARROW)) : D.__instanceof(f, sh) ? f.useHandCursor ? fe.set_cursor(Y.POINTER) : fe.set_cursor(Y.ARROW) : D.__instanceof(f, Ua) ? f.type == pd.INPUT ? fe.set_cursor(Y.TEXT) : fe.set_cursor(Y.ARROW) : fe.set_cursor(Y.ARROW);
            d = 0;
            for (f = this.__mouseOutStack; d < f.length;) a = f[d], ++d, -1 == J.indexOf(e, a, 0) && (J.remove(this.__mouseOutStack, a), b = a.globalToLocal(k),
                a.dispatchEvent(new N(N.MOUSE_OUT, !1, !1, b.x, b.y, a)));
            for (d = 0; d < e.length;) f = e[d], ++d, -1 == J.indexOf(this.__mouseOutStack, f, 0) && (f.hasEventListener(N.MOUSE_OVER) && (a = f.globalToLocal(k), f.dispatchEvent(new N(N.MOUSE_OVER, !1, !1, a.x, a.y, f))), f.hasEventListener(N.MOUSE_OUT) && this.__mouseOutStack.push(f));
            null != this.stage.__dragObject && this.stage.__drag(k)
        }
    },
    onMouseDown: function(a, b, c) {
        var d;
        switch (c) {
            case 1:
                d = N.MIDDLE_MOUSE_DOWN;
                break;
            case 2:
                d = N.RIGHT_MOUSE_DOWN;
                break;
            default:
                d = N.MOUSE_DOWN
        }
        this.onMouse(d,
            a, b, c)
    },
    onMouseMove: function(a, b, c) {
        this.onMouse(N.MOUSE_MOVE, a, b, 0)
    },
    onMouseUp: function(a, b, c) {
        var d;
        switch (c) {
            case 1:
                d = N.MIDDLE_MOUSE_UP;
                break;
            case 2:
                d = N.RIGHT_MOUSE_UP;
                break;
            default:
                d = N.MOUSE_UP
        }
        this.onMouse(d, a, b, c)
    },
    onTouch: function(a, b, c, d) {
        var e = new Ga(b, c);
        this.stage.__mouseX = e.x;
        this.stage.__mouseY = e.y;
        var f = [],
            k;
        switch (a) {
            case "touchBegin":
                k = N.MOUSE_DOWN;
                break;
            case "touchMove":
                k = N.MOUSE_MOVE;
                break;
            case "touchEnd":
                k = N.MOUSE_UP;
                break;
            default:
                k = null
        }
        if (this.stage.__hitTest(b, c, !1, f, !0)) {
            c =
                f[f.length - 1];
            var g = c.globalToLocal(e);
            b = Ke.__create(a, null, g, c);
            b.touchPointID = d;
            b.isPrimaryTouchPoint = !0;
            d = N.__create(k, 0, g, c);
            d.buttonDown = "touchEnd" != a;
            this.stage.__fireEvent(b, f);
            this.stage.__fireEvent(d, f)
        } else f = Ke.__create(a, null, e, this.stage), f.touchPointID = d, f.isPrimaryTouchPoint = !0, d = N.__create(k, 0, e, this.stage), d.buttonDown = "touchEnd" != a, this.stage.__fireEvent(f, [this.stage]), this.stage.__fireEvent(d, [this.stage]);
        "touchMove" == a && null != this.stage.__dragObject && this.stage.__drag(e)
    },
    onTouchMove: function(a,
        b, c) {
        this.onTouch("touchMove", a, b, c)
    },
    onTouchEnd: function(a, b, c) {
        this.onTouch("touchEnd", a, b, c)
    },
    onTouchStart: function(a, b, c) {
        this.onTouch("touchBegin", a, b, c)
    },
    onWindowActivate: function() {
        var a = new z(z.ACTIVATE);
        this.stage.__broadcast(a, !0)
    },
    onWindowDeactivate: function() {
        var a = new z(z.DEACTIVATE);
        this.stage.__broadcast(a, !0)
    },
    onWindowResize: function(a, b) {
        this.stage.stageWidth = a;
        this.stage.stageHeight = b;
        var c = new z(z.RESIZE);
        this.stage.__broadcast(c, !1)
    },
    render: function(a) {
        this.stage.__render(a)
    },
    __class__: Zf
});
var Xb = function(a, b, c) {
    null == c && (c = !1);
    Ra.call(this);
    this.bitmapData = a;
    this.pixelSnapping = b;
    this.smoothing = c;
    null == b && (this.pixelSnapping = Id.AUTO)
};
h["openfl.display.Bitmap"] = Xb;
Xb.__name__ = ["openfl", "display", "Bitmap"];
Xb.__super__ = Ra;
Xb.prototype = v(Ra.prototype, {
    __getBounds: function(a, b) {
        if (null != this.bitmapData) {
            var c = new ib(0, 0, this.bitmapData.width, this.bitmapData.height),
                c = c.transform(this.__worldTransform);
            a.__expand(c.x, c.y, c.width, c.height)
        }
    },
    __hitTest: function(a, b, c, d, e) {
        if (!this.get_visible() ||
            null == this.bitmapData) return !1;
        a = this.globalToLocal(new Ga(a, b));
        return 0 < a.x && 0 < a.y && a.x <= this.bitmapData.width && a.y <= this.bitmapData.height ? (null == d || e || d.push(this), !0) : !1
    },
    __renderCanvas: function(a) {
        Bj.render(this, a)
    },
    __renderDOM: function(a) {
        null != this.stage && this.__worldVisible && this.__renderable && null != this.bitmapData && this.bitmapData.__isValid ? null != this.bitmapData.__image.buffer.__srcImage ? hh.renderImage(this, a) : hh.renderCanvas(this, a) : (null != this.__image && (a.element.removeChild(this.__image),
            this.__style = this.__image = null), null != this.__canvas && (a.element.removeChild(this.__canvas), this.__style = this.__canvas = null))
    },
    __renderGL: function(a) {
        Cj.render(this, a)
    },
    __renderMask: function(a) {
        a.context.rect(0, 0, this.get_width(), this.get_height())
    },
    get_height: function() {
        return null != this.bitmapData ? this.bitmapData.height * this.get_scaleY() : 0
    },
    get_width: function() {
        return null != this.bitmapData ? this.bitmapData.width * this.get_scaleX() : 0
    },
    __class__: Xb
});
var rf = function() {
    this.x0 = this.x1 = this.x2 = this.x3 =
        this.y0 = this.y1 = this.y2 = this.y3 = 0
};
h["openfl.display.TextureUvs"] = rf;
rf.__name__ = ["openfl", "display", "TextureUvs"];
rf.prototype = {
    __class__: rf
};
var L = h["openfl.display.BlendMode"] = {
    __ename__: ["openfl", "display", "BlendMode"],
    __constructs__: "ADD ALPHA DARKEN DIFFERENCE ERASE HARDLIGHT INVERT LAYER LIGHTEN MULTIPLY NORMAL OVERLAY SCREEN SUBTRACT".split(" ")
};
L.ADD = ["ADD", 0];
L.ADD.toString = w;
L.ADD.__enum__ = L;
L.ALPHA = ["ALPHA", 1];
L.ALPHA.toString = w;
L.ALPHA.__enum__ = L;
L.DARKEN = ["DARKEN", 2];
L.DARKEN.toString =
    w;
L.DARKEN.__enum__ = L;
L.DIFFERENCE = ["DIFFERENCE", 3];
L.DIFFERENCE.toString = w;
L.DIFFERENCE.__enum__ = L;
L.ERASE = ["ERASE", 4];
L.ERASE.toString = w;
L.ERASE.__enum__ = L;
L.HARDLIGHT = ["HARDLIGHT", 5];
L.HARDLIGHT.toString = w;
L.HARDLIGHT.__enum__ = L;
L.INVERT = ["INVERT", 6];
L.INVERT.toString = w;
L.INVERT.__enum__ = L;
L.LAYER = ["LAYER", 7];
L.LAYER.toString = w;
L.LAYER.__enum__ = L;
L.LIGHTEN = ["LIGHTEN", 8];
L.LIGHTEN.toString = w;
L.LIGHTEN.__enum__ = L;
L.MULTIPLY = ["MULTIPLY", 9];
L.MULTIPLY.toString = w;
L.MULTIPLY.__enum__ = L;
L.NORMAL = ["NORMAL",
    10
];
L.NORMAL.toString = w;
L.NORMAL.__enum__ = L;
L.OVERLAY = ["OVERLAY", 11];
L.OVERLAY.toString = w;
L.OVERLAY.__enum__ = L;
L.SCREEN = ["SCREEN", 12];
L.SCREEN.toString = w;
L.SCREEN.__enum__ = L;
L.SUBTRACT = ["SUBTRACT", 13];
L.SUBTRACT.toString = w;
L.SUBTRACT.__enum__ = L;
var Jc = h["openfl.display.CapsStyle"] = {
    __ename__: ["openfl", "display", "CapsStyle"],
    __constructs__: ["NONE", "ROUND", "SQUARE"]
};
Jc.NONE = ["NONE", 0];
Jc.NONE.toString = w;
Jc.NONE.__enum__ = Jc;
Jc.ROUND = ["ROUND", 1];
Jc.ROUND.toString = w;
Jc.ROUND.__enum__ = Jc;
Jc.SQUARE = ["SQUARE",
    2
];
Jc.SQUARE.toString = w;
Jc.SQUARE.__enum__ = Jc;
var Hi = function() {};
h["openfl.display.FrameLabel"] = Hi;
Hi.__name__ = ["openfl", "display", "FrameLabel"];
Hi.__super__ = na;
Hi.prototype = v(na.prototype, {
    __class__: Hi
});
var Hh = function() {
    this.__visible = !0;
    this.__glStack = [];
    this.__dirty = !0;
    this.__commands = [];
    this.__commands = [];
    this.__positionY = this.__positionX = this.__halfStrokeWidth = 0
};
h["openfl.display.Graphics"] = Hh;
Hh.__name__ = ["openfl", "display", "Graphics"];
Hh.prototype = {
    beginFill: function(a, b) {
        null == b && (b = 1);
        null == a && (a = 0);
        this.__commands.push(ua.BeginFill(a & 16777215, b));
        0 < b && (this.__visible = !0)
    },
    clear: function() {
        this.__commands = [];
        this.__halfStrokeWidth = 0;
        null != this.__bounds && (this.__transformDirty = this.__dirty = !0, this.__bounds = null);
        this.__visible = !1
    },
    drawCircle: function(a, b, c) {
        0 >= c || (this.__inflateBounds(a - c - this.__halfStrokeWidth, b - c - this.__halfStrokeWidth), this.__inflateBounds(a + c + this.__halfStrokeWidth, b + c + this.__halfStrokeWidth), this.__commands.push(ua.DrawCircle(a, b, c)), this.__dirty = !0)
    },
    drawRect: function(a,
        b, c, d) {
        0 >= c || 0 >= d || (this.__inflateBounds(a - this.__halfStrokeWidth, b - this.__halfStrokeWidth), this.__inflateBounds(a + c + this.__halfStrokeWidth, b + d + this.__halfStrokeWidth), this.__commands.push(ua.DrawRect(a, b, c, d)), this.__dirty = !0)
    },
    drawTiles: function(a, b, c, d, e) {
        null == e && (e = -1);
        null == d && (d = 0);
        null == c && (c = !1);
        this.__inflateBounds(0, 0);
        this.__inflateBounds(Z.current.stage.stageWidth, Z.current.stage.stageHeight);
        this.__commands.push(ua.DrawTiles(a, b, c, d, e));
        this.__visible = this.__dirty = !0
    },
    endFill: function() {
        this.__commands.push(ua.EndFill)
    },
    lineStyle: function(a, b, c, d, e, f, k, g) {
        this.__halfStrokeWidth = null != a ? a / 2 : 0;
        this.__commands.push(ua.LineStyle(a, b, c, d, e, f, k, g));
        null != a && (this.__visible = !0)
    },
    lineTo: function(a, b) {
        this.__inflateBounds(this.__positionX - this.__halfStrokeWidth, this.__positionY - this.__halfStrokeWidth);
        this.__inflateBounds(this.__positionX + this.__halfStrokeWidth, this.__positionY + this.__halfStrokeWidth);
        this.__positionX = a;
        this.__positionY = b;
        this.__inflateBounds(this.__positionX - this.__halfStrokeWidth, this.__positionY - this.__halfStrokeWidth);
        this.__inflateBounds(this.__positionX + this.__halfStrokeWidth, this.__positionY + this.__halfStrokeWidth);
        this.__commands.push(ua.LineTo(a, b));
        this.__dirty = !0
    },
    moveTo: function(a, b) {
        this.__positionX = a;
        this.__positionY = b;
        this.__commands.push(ua.MoveTo(a, b))
    },
    __getBounds: function(a, b) {
        if (null != this.__bounds) {
            var c = this.__bounds.clone().transform(b);
            a.__expand(c.x, c.y, c.width, c.height)
        }
    },
    __hitTest: function(a, b, c, d) {
        if (null == this.__bounds) return !1;
        c = this.__bounds.clone().transform(d);
        return a > c.x && b > c.y &&
            a <= c.get_right() && b <= c.get_bottom()
    },
    __inflateBounds: function(a, b) {
        null == this.__bounds ? (this.__bounds = new ib(a, b, 0, 0), this.__transformDirty = !0) : (a < this.__bounds.x && (this.__bounds.width += this.__bounds.x - a, this.__bounds.x = a, this.__transformDirty = !0), b < this.__bounds.y && (this.__bounds.height += this.__bounds.y - b, this.__bounds.y = b, this.__transformDirty = !0), a > this.__bounds.x + this.__bounds.width && (this.__bounds.width = a - this.__bounds.x), b > this.__bounds.y + this.__bounds.height && (this.__bounds.height = b - this.__bounds.y))
    },
    __class__: Hh
};
var ua = h["openfl.display.DrawCommand"] = {
    __ename__: ["openfl", "display", "DrawCommand"],
    __constructs__: "BeginBitmapFill BeginFill CubicCurveTo CurveTo DrawCircle DrawEllipse DrawRect DrawRoundRect DrawTiles DrawTriangles EndFill LineStyle LineTo MoveTo".split(" ")
};
ua.BeginBitmapFill = function(a, b, c, d) {
    a = ["BeginBitmapFill", 0, a, b, c, d];
    a.__enum__ = ua;
    a.toString = w;
    return a
};
ua.BeginFill = function(a, b) {
    var c = ["BeginFill", 1, a, b];
    c.__enum__ = ua;
    c.toString = w;
    return c
};
ua.CubicCurveTo = function(a, b,
    c, d, e, f) {
    a = ["CubicCurveTo", 2, a, b, c, d, e, f];
    a.__enum__ = ua;
    a.toString = w;
    return a
};
ua.CurveTo = function(a, b, c, d) {
    a = ["CurveTo", 3, a, b, c, d];
    a.__enum__ = ua;
    a.toString = w;
    return a
};
ua.DrawCircle = function(a, b, c) {
    a = ["DrawCircle", 4, a, b, c];
    a.__enum__ = ua;
    a.toString = w;
    return a
};
ua.DrawEllipse = function(a, b, c, d) {
    a = ["DrawEllipse", 5, a, b, c, d];
    a.__enum__ = ua;
    a.toString = w;
    return a
};
ua.DrawRect = function(a, b, c, d) {
    a = ["DrawRect", 6, a, b, c, d];
    a.__enum__ = ua;
    a.toString = w;
    return a
};
ua.DrawRoundRect = function(a, b, c, d, e, f) {
    a = ["DrawRoundRect",
        7, a, b, c, d, e, f
    ];
    a.__enum__ = ua;
    a.toString = w;
    return a
};
ua.DrawTiles = function(a, b, c, d, e) {
    a = ["DrawTiles", 8, a, b, c, d, e];
    a.__enum__ = ua;
    a.toString = w;
    return a
};
ua.DrawTriangles = function(a, b, c, d, e, f) {
    a = ["DrawTriangles", 9, a, b, c, d, e, f];
    a.__enum__ = ua;
    a.toString = w;
    return a
};
ua.EndFill = ["EndFill", 10];
ua.EndFill.toString = w;
ua.EndFill.__enum__ = ua;
ua.LineStyle = function(a, b, c, d, e, f, k, g) {
    a = ["LineStyle", 11, a, b, c, d, e, f, k, g];
    a.__enum__ = ua;
    a.toString = w;
    return a
};
ua.LineTo = function(a, b) {
    var c = ["LineTo", 12, a, b];
    c.__enum__ =
        ua;
    c.toString = w;
    return c
};
ua.MoveTo = function(a, b) {
    var c = ["MoveTo", 13, a, b];
    c.__enum__ = ua;
    c.toString = w;
    return c
};
var Kc = h["openfl.display.JointStyle"] = {
    __ename__: ["openfl", "display", "JointStyle"],
    __constructs__: ["MITER", "ROUND", "BEVEL"]
};
Kc.MITER = ["MITER", 0];
Kc.MITER.toString = w;
Kc.MITER.__enum__ = Kc;
Kc.ROUND = ["ROUND", 1];
Kc.ROUND.toString = w;
Kc.ROUND.__enum__ = Kc;
Kc.BEVEL = ["BEVEL", 2];
Kc.BEVEL.toString = w;
Kc.BEVEL.__enum__ = Kc;
var ma = h["openfl.display.LineScaleMode"] = {
    __ename__: ["openfl", "display", "LineScaleMode"],
    __constructs__: ["HORIZONTAL", "NONE", "NORMAL", "VERTICAL"]
};
ma.HORIZONTAL = ["HORIZONTAL", 0];
ma.HORIZONTAL.toString = w;
ma.HORIZONTAL.__enum__ = ma;
ma.NONE = ["NONE", 1];
ma.NONE.toString = w;
ma.NONE.__enum__ = ma;
ma.NORMAL = ["NORMAL", 2];
ma.NORMAL.toString = w;
ma.NORMAL.__enum__ = ma;
ma.VERTICAL = ["VERTICAL", 3];
ma.VERTICAL.toString = w;
ma.VERTICAL.__enum__ = ma;
var Ii = function() {};
h["openfl.display.Loader"] = Ii;
Ii.__name__ = ["openfl", "display", "Loader"];
Ii.__super__ = A;
Ii.prototype = v(A.prototype, {
    __class__: Ii
});
var Id = h["openfl.display.PixelSnapping"] = {
    __ename__: ["openfl", "display", "PixelSnapping"],
    __constructs__: ["NEVER", "AUTO", "ALWAYS"]
};
Id.NEVER = ["NEVER", 0];
Id.NEVER.toString = w;
Id.NEVER.__enum__ = Id;
Id.AUTO = ["AUTO", 1];
Id.AUTO.toString = w;
Id.AUTO.__enum__ = Id;
Id.ALWAYS = ["ALWAYS", 2];
Id.ALWAYS.toString = w;
Id.ALWAYS.__enum__ = Id;
var $f = function(a) {
    Sa.call(this);
    if (null != a && (this.display = a, Z.current.addChild(a), D.__instanceof(a, Uc))) D.__cast(a, Uc).onInit()
};
h["openfl.display.Preloader"] = $f;
$f.__name__ = ["openfl", "display", "Preloader"];
$f.__super__ = Sa;
$f.prototype =
    v(Sa.prototype, {
        load: function(a, b) {
            var c = [],
                d = null,
                e = this.display,
                f = !1,
                k = null;
            1 == Q.isFunction(Q.field(e, "needLoad")) && (f = !0, k = Q.field(e, "needLoad"));
            for (var e = 0, g = a.length; e < g;) {
                var n = e++,
                    d = a[n];
                if (1 != f || 0 != k(d)) switch (b[n]) {
                    case "MUSIC":
                    case "SOUND":
                        d = Ue.withoutExtension(d), J.remove(c, d) || this.total++, c.push(d)
                }
            }
            for (f = 0; f < c.length;) k = c[f], ++f, e = new ue, e.addEventListener(z.COMPLETE, l(this, this.sound_onComplete)), e.addEventListener(Jd.IO_ERROR, l(this, this.sound_onIOError)), e.load(new vf(k + ".ogg"));
            Sa.prototype.load.call(this, a, b)
        },
        start: function() {
            null != this.display && D.__instanceof(this.display, Uc) ? (this.display.addEventListener(z.COMPLETE, l(this, this.display_onComplete)), D.__cast(this.display, Uc).onLoaded()) : Sa.prototype.start.call(this)
        },
        update: function(a, b) {
            if (null != this.display && D.__instanceof(this.display, Uc)) D.__cast(this.display, Uc).onUpdate(a, b)
        },
        display_onComplete: function(a) {
            this.display.removeEventListener(z.COMPLETE, l(this, this.display_onComplete));
            Z.current.removeChild(this.display);
            Z.current.stage.set_focus(null);
            this.display = null;
            Sa.prototype.start.call(this)
        },
        sound_onComplete: function(a) {
            this.loaded++;
            this.update(this.loaded, this.total);
            this.loaded == this.total && this.start()
        },
        sound_onIOError: function(a) {
            this.loaded++;
            this.update(this.loaded, this.total);
            this.loaded == this.total && this.start()
        },
        __class__: $f
    });
var sh = function() {};
h["openfl.display.SimpleButton"] = sh;
sh.__name__ = ["openfl", "display", "SimpleButton"];
sh.__super__ = Ra;
sh.prototype = v(Ra.prototype, {
    __class__: sh
});
var rh =
    function(a, b, c) {
        this.__mouseX = this.__mouseY = 0;
        A.call(this);
        null == c ? (this.__transparent = !0, this.set_color(0)) : this.set_color(c);
        this.set_name(null);
        this.__mouseY = this.__mouseX = 0;
        this.stageWidth = a;
        this.stageHeight = b;
        this.stage = this;
        this.align = Ka.TOP_LEFT;
        this.allowsFullScreen = !1;
        this.set_displayState(vd.NORMAL);
        this.frameRate = 60;
        this.quality = Pb.HIGH;
        this.scaleMode = Hb.NO_SCALE;
        this.__clearBeforeRender = this.stageFocusRect = !0;
        this.__stack = [];
        a = new ce;
        a.data = [];
        a.length = 0;
        a.fixed = !1;
        a = this.stage3Ds = a;
        b =
            new th;
        a.fixed || (a.length++, a.data.length < a.length && (c = Array(a.data.length + 10), bc.blit(a.data, 0, c, 0, a.data.length), a.data = c), a.data[a.length - 1] = b);
        a.length
    };
h["openfl.display.Stage"] = rh;
rh.__name__ = ["openfl", "display", "Stage"];
rh.__super__ = A;
rh.prototype = v(A.prototype, {
    globalToLocal: function(a) {
        return a
    },
    localToGlobal: function(a) {
        return a
    },
    __drag: function(a) {
        var b = this.__dragObject.parent;
        null != b && (a = b.globalToLocal(a));
        b = a.x + this.__dragOffsetX;
        a = a.y + this.__dragOffsetY;
        null != this.__dragBounds && (b <
            this.__dragBounds.x ? b = this.__dragBounds.x : b > this.__dragBounds.get_right() && (b = this.__dragBounds.get_right()), a < this.__dragBounds.y ? a = this.__dragBounds.y : a > this.__dragBounds.get_bottom() && (a = this.__dragBounds.get_bottom()));
        this.__dragObject.set_x(b);
        this.__dragObject.set_y(a)
    },
    __fireEvent: function(a, b) {
        var c = b.length;
        if (0 == c) a.eventPhase = wb.AT_TARGET, a.target.__broadcast(a, !1);
        else {
            a.eventPhase = wb.CAPTURING_PHASE;
            a.target = b[b.length - 1];
            for (var d = 0, e = c - 1; d < e;) {
                var f = d++;
                b[f].__broadcast(a, !1);
                if (a.__isCancelled) return
            }
            a.eventPhase =
                wb.AT_TARGET;
            a.target.__broadcast(a, !1);
            if (!a.__isCancelled && a.bubbles)
                for (a.eventPhase = wb.BUBBLING_PHASE, c -= 2; 0 <= c;) {
                    b[c].__broadcast(a, !1);
                    if (a.__isCancelled) break;
                    c--
                }
        }
    },
    __getInteractive: function(a) {
        a.push(this)
    },
    __render: function(a) {
        this.__broadcast(new z(z.ENTER_FRAME), !0);
        this.__invalidated && (this.__invalidated = !1, this.__broadcast(new z(z.RENDER), !0));
        this.__renderable = !0;
        this.__update(!1, !0);
        switch (a[1]) {
            case 0:
                a = a[2];
                null == this.__renderer && (this.__renderer = new Ha(this.stageWidth, this.stageHeight,
                    a));
                this.__renderer.render(this);
                break;
            case 1:
                a = a[2];
                null == this.__renderer && (this.__renderer = new gh(this.stageWidth, this.stageHeight, a));
                this.__renderer.render(this);
                break;
            case 2:
                a = a[2], null == this.__renderer && (this.__renderer = new Ic(this.stageWidth, this.stageHeight, a)), this.__renderer.render(this)
        }
    },
    __update: function(a, b) {
        if (a) 0 < ia.__worldTransformDirty && (A.prototype.__update.call(this, !0, b), b && (ia.__worldTransformDirty = 0, this.__dirty = !0));
        else if (0 < ia.__worldTransformDirty || this.__dirty || 0 < ia.__worldRenderDirty) A.prototype.__update.call(this, !1, b), b && (ia.__worldTransformDirty = 0, ia.__worldRenderDirty = 0, this.__dirty = !1)
    },
    get_mouseX: function() {
        return this.__mouseX
    },
    get_mouseY: function() {
        return this.__mouseY
    },
    set_color: function(a) {
        this.__colorSplit = [((a & 16711680) >>> 16) / 255, ((a & 65280) >>> 8) / 255, (a & 255) / 255];
        this.__colorString = "#" + va.hex(a, 6);
        return this.__color = a
    },
    set_focus: function(a) {
        if (a != this.__focus) {
            if (null != this.__focus) {
                var b = new cc(cc.FOCUS_OUT, !0, !1, a, !1, 0);
                this.__stack = [];
                this.__focus.__getInteractive(this.__stack);
                this.__stack.reverse();
                this.__fireEvent(b, this.__stack)
            }
            null != a && (b = new cc(cc.FOCUS_IN, !0, !1, this.__focus, !1, 0), this.__stack = [], a.__getInteractive(this.__stack), this.__stack.reverse(), this.__fireEvent(b, this.__stack));
            this.__focus = a
        }
        return this.__focus
    },
    set_displayState: function(a) {
        return this.displayState = a
    },
    __class__: rh,
    __properties__: v(A.prototype.__properties__, {
        set_focus: "set_focus",
        set_color: "set_color",
        set_displayState: "set_displayState"
    })
});
var th = function() {
    na.call(this)
};
h["openfl.display.Stage3D"] = th;
th.__name__ = ["openfl", "display", "Stage3D"];
th.__super__ = na;
th.prototype = v(na.prototype, {
    __class__: th
});
var Ka = h["openfl.display.StageAlign"] = {
    __ename__: ["openfl", "display", "StageAlign"],
    __constructs__: "TOP_RIGHT TOP_LEFT TOP RIGHT LEFT BOTTOM_RIGHT BOTTOM_LEFT BOTTOM".split(" ")
};
Ka.TOP_RIGHT = ["TOP_RIGHT", 0];
Ka.TOP_RIGHT.toString = w;
Ka.TOP_RIGHT.__enum__ = Ka;
Ka.TOP_LEFT = ["TOP_LEFT", 1];
Ka.TOP_LEFT.toString = w;
Ka.TOP_LEFT.__enum__ = Ka;
Ka.TOP = ["TOP", 2];
Ka.TOP.toString = w;
Ka.TOP.__enum__ = Ka;
Ka.RIGHT = ["RIGHT", 3];
Ka.RIGHT.toString =
    w;
Ka.RIGHT.__enum__ = Ka;
Ka.LEFT = ["LEFT", 4];
Ka.LEFT.toString = w;
Ka.LEFT.__enum__ = Ka;
Ka.BOTTOM_RIGHT = ["BOTTOM_RIGHT", 5];
Ka.BOTTOM_RIGHT.toString = w;
Ka.BOTTOM_RIGHT.__enum__ = Ka;
Ka.BOTTOM_LEFT = ["BOTTOM_LEFT", 6];
Ka.BOTTOM_LEFT.toString = w;
Ka.BOTTOM_LEFT.__enum__ = Ka;
Ka.BOTTOM = ["BOTTOM", 7];
Ka.BOTTOM.toString = w;
Ka.BOTTOM.__enum__ = Ka;
var vd = h["openfl.display.StageDisplayState"] = {
    __ename__: ["openfl", "display", "StageDisplayState"],
    __constructs__: ["NORMAL", "FULL_SCREEN", "FULL_SCREEN_INTERACTIVE"]
};
vd.NORMAL = ["NORMAL",
    0
];
vd.NORMAL.toString = w;
vd.NORMAL.__enum__ = vd;
vd.FULL_SCREEN = ["FULL_SCREEN", 1];
vd.FULL_SCREEN.toString = w;
vd.FULL_SCREEN.__enum__ = vd;
vd.FULL_SCREEN_INTERACTIVE = ["FULL_SCREEN_INTERACTIVE", 2];
vd.FULL_SCREEN_INTERACTIVE.toString = w;
vd.FULL_SCREEN_INTERACTIVE.__enum__ = vd;
var Pb = h["openfl.display.StageQuality"] = {
    __ename__: ["openfl", "display", "StageQuality"],
    __constructs__: ["BEST", "HIGH", "MEDIUM", "LOW"]
};
Pb.BEST = ["BEST", 0];
Pb.BEST.toString = w;
Pb.BEST.__enum__ = Pb;
Pb.HIGH = ["HIGH", 1];
Pb.HIGH.toString = w;
Pb.HIGH.__enum__ =
    Pb;
Pb.MEDIUM = ["MEDIUM", 2];
Pb.MEDIUM.toString = w;
Pb.MEDIUM.__enum__ = Pb;
Pb.LOW = ["LOW", 3];
Pb.LOW.toString = w;
Pb.LOW.__enum__ = Pb;
var Hb = h["openfl.display.StageScaleMode"] = {
    __ename__: ["openfl", "display", "StageScaleMode"],
    __constructs__: ["SHOW_ALL", "NO_SCALE", "NO_BORDER", "EXACT_FIT"]
};
Hb.SHOW_ALL = ["SHOW_ALL", 0];
Hb.SHOW_ALL.toString = w;
Hb.SHOW_ALL.__enum__ = Hb;
Hb.NO_SCALE = ["NO_SCALE", 1];
Hb.NO_SCALE.toString = w;
Hb.NO_SCALE.__enum__ = Hb;
Hb.NO_BORDER = ["NO_BORDER", 2];
Hb.NO_BORDER.toString = w;
Hb.NO_BORDER.__enum__ =
    Hb;
Hb.EXACT_FIT = ["EXACT_FIT", 3];
Hb.EXACT_FIT.toString = w;
Hb.EXACT_FIT.__enum__ = Hb;
var Kd = h["openfl.display.TriangleCulling"] = {
    __ename__: ["openfl", "display", "TriangleCulling"],
    __constructs__: ["NEGATIVE", "NONE", "POSITIVE"]
};
Kd.NEGATIVE = ["NEGATIVE", 0];
Kd.NEGATIVE.toString = w;
Kd.NEGATIVE.__enum__ = Kd;
Kd.NONE = ["NONE", 1];
Kd.NONE.toString = w;
Kd.NONE.__enum__ = Kd;
Kd.POSITIVE = ["POSITIVE", 2];
Kd.POSITIVE.toString = w;
Kd.POSITIVE.__enum__ = Kd;
var uh = function(a, b) {
    null == b && (b = 0);
    null == a && (a = "");
    this.message = a;
    this.errorID =
        b;
    this.name = "Error"
};
h["openfl.errors.Error"] = uh;
uh.__name__ = ["openfl", "errors", "Error"];
uh.prototype = {
    toString: function() {
        return null != this.message ? this.message : "Error"
    },
    __class__: uh
};
var z = function(a, b, c) {
    null == c && (c = !1);
    null == b && (b = !1);
    this.type = a;
    this.bubbles = b;
    this.cancelable = c;
    this.eventPhase = wb.AT_TARGET
};
h["openfl.events.Event"] = z;
z.__name__ = ["openfl", "events", "Event"];
z.prototype = {
    __class__: z
};
var ef = function(a, b, c, d) {
    null == d && (d = "");
    null == c && (c = !1);
    null == b && (b = !1);
    z.call(this, a, b, c);
    this.text =
        d
};
h["openfl.events.TextEvent"] = ef;
ef.__name__ = ["openfl", "events", "TextEvent"];
ef.__super__ = z;
ef.prototype = v(z.prototype, {
    __class__: ef
});
var Ld = function(a, b, c, d, e) {
    null == e && (e = 0);
    null == d && (d = "");
    null == c && (c = !1);
    null == b && (b = !1);
    ef.call(this, a, b, c, d);
    this.errorID = e
};
h["openfl.events.ErrorEvent"] = Ld;
Ld.__name__ = ["openfl", "events", "ErrorEvent"];
Ld.__super__ = ef;
Ld.prototype = v(ef.prototype, {
    __class__: Ld
});
var bg = function(a, b, c) {
    this.callback = a;
    this.useCapture = b;
    this.priority = c
};
h["openfl.events._EventDispatcher.Listener"] =
    bg;
bg.__name__ = ["openfl", "events", "_EventDispatcher", "Listener"];
bg.prototype = {
    match: function(a, b) {
        return Q.compareMethods(this.callback, a) && this.useCapture == b
    },
    __class__: bg
};
var wb = h["openfl.events.EventPhase"] = {
    __ename__: ["openfl", "events", "EventPhase"],
    __constructs__: ["CAPTURING_PHASE", "AT_TARGET", "BUBBLING_PHASE"]
};
wb.CAPTURING_PHASE = ["CAPTURING_PHASE", 0];
wb.CAPTURING_PHASE.toString = w;
wb.CAPTURING_PHASE.__enum__ = wb;
wb.AT_TARGET = ["AT_TARGET", 1];
wb.AT_TARGET.toString = w;
wb.AT_TARGET.__enum__ = wb;
wb.BUBBLING_PHASE = ["BUBBLING_PHASE", 2];
wb.BUBBLING_PHASE.toString = w;
wb.BUBBLING_PHASE.__enum__ = wb;
var cc = function(a, b, c, d, e, f) {
    null == f && (f = 0);
    null == e && (e = !1);
    null == c && (c = !1);
    null == b && (b = !1);
    z.call(this, a, b, c);
    this.keyCode = f;
    this.shiftKey = e;
    this.relatedObject = d
};
h["openfl.events.FocusEvent"] = cc;
cc.__name__ = ["openfl", "events", "FocusEvent"];
cc.__super__ = z;
cc.prototype = v(z.prototype, {
    __class__: cc
});
var ff = function(a, b, c, d) {
    null == d && (d = 0);
    null == c && (c = !1);
    null == b && (b = !1);
    this.status = d;
    z.call(this, a, b, c)
};
h["openfl.events.HTTPStatusEvent"] = ff;
ff.__name__ = ["openfl", "events", "HTTPStatusEvent"];
ff.__super__ = z;
ff.prototype = v(z.prototype, {
    __class__: ff
});
var Jd = function(a, b, c, d, e) {
    null == e && (e = 0);
    null == d && (d = "");
    null == c && (c = !1);
    null == b && (b = !0);
    Ld.call(this, a, b, c, d, e)
};
h["openfl.events.IOErrorEvent"] = Jd;
Jd.__name__ = ["openfl", "events", "IOErrorEvent"];
Jd.__super__ = Ld;
Jd.prototype = v(Ld.prototype, {
    __class__: Jd
});
var Pd = function(a, b, c, d, e, f, k, g, n, h, m) {
    null == m && (m = !1);
    null == h && (h = !1);
    null == n && (n = !1);
    null == g && (g = !1);
    null == k && (k = !1);
    null == e && (e = 0);
    null == d && (d = 0);
    null == c && (c = !1);
    null == b && (b = !1);
    z.call(this, a, b, c);
    this.charCode = d;
    this.keyCode = e;
    this.keyLocation = null != f ? f : 0;
    this.ctrlKey = k;
    this.altKey = g;
    this.shiftKey = n;
    this.controlKey = h;
    this.commandKey = m
};
h["openfl.events.KeyboardEvent"] = Pd;
Pd.__name__ = ["openfl", "events", "KeyboardEvent"];
Pd.__super__ = z;
Pd.prototype = v(z.prototype, {
    __class__: Pd
});
var N = function(a, b, c, d, e, f, k, g, h, y, m, B, l) {
    null == l && (l = 0);
    null == B && (B = !1);
    null == m && (m = 0);
    null == y && (y = !1);
    null == h && (h = !1);
    null == g && (g = !1);
    null == k && (k = !1);
    null == e && (e = 0);
    null == d && (d = 0);
    null == c && (c = !1);
    null == b && (b = !0);
    z.call(this, a, b, c);
    this.shiftKey = h;
    this.altKey = g;
    this.ctrlKey = k;
    this.bubbles = b;
    this.relatedObject = f;
    this.delta = m;
    this.localX = d;
    this.localY = e;
    this.buttonDown = y;
    this.commandKey = B;
    this.clickCount = l
};
h["openfl.events.MouseEvent"] = N;
N.__name__ = ["openfl", "events", "MouseEvent"];
N.__create = function(a, b, c, d) {
    switch (a) {
        case N.MOUSE_DOWN:
        case N.MIDDLE_MOUSE_DOWN:
        case N.RIGHT_MOUSE_DOWN:
            N.__buttonDown[b] = !0;
            break;
        case N.MOUSE_UP:
        case N.MIDDLE_MOUSE_UP:
        case N.RIGHT_MOUSE_UP:
            N.__buttonDown[b] = !1
    }
    a = new N(a, !0, !1, c.x, c.y, null, !1, !1, !1, N.__buttonDown[b], 2);
    a.stageX = Z.current.stage.get_mouseX();
    a.stageY = Z.current.stage.get_mouseY();
    a.target = d;
    return a
};
N.__super__ = z;
N.prototype = v(z.prototype, {
    __class__: N
});
var gf = function(a, b, c, d, e) {
    null == e && (e = 0);
    null == d && (d = 0);
    null == c && (c = !1);
    null == b && (b = !1);
    z.call(this, a, b, c);
    this.bytesLoaded = d;
    this.bytesTotal = e
};
h["openfl.events.ProgressEvent"] = gf;
gf.__name__ = ["openfl", "events",
    "ProgressEvent"
];
gf.__super__ = z;
gf.prototype = v(z.prototype, {
    __class__: gf
});
var hf = function(a, b, c, d, e) {
    null == e && (e = 0);
    null == d && (d = "");
    null == c && (c = !1);
    null == b && (b = !1);
    Ld.call(this, a, b, c, d, e)
};
h["openfl.events.SecurityErrorEvent"] = hf;
hf.__name__ = ["openfl", "events", "SecurityErrorEvent"];
hf.__super__ = Ld;
hf.prototype = v(Ld.prototype, {
    __class__: hf
});
var cb = function(a, b, c) {
    null == c && (c = !1);
    null == b && (b = !1);
    z.call(this, a, b, c)
};
h["openfl.events.TimerEvent"] = cb;
cb.__name__ = ["openfl", "events", "TimerEvent"];
cb.__super__ =
    z;
cb.prototype = v(z.prototype, {
    __class__: cb
});
var Ke = function(a, b, c, d, e, f, k, g, h, y, m, B, l, r, p) {
    null == r && (r = !1);
    null == l && (l = 0);
    null == B && (B = !1);
    null == m && (m = !1);
    null == y && (y = !1);
    null == h && (h = !1);
    null == k && (k = 1);
    null == f && (f = 1);
    null == e && (e = 0);
    null == d && (d = 0);
    null == c && (c = !1);
    null == b && (b = !0);
    z.call(this, a, b, c);
    this.shiftKey = m;
    this.altKey = y;
    this.ctrlKey = h;
    this.bubbles = b;
    this.relatedObject = g;
    this.delta = l;
    this.localX = d;
    this.localY = e;
    this.sizeX = f;
    this.sizeY = k;
    this.buttonDown = B;
    this.commandKey = r;
    this.pressure = 1;
    this.touchPointID =
        0;
    this.isPrimaryTouchPoint = !0
};
h["openfl.events.TouchEvent"] = Ke;
Ke.__name__ = ["openfl", "events", "TouchEvent"];
Ke.__create = function(a, b, c, d) {
    a = new Ke(a, !0, !1, c.x, c.y, null, null, null, !1, !1, !1, !1, 0, null, 0);
    a.stageX = Z.current.stage.get_mouseX();
    a.stageY = Z.current.stage.get_mouseY();
    a.target = d;
    return a
};
Ke.__super__ = z;
Ke.prototype = v(z.prototype, {
    __class__: Ke
});
var jk = function() {};
h["openfl.media.ID3Info"] = jk;
jk.__name__ = ["openfl", "media", "ID3Info"];
var ue = function(a, b) {
    na.call(this, this);
    this.bytesTotal =
        this.bytesLoaded = 0;
    this.id3 = null;
    this.isBuffering = !1;
    this.length = 0;
    this.url = null;
    null != a && this.load(a, b)
};
h["openfl.media.Sound"] = ue;
ue.__name__ = ["openfl", "media", "Sound"];
ue.__super__ = na;
ue.prototype = v(na.prototype, {
    load: function(a, b) {
        this.url = a.url;
        this.__soundID = Ue.withoutExtension(a.url);
        ue.__registeredSounds.exists(this.__soundID) ? this.dispatchEvent(new z(z.COMPLETE)) : (ue.__registeredSounds.set(this.__soundID, !0), createjs.Sound.addEventListener("fileload", l(this, this.SoundJS_onFileLoad)), createjs.Sound.addEventListener("fileerror",
            l(this, this.SoundJS_onFileError)), createjs.Sound.registerSound(this.url, this.__soundID))
    },
    play: function(a, b, c) {
        null == b && (b = 0);
        null == a && (a = 0);
        null == c && (c = new xg(1, 0));
        a = createjs.Sound.play(this.__soundID, "any", 0, a | 0, b, c.volume, c.pan);
        return new vh(a)
    },
    SoundJS_onFileLoad: function(a) {
        a.id == this.__soundID && (createjs.Sound.removeEventListener("fileload", l(this, this.SoundJS_onFileLoad)), createjs.Sound.removeEventListener("fileerror", l(this, this.SoundJS_onFileError)), this.dispatchEvent(new z(z.COMPLETE)))
    },
    SoundJS_onFileError: function(a) {
        a.id == this.__soundID && (createjs.Sound.removeEventListener("fileload", l(this, this.SoundJS_onFileLoad)), createjs.Sound.removeEventListener("fileerror", l(this, this.SoundJS_onFileError)), this.dispatchEvent(new Jd(Jd.IO_ERROR)))
    },
    __class__: ue
});
var vh = function(a) {
    na.call(this, this);
    null != a && (this.__soundInstance = a, this.__soundInstance.addEventListener("complete", l(this, this.source_onComplete)), this.__isValid = !0)
};
h["openfl.media.SoundChannel"] = vh;
vh.__name__ = ["openfl", "media",
    "SoundChannel"
];
vh.__super__ = na;
vh.prototype = v(na.prototype, {
    stop: function() {
        this.__isValid && this.__soundInstance.stop()
    },
    get_position: function() {
        return this.__isValid ? this.__soundInstance.getPosition() : 0
    },
    source_onComplete: function() {
        this.dispatchEvent(new z(z.SOUND_COMPLETE))
    },
    __class__: vh,
    __properties__: {
        get_position: "get_position"
    }
});
var kk = function() {};
h["openfl.media.SoundLoaderContext"] = kk;
kk.__name__ = ["openfl", "media", "SoundLoaderContext"];
var xg = function(a, b) {
    null == b && (b = 0);
    null == a && (a = 1);
    this.volume = a;
    this.pan = b;
    this.rightToRight = this.rightToLeft = this.leftToRight = this.leftToLeft = 0
};
h["openfl.media.SoundTransform"] = xg;
xg.__name__ = ["openfl", "media", "SoundTransform"];
xg.prototype = {
    __class__: xg
};
var od = function() {
    na.call(this)
};
h["openfl.net.SharedObject"] = od;
od.__name__ = ["openfl", "net", "SharedObject"];
od.getLocal = function(a, b, c) {
    null == b && (b = window.location.href);
    c = new od;
    c.__key = b + ":" + a;
    a = null;
    try {
        a = od.__getLocalStorage().getItem(c.__key)
    } catch (d) {}
    c.data = {};
    null != a && "" != a && (a = new dc(a),
        a.setResolver({
            resolveEnum: U.resolveEnum,
            resolveClass: od.resolveClass
        }), c.data = a.unserialize());
    null == c.data && (c.data = {});
    return c
};
od.__getLocalStorage = function() {
    var a = mj.getLocalStorage();
    if (null == a) throw new uh("SharedObject not supported");
    return a
};
od.resolveClass = function(a) {
    return null != a ? U.resolveClass(va.replace(va.replace(a, "jeash.", "flash."), "browser.", "flash.")) : null
};
od.__super__ = na;
od.prototype = v(na.prototype, {
    flush: function(a) {
        a = qd.run(this.data);
        try {
            od.__getLocalStorage().removeItem(this.__key),
                od.__getLocalStorage().setItem(this.__key, a)
        } catch (b) {
            return ve.PENDING
        }
        return ve.FLUSHED
    },
    __class__: od
});
var ve = h["openfl.net.SharedObjectFlushStatus"] = {
    __ename__: ["openfl", "net", "SharedObjectFlushStatus"],
    __constructs__: ["FLUSHED", "PENDING"]
};
ve.FLUSHED = ["FLUSHED", 0];
ve.FLUSHED.toString = w;
ve.FLUSHED.__enum__ = ve;
ve.PENDING = ["PENDING", 1];
ve.PENDING.toString = w;
ve.PENDING.__enum__ = ve;
var sg = function(a) {
    na.call(this);
    this.bytesTotal = this.bytesLoaded = 0;
    this.set_dataFormat(rc.TEXT);
    null != a && this.load(a)
};
h["openfl.net.URLLoader"] = sg;
sg.__name__ = ["openfl", "net", "URLLoader"];
sg.__super__ = na;
sg.prototype = v(na.prototype, {
    getData: function() {
        return null
    },
    load: function(a) {
        this.requestUrl(a.url, a.method, a.data, a.formatRequestHeaders())
    },
    registerEvents: function(a) {
        var b = this;
        "undefined" != typeof XMLHttpRequestProgressEvent && a.addEventListener("progress", l(this, this.onProgress), !1);
        a.onreadystatechange = function() {
            if (4 == a.readyState) {
                var c;
                try {
                    c = a.status
                } catch (d) {
                    c = null
                }
                void 0 == c && (c = null);
                if (null != c) b.onStatus(c);
                if (null != c && 200 <= c && 400 > c) b.onData(a.response);
                else if (null == c) b.onError("Failed to connect or resolve host");
                else if (12029 == c) b.onError("Failed to connect to host");
                else if (12007 == c) b.onError("Unknown host");
                else if (0 == c) b.onError("Unable to make request (may be blocked due to cross-domain permissions)"), b.onSecurityError("Unable to make request (may be blocked due to cross-domain permissions)");
                else b.onError("Http Error #" + a.status)
            }
        }
    },
    requestUrl: function(a, b, c, d) {
        var e = new XMLHttpRequest;
        this.registerEvents(e);
        var f = "";
        if (D.__instanceof(c, Tc)) switch (this.dataFormat[1]) {
            case 0:
                f = c.data.buffer;
                break;
            default:
                f = c.readUTFBytes(c.length)
        } else if (D.__instanceof(c, uf))
            for (var k = 0, g = Q.fields(c); k < g.length;) {
                var h = g[k];
                ++k;
                0 != f.length && (f += "&");
                f += encodeURIComponent(h) + "=" + va.urlEncode(Q.field(c, h))
            } else null != c && (f = c.toString());
        try {
            if ("GET" == b && null != f && "" != f) {
                var y = 1 >= a.split("?").length;
                e.open(b, a + (y ? "?" : "&") + G.string(f), !0);
                f = ""
            } else e.open(b, a, !0)
        } catch (m) {
            this.onError(m.toString());
            return
        }
        switch (this.dataFormat[1]) {
            case 0:
                e.responseType =
                    "arraybuffer"
        }
        for (a = 0; a < d.length;) b = d[a], ++a, e.setRequestHeader(b.name, b.value);
        e.send(f);
        this.onOpen();
        this.getData = function() {
            return null != e.response ? e.response : e.responseText
        }
    },
    onData: function(a) {
        a = this.getData();
        switch (this.dataFormat[1]) {
            case 0:
                this.data = Tc.__ofBuffer(a);
                break;
            default:
                this.data = G.string(a)
        }
        a = new z(z.COMPLETE);
        a.currentTarget = this;
        this.dispatchEvent(a)
    },
    onError: function(a) {
        var b = new Jd(Jd.IO_ERROR);
        b.text = a;
        b.currentTarget = this;
        this.dispatchEvent(b)
    },
    onOpen: function() {
        var a = new z(z.OPEN);
        a.currentTarget = this;
        this.dispatchEvent(a)
    },
    onProgress: function(a) {
        var b = new gf(gf.PROGRESS);
        b.currentTarget = this;
        b.bytesLoaded = a.loaded;
        b.bytesTotal = a.total;
        this.dispatchEvent(b)
    },
    onSecurityError: function(a) {
        var b = new hf(hf.SECURITY_ERROR);
        b.text = a;
        b.currentTarget = this;
        this.dispatchEvent(b)
    },
    onStatus: function(a) {
        a = new ff(ff.HTTP_STATUS, !1, !1, a);
        a.currentTarget = this;
        this.dispatchEvent(a)
    },
    set_dataFormat: function(a) {
        a != rc.BINARY || Q.hasField(window, "ArrayBuffer") ? this.dataFormat = a : this.dataFormat = rc.TEXT;
        return this.dataFormat
    },
    __class__: sg,
    __properties__: {
        set_dataFormat: "set_dataFormat"
    }
});
var rc = h["openfl.net.URLLoaderDataFormat"] = {
    __ename__: ["openfl", "net", "URLLoaderDataFormat"],
    __constructs__: ["BINARY", "TEXT", "VARIABLES"]
};
rc.BINARY = ["BINARY", 0];
rc.BINARY.toString = w;
rc.BINARY.__enum__ = rc;
rc.TEXT = ["TEXT", 1];
rc.TEXT.toString = w;
rc.TEXT.__enum__ = rc;
rc.VARIABLES = ["VARIABLES", 2];
rc.VARIABLES.toString = w;
rc.VARIABLES.__enum__ = rc;
var vf = function(a) {
    null != a && (this.url = a);
    this.requestHeaders = [];
    this.method =
        wf.GET;
    this.contentType = null
};
h["openfl.net.URLRequest"] = vf;
vf.__name__ = ["openfl", "net", "URLRequest"];
vf.prototype = {
    formatRequestHeaders: function() {
        var a = this.requestHeaders;
        null == a && (a = []);
        if (this.method == wf.GET || null == this.data) return a;
        if ("string" == typeof this.data || D.__instanceof(this.data, Tc)) a = a.slice(), a.push(new Ji("Content-Type", null != this.contentType ? this.contentType : "application/x-www-form-urlencoded"));
        return a
    },
    __class__: vf
};
var Ji = function(a, b) {
    null == b && (b = "");
    null == a && (a = "");
    this.name =
        a;
    this.value = b
};
h["openfl.net.URLRequestHeader"] = Ji;
Ji.__name__ = ["openfl", "net", "URLRequestHeader"];
Ji.prototype = {
    __class__: Ji
};
var wf = function() {};
h["openfl.net.URLRequestMethod"] = wf;
wf.__name__ = ["openfl", "net", "URLRequestMethod"];
var uf = function(a) {
    null != a && this.decode(a)
};
h["openfl.net.URLVariables"] = uf;
uf.__name__ = ["openfl", "net", "URLVariables"];
uf.prototype = {
    decode: function(a) {
        for (var b = Q.fields(this), c = 0; c < b.length;) {
            var d = b[c];
            ++c;
            Q.deleteField(this, d)
        }
        a = a.split(";").join("&").split("&");
        for (b =
            0; b < a.length;) c = a[b], ++b, d = c.indexOf("="), 0 < d ? Q.setField(this, va.urlDecode(J.substr(c, 0, d)), va.urlDecode(J.substr(c, d + 1, null))) : 0 != d && Q.setField(this, decodeURIComponent(c.split("+").join(" ")), "")
    },
    __class__: uf
};
var pf = function(a) {
    Qd.call(this, a)
};
h["openfl.text.Font"] = pf;
pf.__name__ = ["openfl", "text", "Font"];
pf.__super__ = Ef;
pf.prototype = v(Ef.prototype, {
    __class__: pf
});
var Dc = h["openfl.text.GridFitType"] = {
    __ename__: ["openfl", "text", "GridFitType"],
    __constructs__: ["NONE", "PIXEL", "SUBPIXEL"]
};
Dc.NONE = ["NONE", 0];
Dc.NONE.toString = w;
Dc.NONE.__enum__ = Dc;
Dc.PIXEL = ["PIXEL", 1];
Dc.PIXEL.toString = w;
Dc.PIXEL.__enum__ = Dc;
Dc.SUBPIXEL = ["SUBPIXEL", 2];
Dc.SUBPIXEL.toString = w;
Dc.SUBPIXEL.__enum__ = Dc;
var Dj = function() {};
h["openfl.text.TextFormatRange"] = Dj;
Dj.__name__ = ["openfl", "text", "TextFormatRange"];
Dj.prototype = {
    __class__: Dj
};
var Za = h["openfl.text.TextFieldAutoSize"] = {
    __ename__: ["openfl", "text", "TextFieldAutoSize"],
    __constructs__: ["CENTER", "LEFT", "NONE", "RIGHT"]
};
Za.CENTER = ["CENTER", 0];
Za.CENTER.toString = w;
Za.CENTER.__enum__ = Za;
Za.LEFT = ["LEFT", 1];
Za.LEFT.toString = w;
Za.LEFT.__enum__ = Za;
Za.NONE = ["NONE", 2];
Za.NONE.toString = w;
Za.NONE.__enum__ = Za;
Za.RIGHT = ["RIGHT", 3];
Za.RIGHT.toString = w;
Za.RIGHT.__enum__ = Za;
var pd = h["openfl.text.TextFieldType"] = {
    __ename__: ["openfl", "text", "TextFieldType"],
    __constructs__: ["DYNAMIC", "INPUT"]
};
pd.DYNAMIC = ["DYNAMIC", 0];
pd.DYNAMIC.toString = w;
pd.DYNAMIC.__enum__ = pd;
pd.INPUT = ["INPUT", 1];
pd.INPUT.toString = w;
pd.INPUT.__enum__ = pd;
var Af = function(a, b, c, d, e, f, k, g, h, y, m, B, l) {
    this.font =
        a;
    this.size = b;
    this.color = c;
    this.bold = d;
    this.italic = e;
    this.underline = f;
    this.url = k;
    this.target = g;
    this.align = h;
    this.leftMargin = y;
    this.rightMargin = m;
    this.indent = B;
    this.leading = l
};
h["openfl.text.TextFormat"] = Af;
Af.__name__ = ["openfl", "text", "TextFormat"];
Af.prototype = {
    clone: function() {
        var a = new Af(this.font, this.size, this.color, this.bold, this.italic, this.underline, this.url, this.target);
        a.align = this.align;
        a.leftMargin = this.leftMargin;
        a.rightMargin = this.rightMargin;
        a.indent = this.indent;
        a.leading = this.leading;
        a.blockIndent = this.blockIndent;
        a.bullet = this.bullet;
        a.kerning = this.kerning;
        a.letterSpacing = this.letterSpacing;
        a.tabStops = this.tabStops;
        return a
    },
    __merge: function(a) {
        null != a.font && (this.font = a.font);
        null != a.size && (this.size = a.size);
        null != a.color && (this.color = a.color);
        null != a.bold && (this.bold = a.bold);
        null != a.italic && (this.italic = a.italic);
        null != a.underline && (this.underline = a.underline);
        null != a.url && (this.url = a.url);
        null != a.target && (this.target = a.target);
        null != a.align && (this.align = a.align);
        null != a.leftMargin &&
            (this.leftMargin = a.leftMargin);
        null != a.rightMargin && (this.rightMargin = a.rightMargin);
        null != a.indent && (this.indent = a.indent);
        null != a.leading && (this.leading = a.leading);
        null != a.blockIndent && (this.blockIndent = a.blockIndent);
        null != a.bullet && (this.bullet = a.bullet);
        null != a.kerning && (this.kerning = a.kerning);
        null != a.letterSpacing && (this.letterSpacing = a.letterSpacing);
        null != a.tabStops && (this.tabStops = a.tabStops)
    },
    __class__: Af
};
var qa = h["openfl.text.TextFormatAlign"] = {
    __ename__: ["openfl", "text", "TextFormatAlign"],
    __constructs__: ["LEFT", "RIGHT", "JUSTIFY", "CENTER"]
};
qa.LEFT = ["LEFT", 0];
qa.LEFT.toString = w;
qa.LEFT.__enum__ = qa;
qa.RIGHT = ["RIGHT", 1];
qa.RIGHT.toString = w;
qa.RIGHT.__enum__ = qa;
qa.JUSTIFY = ["JUSTIFY", 2];
qa.JUSTIFY.toString = w;
qa.JUSTIFY.__enum__ = qa;
qa.CENTER = ["CENTER", 3];
qa.CENTER.toString = w;
qa.CENTER.__enum__ = qa;
var re = function(a, b) {
    null == b && (b = 0);
    if (Math.isNaN(a) || 0 > a) throw new uh("The delay specified is negative or not a finite number");
    na.call(this);
    this.__delay = a;
    this.set_repeatCount(b);
    this.running = !1;
    this.currentCount = 0
};
h["openfl.utils.Timer"] = re;
re.__name__ = ["openfl", "utils", "Timer"];
re.__super__ = na;
re.prototype = v(na.prototype, {
    start: function() {
        this.running || (this.running = !0, this.__timerID = window.setInterval(l(this, this.timer_onTimer), this.__delay | 0))
    },
    stop: function() {
        this.running = !1;
        null != this.__timerID && (window.clearInterval(this.__timerID), this.__timerID = null)
    },
    set_repeatCount: function(a) {
        this.running && 0 != a && a <= this.currentCount && this.stop();
        return this.repeatCount = a
    },
    timer_onTimer: function() {
        this.currentCount++;
        0 < this.repeatCount && this.currentCount >= this.repeatCount ? (this.stop(), this.dispatchEvent(new cb(cb.TIMER)), this.dispatchEvent(new cb(cb.TIMER_COMPLETE))) : this.dispatchEvent(new cb(cb.TIMER))
    },
    __class__: re,
    __properties__: {
        set_repeatCount: "set_repeatCount"
    }
});
var Ki = function() {
    A.call(this)
};
h["scenes.Credits"] = Ki;
Ki.__name__ = ["scenes", "Credits"];
Ki.__super__ = Ya;
Ki.prototype = v(Ya.prototype, {
    init: function() {
        this.createUi()
    },
    createUi: function() {
        var a = oa.buildSprite("assets/images/credits.png");
        a.setAnchorPoint(0,
            0);
        this.addChild(a);
        a = new xa("assets/images/buttons/btn_exit.png");
        a.addEventListener("b_complete", l(this, this.exit));
        a.set_x(59);
        a.set_y(360);
        this.addChild(a)
    },
    exit: function(a) {
        O.instance.showScene(fa.Menu)
    },
    __class__: Ki
});
var Li = function() {
    A.call(this);
    this.active = this.toRight = !0
};
h["scenes.Final"] = Li;
Li.__name__ = ["scenes", "Final"];
Li.__super__ = Ya;
Li.prototype = v(Ya.prototype, {
    init: function() {
        var a = oa.buildSprite("assets/images/final.png");
        a.setAnchorPoint(0, 0);
        this.addChild(a);
        a = new xa("assets/images/buttons/btn_more_games2.png");
        a.set_x(59);
        a.set_y(360);
        this.addChild(a);
        S.get_instance().showMoreGamesOn(0, 306, 119, 100);
        a = new xa("assets/images/buttons/btn_exit.png");
        a.addEventListener("b_complete", l(this, this.exit));
        a.set_x(59);
        a.set_y(480);
        this.addChild(a);
        this.list = [];
        this.showHearts(!0);
        this.addStarsResult()
    },
    showHearts: function(a) {
        null == a && (a = !1);
        ob.delay(l(this, this.nextHeart), 1600);
        1 == a && this.createHeart()
    },
    nextHeart: function() {
        0 != this.active && (this.createHeart(), this.showHearts())
    },
    createHeart: function() {
        if (0 != this.active) {
            this.toRight =
                1 == this.toRight ? !1 : !0;
            var a = this.getHeart();
            a.set_x(780);
            a.set_y(420);
            a.start(this.toRight);
            this.addChild(a)
        }
    },
    getHeart: function() {
        for (var a = null, b = 0, c = this.list; b < c.length;) {
            var d = c[b];
            ++b;
            if (0 == d.active) {
                a = d;
                break
            }
        }
        null == a && (a = new yg, this.list.push(a));
        return a
    },
    exit: function(a) {
        O.instance.showScene(fa.Menu)
    },
    calcStars: function() {
        for (var a = 0, b = 1; 28 > b;) var c = b++,
            a = a + this.calcStarsIn(c);
        return a
    },
    addStarsResult: function() {
        this.stars = this.calcStars();
        this.totalStars = 81;
        var a = new rb;
        a.set_size(40);
        a.set_fieldWidth(300);
        a.set_align("center");
        a.set_x(1E3);
        a.set_y(40);
        a.set_text("Stars");
        a.mouseEnabled = !1;
        a.set_color(15719348);
        this.addChild(a);
        this.starsLabel = new rb;
        this.starsLabel.set_size(60);
        this.starsLabel.set_fieldWidth(300);
        this.starsLabel.set_align("center");
        this.starsLabel.set_x(1E3);
        this.starsLabel.set_y(100);
        this.starsLabel.set_text("0/" + this.totalStars);
        this.starsLabel.set_color(15719348);
        this.addChild(this.starsLabel);
        this.heroText = new rb;
        this.heroText.set_size(40);
        this.heroText.set_fieldWidth(400);
        this.heroText.set_fieldHeight(300);
        this.heroText.set_align("center");
        this.heroText.set_x(600);
        this.heroText.set_y(555);
        this.heroText.set_text("");
        this.heroText.mouseEnabled = !1;
        this.heroText.set_color(15719348);
        this.addChild(this.heroText);
        this.showStarsCountAnim()
    },
    calcStarsIn: function(a) {
        var b = 0;
        a = "level_" + a + "_stars";
        null != aa.get_instance().get(a) && (b = aa.get_instance().get(a));
        return b
    },
    showStarsCountAnim: function() {
        this.tween = r.tweenFunc1(l(this, this.udpateStarsCountAnim), 0, this.stars, null, null,
            null, null, null, null, null, null, {
                fileName: "Final.hx",
                lineNumber: 199,
                className: "scenes.Final",
                methodName: "showStarsCountAnim"
            }).time(2.5).onFinish(l(this, this.completeStarsAnim))
    },
    udpateStarsCountAnim: function(a) {
        this.starsLabel.set_text("" + Math.floor(a) + "/" + this.totalStars)
    },
    completeStarsAnim: function() {
        var a = "Not bad.\nTry collect all stars";
        this.stars == this.totalStars && (a = "Congratulations!\nYou are a brave hero");
        this.heroText.set_text(a)
    },
    free: function() {
        S.get_instance().showMoreGames(!1);
        this.active = !1;
        for (var a = 0, b = this.list; a < b.length;) {
            var c = b[a];
            ++a;
            c.free()
        }
        this.list = [];
        this.list = null;
        null != this.tween && (this.tween.stop(), this.tween = null);
        this.starsLabel = null
    },
    __class__: Li
});
var Mi = function() {
    A.call(this)
};
h["scenes.Intro"] = Mi;
Mi.__name__ = ["scenes", "Intro"];
Mi.__super__ = Ya;
Mi.prototype = v(Ya.prototype, {
    init: function() {
        this.slideId = 0;
        this.createBackground();
        this.createSlides();
        this.showSlides()
    },
    createBackground: function() {
        this.get_graphics().beginFill(16777215);
        this.get_graphics().drawRect(0,
            0, 1280, 720);
        this.get_graphics().endFill()
    },
    createSlides: function() {
        this.slidesCount = 1;
        var a = oa.buildSprite("assets/images/intro/homiebearstudio.png");
        a.set_x(640);
        a.set_y(360);
        a.set_alpha(0);
        a.set_name("slide1");
        this.addChild(a)
    },
    showSlides: function() {
        this.nextSlide();
        var a = new re(2500, this.slidesCount);
        a.addEventListener(cb.TIMER, l(this, this.nextSlide));
        a.start()
    },
    nextSlide: function(a) {
        this.slideId++;
        this.slideId > this.slidesCount ? this.complete() : this.showSlide()
    },
    showSlide: function() {
        var a = this.getChildByName("slide" +
            this.slideId);
        r.to(a, {
            alpha: 1
        }, null, null, null, null, null, null, null, null, {
            fileName: "Intro.hx",
            lineNumber: 84,
            className: "scenes.Intro",
            methodName: "showSlide"
        }).time(1).ease(lb.quintInOut).onFinish(l(this, this.slideShowed))
    },
    slideShowed: function() {
        1 == this.slideId && ob.delay(l(this, this.prepareResources), 10)
    },
    prepareResources: function() {
        O.instance.prepareResources()
    },
    complete: function() {
        O.instance.completeIntro()
    },
    __class__: Mi
});
var Fb = h["scenes.LevelState"] = {
    __ename__: ["scenes", "LevelState"],
    __constructs__: ["Play",
        "Win", "Lose"
    ]
};
Fb.Play = ["Play", 0];
Fb.Play.toString = w;
Fb.Play.__enum__ = Fb;
Fb.Win = ["Win", 1];
Fb.Win.toString = w;
Fb.Win.__enum__ = Fb;
Fb.Lose = ["Lose", 2];
Fb.Lose.toString = w;
Fb.Lose.__enum__ = Fb;
var ta = function() {
    null != ta.instance && console.log("Presend old instance");
    ta.instance = this;
    A.call(this)
};
h["scenes.LevelBuilder"] = ta;
ta.__name__ = ["scenes", "LevelBuilder"];
ta.__interfaces__ = [ye];
ta.instance = null;
ta.__super__ = Ya;
ta.prototype = v(Ya.prototype, {
    newCustomVars: function(a) {
        if (null != a && 0 != a.length)
            for (var b = 0; b <
                a.length;) {
                var c = a[b];
                ++b;
                if ("time" == c.k) {
                    this.setTimeToStars(c.v);
                    break
                }
            }
    },
    setTimeToStars: function(a) {
        this.time3Stars = a;
        this.time2Stars = Math.floor(2 * this.time3Stars)
    },
    receiveNotify: function(a, b, c) {
        switch (a) {
            case "pauseClosed":
                this.resume();
                break;
            case "restartLevel":
                this.restartLevel();
                break;
            case "exitLevel":
                this.exitLevel();
                break;
            case "nextLevel":
                this.nextLevel();
                break;
            case "win":
                this.win();
                break;
            case "lose":
                this.lose();
                break;
            case "finish":
                this.finish();
                break;
            case "finishLose":
                this.finishLose();
                break;
            case "hitHero":
                this.hitHero();
                break;
            case "addHelper":
                this.addHelper()
        }
    },
    init: function() {
        P.get_instance().playMusic("in_game");
        aa.get_instance().save("last_level", O.currentLevel);
        this.state = Fb.Play;
        this.complete = this.showedResultMenu = !1;
        this.time3Stars = 100;
        this.time2Stars = 50;
        this.timeStarted = !1;
        this.initLayers();
        this.createTilelayers();
        this.signToNotifications();
        this.initPhysWorld();
        this.frameFixer = new Lh(60);
        this.updater = Ib.get_instance();
        this.loseChecker = new jg;
        new hg;
        this.levelManager = new Ne;
        this.levelManager.init(O.currentLevel);
        this.levelManager.build();
        this.createUi();
        Fa.get_instance().update()
    },
    addHelper: function() {
        new gg
    },
    initLayers: function() {
        this.layersManager = new Mh(this);
        this.layersManager.addLayer("background");
        this.layersManager.addLayer("objects");
        this.layersManager.addLayer("units");
        this.layersManager.addLayer("objects2");
        this.layersManager.addLayer("effects");
        this.layersManager.addLayer("ui");
        this.layersManager.addLayer("top")
    },
    createTilelayers: function() {
        var a = this.layersManager.getLayer("objects");
        Fa.get_instance().init(a);
        Fa.get_instance().create("tilelayer1", "assets/spritesheets/spritelist.xml", "assets/spritesheets/spritelist.png")
    },
    createUi: function() {
        this.levelInfo = new ig;
        this.levelInfo.setGoldTime(this.time3Stars);
        this.layersManager.getLayer("ui").addChild(this.levelInfo);
        var a = new xa("assets/images/buttons/btn_game_restart.png");
        a.addEventListener("b_complete", l(this, this.restart));
        a.set_x(1242);
        a.set_y(305);
        this.layersManager.getLayer("ui").addChild(a);
        a = new xa("assets/images/buttons/btn_game_pause.png");
        a.addEventListener("b_complete", l(this, this.pause));
        a.set_x(1242);
        a.set_y(415);
        this.layersManager.getLayer("ui").addChild(a);
        this.pauseMenu = new Lg;
        this.layersManager.getLayer("ui").addChild(this.pauseMenu)
    },
    togleDebug: function(a) {
        this.physWorld.toggleDebug()
    },
    signToNotifications: function() {
        E.get_instance().signToNotify("pauseClosed", this);
        E.get_instance().signToNotify("restartLevel", this);
        E.get_instance().signToNotify("exitLevel", this);
        E.get_instance().signToNotify("nextLevel", this);
        E.get_instance().signToNotify("win",
            this);
        E.get_instance().signToNotify("lose", this);
        E.get_instance().signToNotify("finish", this);
        E.get_instance().signToNotify("finishLose", this);
        E.get_instance().signToNotify("hitHero", this);
        1 == O.currentLevel && E.get_instance().signToNotify("addHelper", this)
    },
    initPhysWorld: function() {
        this.physWorld = ha.get_instance();
        this.physWorld.setGravity(0, 800);
        this.physWorld.setFps(30);
        this.physWorld.initContactListener();
        this.physWorld.addBorder(0, -400, 1280, 20);
        this.physWorld.addBorder(0, 800, 1380, 20);
        this.physWorld.addBorder(-50,
            0, 20, 720);
        this.physWorld.addBorder(1330, 0, 20, 720)
    },
    pause: function(a) {
        this.paused = !0;
        this.pauseMenu.show()
    },
    restart: function(a) {
        this.restartLevel()
    },
    resume: function() {
        this.paused = !1;
        this.state == Fb.Win ? this.win() : this.state == Fb.Lose && this.lose()
    },
    restartLevel: function() {
        ta.instance = null;
        jb.get_instance().save("restart_level", "" + O.currentLevel);
        O.instance.showScene(fa.LevelBuilder)
    },
    exitLevel: function() {
        ta.instance = null;
        jb.get_instance().save("exit_level", "" + O.currentLevel);
        O.instance.showScene(fa.LevelSelect)
    },
    nextLevel: function() {
        ta.instance = null;
        27 == O.currentLevel ? (O.currentLevel = 1, O.instance.showScene(fa.Final)) : (O.currentLevel++, O.instance.showScene(fa.LevelBuilder))
    },
    start: function() {
        this.freshObjects();
        this.addControl();
        E.get_instance().postNotify("startLevel")
    },
    freshObjects: function() {
        for (var a = 0; 5 > a;) a++, this.physWorld.update(), this.updater.update();
        Fa.get_instance().update()
    },
    startTimeWork: function() {
        this.timeStarted = !0;
        this.startTime = Z.getTimer()
    },
    addControl: function() {
        this.addEventListener(z.ENTER_FRAME,
            l(this, this.update))
    },
    delControl: function() {
        this.removeEventListener(z.ENTER_FRAME, l(this, this.update))
    },
    update: function(a) {
        1 != this.paused && 0 != this.frameFixer.checkUpdate() && (this.physWorld.update(), this.updater.update(), Fa.get_instance().update(), 0 == this.complete && 1 == this.timeStarted && this.updateInfoPanel())
    },
    updateInfoPanel: function() {
        var a = this.calcTime();
        this.levelInfo.update(a)
    },
    win: function() {
        this.completeTimer = null;
        this.state == Fb.Play && (this.state = Fb.Win);
        1 != this.paused && 1 != this.showedResultMenu &&
            (this.complete = this.showedResultMenu = !0, this.saveData(), S.get_instance().gameBreak(l(this, this.spilPause), l(this, this.spilResume)))
    },
    saveData: function() {
        if (0 == this.isAlreadyCompleted()) {
            var a = "level_" + O.currentLevel + "_win";
            aa.get_instance().save(a, !0);
            jb.get_instance().save("win_level", "" + O.currentLevel);
            this.checkSpilAward()
        }
        81 == this.calcTotalStars() && null == aa.get_instance().get("spil_award5") && (S.get_instance().submitAward("award5"), aa.get_instance().save("spil_award5", !0))
    },
    checkSpilAward: function() {
        9 ==
            O.currentLevel ? null == aa.get_instance().get("spil_award2") && (S.get_instance().submitAward("award2"), aa.get_instance().save("spil_award2", !0)) : 18 == O.currentLevel ? null == aa.get_instance().get("spil_award3") && (S.get_instance().submitAward("award3"), aa.get_instance().save("spil_award3", !0)) : 27 == O.currentLevel && null == aa.get_instance().get("spil_award4") && (S.get_instance().submitAward("award4"), aa.get_instance().save("spil_award4", !0))
    },
    spilPause: function() {
        P.get_instance().pause(!0)
    },
    spilResume: function() {
        P.get_instance().pause(!1);
        var a;
        a = this.state == Fb.Win ? new Mg : new Kg;
        null != this.layersManager && this.layersManager.getLayer("top").addChild(a);
        a.show()
    },
    calcTotalStars: function() {
        for (var a = 0, b = 1; 28 > b;) var c = b++,
            a = a + this.calcStarsIn(c);
        return a
    },
    calcStarsIn: function(a) {
        var b = 0;
        a = "level_" + a + "_stars";
        null != aa.get_instance().get(a) && (b = aa.get_instance().get(a));
        return b
    },
    isAlreadyCompleted: function() {
        var a = "level_" + O.currentLevel + "_win";
        return null == aa.get_instance().get(a) ? !1 : !0
    },
    lose: function() {
        this.completeTimer = null;
        this.state ==
            Fb.Play && (this.state = Fb.Lose);
        1 != this.paused && 1 != this.showedResultMenu && (this.complete = this.showedResultMenu = !0, jb.get_instance().save("lose_level", "" + O.currentLevel), S.get_instance().gameBreak(l(this, this.spilPause), l(this, this.spilResume)))
    },
    finish: function() {
        1 != this.complete && (this.complete = !0, this.levelManager.fixHeroesDistance(), E.get_instance().postNotify("startWinAnimate"), this.completeTimer = ob.delay(l(this, this.win), 2E3), this.time = this.calcTime(), this.calcStars())
    },
    finishLose: function() {
        1 !=
            this.complete && (this.complete = !0, this.levelManager.fixEvilBullDistance(), E.get_instance().postNotify("startLoseAnimate"), this.completeTimer = ob.delay(l(this, this.lose), 2E3))
    },
    hitHero: function() {
        1 != this.complete && (this.complete = !0, E.get_instance().postNotify("startLoseAnimate"), this.completeTimer = ob.delay(l(this, this.lose), 2E3))
    },
    calcTime: function() {
        var a = (Z.getTimer() - this.startTime) / 100;
        return Math.floor(a)
    },
    calcStars: function() {
        0 == this.time3Stars ? this.stars = 3 : (this.stars = 1, this.time <= this.time3Stars ?
            this.stars = 3 : this.time <= this.time2Stars && (this.stars = 2));
        var a = "level_" + O.currentLevel + "_stars";
        aa.get_instance().saveBigger(a, this.stars)
    },
    free: function() {
        this.updater.free();
        this.updater = null;
        this.layersManager.free();
        this.layersManager = null;
        null != this.completeTimer && (this.completeTimer.stop(), this.completeTimer = null);
        E.get_instance().postNotify("clearAll");
        E.get_instance().clear();
        P.get_instance().stopSfx();
        this.levelInfo.free();
        this.frameFixer = this.pauseMenu = this.levelInfo = null;
        this.levelManager.free();
        this.loseChecker = this.levelManager = null;
        this.physWorld.free();
        this.physWorld = null;
        Fa.get_instance().free();
        this.delControl()
    },
    __class__: ta
});
var Ni = function() {
    A.call(this)
};
h["scenes.LevelSelect"] = Ni;
Ni.__name__ = ["scenes", "LevelSelect"];
Ni.__super__ = Ya;
Ni.prototype = v(Ya.prototype, {
    init: function() {
        P.get_instance().playMusic("in_menu");
        this.createSlidingMenu();
        var a = new xa("assets/images/buttons/btn_exit.png");
        a.addEventListener("b_complete", l(this, this.exit));
        a.set_x(59);
        a.set_y(480);
        this.addChild(a);
        a = new xa("assets/images/buttons/btn_play2.png");
        a.addEventListener("b_complete", l(this, this.startNextLevel));
        a.set_x(1222);
        a.set_y(480);
        this.addChild(a)
    },
    createSlidingMenu: function() {
        var a = this.createLevelButtons();
        this.menu = new zf;
        this.menu.pageWidth = 1280;
        this.menu.pageHeight = 720;
        this.menu.init(a, 3, 3, {
            x: 496,
            y: 195
        }, {
            x: 143,
            y: 125
        });
        this.menu.addBackgroundToPages("assets/images/level_select/level_block.png", {
            x: 640,
            y: 320
        });
        this.menu.addPagination({
                x: 642,
                y: 670
            }, 50, "assets/images/level_select/pagination_normal.png",
            "assets/images/level_select/pagination_active.png");
        this.menu.showPageWithLevel(O.currentLevel);
        this.addChild(this.menu);
        for (var a = {
            x: 440,
            y: 52
        }, b = 1; 4 > b;) {
            var c = b++;
            this.addTitleToMenu(c - 1, "World " + c, a)
        }
    },
    addTitleToMenu: function(a, b, c) {
        if (!(a > this.menu.pageCount - 1)) {
            var d = new rb;
            d.set_size(42);
            d.set_color(3221528);
            d.set_fieldWidth(400);
            d.set_align("center");
            d.set_x(c.x);
            d.set_y(c.y);
            d.set_text(b);
            this.menu.pages[a].addChild(d)
        }
    },
    createLevelButtons: function() {
        for (var a = 1, b = [], c = 0; 27 > c;) c++, b.push(this.createLevelButton(a)),
            a++;
        return b
    },
    createLevelButton: function(a) {
        var b = !1,
            c = a - 1;
        if (1 == aa.get_instance().get("level_" + a + "_win") || 1 == aa.get_instance().get("level_" + c + "_win") || 1 == a) b = !0;
        var c = 0,
            d = "level_" + a + "_stars";
        null != aa.get_instance().get(d) && (c = aa.get_instance().get(d));
        a = new wh(a, b, c);
        1 == b && a.addEventListener("b_complete", l(this, this.clickLevelButton));
        return a
    },
    clickLevelButton: function(a) {
        O.currentLevel = a.target.level;
        O.instance.showScene(fa.LevelBuilder)
    },
    exit: function(a) {
        O.instance.showScene(fa.Menu)
    },
    startNextLevel: function(a) {
        O.instance.showScene(fa.LevelBuilder)
    },
    free: function() {
        this.menu.free();
        this.menu = null
    },
    __class__: Ni
});
var xh = function() {
    A.call(this)
};
h["scenes.Menu"] = xh;
xh.__name__ = ["scenes", "Menu"];
xh.__interfaces__ = [ye];
xh.__super__ = Ya;
xh.prototype = v(Ya.prototype, {
    init: function() {
        E.get_instance().signToNotify("clearSaves", this);
        this.createMenu()
    },
    receiveNotify: function(a, b, c) {
        this.acceptErase()
    },
    createMenu: function() {
        var a = oa.buildSprite("assets/images/menu.png");
        a.setAnchorPoint(0, 0);
        this.addChild(a);
        a = new xa("assets/images/buttons/btn_big_play.png");
        a.addEventListener("b_complete", l(this, this.startGame));
        a.set_x(644);
        a.set_y(420);
        this.addChild(a);
        0 == Ac.isWindowsPhone && (a = new Ff, a.set_x(1222), a.set_y(360), this.addChild(a));
        a = new xa("assets/images/buttons/btn_big_more_games.png");
        a.addEventListener(N.CLICK, l(this, this.showMoreGames));
        a.set_x(644);
        a.set_y(560);
        this.addChild(a);
        a = new xa("assets/images/buttons/btn_info.png");
        a.addEventListener("b_complete", l(this, this.showAbout));
        a.set_x(1222);
        a.set_y(480);
        this.addChild(a);
        null != aa.get_instance().get("introShowed") &&
            this.addEraseMenu();
        S.get_instance().showMoreGamesOn(548, 514, 190, 90)
    },
    startGame: function(a) {
        1 == O.instance.firstPlay && (jb.get_instance().save("play"), O.instance.firstPlay = !1);
        null == aa.get_instance().get("introShowed") ? (aa.get_instance().save("introShowed", !0), O.instance.showScene(fa.Story)) : O.instance.showScene(fa.LevelSelect)
    },
    addEraseMenu: function() {
        var a = new xa("assets/images/buttons/btn_erase.png");
        a.set_name("eraseButton");
        a.addEventListener("b_complete", l(this, this.showEraseConfirm));
        a.set_x(59);
        a.set_y(480);
        this.addChild(a);
        this.eraseMenu = new Jg;
        this.addChild(this.eraseMenu)
    },
    showEraseConfirm: function(a) {
        this.eraseMenu.show();
        S.get_instance().showMoreGames(!1)
    },
    acceptErase: function() {
        O.instance.clearSaves();
        var a = this.getChildByName("eraseButton");
        a.mouseEnabled = !1;
        a.mouseChildren = !1;
        r.to(a, {
            alpha: 0
        }, null, null, null, null, null, null, null, null, {
            fileName: "Menu.hx",
            lineNumber: 155,
            className: "scenes.Menu",
            methodName: "acceptErase"
        }).time(.5)
    },
    showMoreGames: function(a) {},
    showAbout: function(a) {
        O.instance.showScene(fa.Credits)
    },
    free: function() {
        this.eraseMenu = null;
        E.get_instance().unSignToNotify("clearSaves", this);
        S.get_instance().showMoreGames(!1)
    },
    __class__: xh
});
var Oi = function() {
    A.call(this)
};
h["scenes.Story"] = Oi;
Oi.__name__ = ["scenes", "Story"];
Oi.__super__ = Ya;
Oi.prototype = v(Ya.prototype, {
    init: function() {
        P.get_instance().playMusic("in_game");
        this.active = !0;
        this.comixId = 0;
        this.createComix();
        this.addEventListener(N.MOUSE_UP, l(this, this.startGame));
        this.showComix()
    },
    createComix: function() {
        var a = oa.buildSprite("assets/images/story/bg.png");
        a.setAnchorPoint(0, 0);
        this.addChild(a);
        a = oa.buildSprite("assets/images/story/comix1.png");
        a.set_name("comix1");
        a.set_x(337);
        a.set_y(205);
        a.set_alpha(0);
        this.addChild(a);
        a = oa.buildSprite("assets/images/story/comix2.png");
        a.set_name("comix2");
        a.set_x(943);
        a.set_y(205);
        a.set_alpha(0);
        this.addChild(a);
        a = oa.buildSprite("assets/images/story/comix3.png");
        a.set_name("comix3");
        a.set_x(640);
        a.set_y(560);
        a.set_alpha(0);
        this.addChild(a);
        a = new xa("assets/images/buttons/btn_play.png");
        a.set_name("btnPlay");
        a.addEventListener("b_complete",
            l(this, this.startGame));
        a.set_x(640);
        a.set_y(390);
        a.set_visible(!1);
        a.set_alpha(0);
        this.addChild(a);
        a = new rb;
        a.set_name("skipLabel");
        a.set_size(50);
        a.set_fieldWidth(400);
        a.set_align("center");
        a.set_x(920);
        a.set_y(620);
        a.set_color(15329769);
        a.set_text("Tap to skip");
        this.addChild(a)
    },
    startGame: function(a) {
        0 != this.active && (this.active = !1, O.instance.showScene(fa.LevelBuilder))
    },
    showComix: function() {
        this.nextComix();
        this.timer = new re(1E3, 2);
        this.timer.addEventListener(cb.TIMER, l(this, this.nextComix));
        this.timer.start()
    },
    nextComix: function(a) {
        this.comixId++;
        a = this.getChildByName("comix" + this.comixId);
        r.to(a, {
            alpha: 1
        }, null, null, null, null, null, null, null, null, {
            fileName: "Story.hx",
            lineNumber: 113,
            className: "scenes.Story",
            methodName: "nextComix"
        }).time(1).ease(lb.quintInOut);
        3 == this.comixId && (a = this.getChildByName("btnPlay"), a.set_visible(!0), r.to(a, {
                alpha: 1
            }, null, null, null, null, null, null, null, null, {
                fileName: "Story.hx",
                lineNumber: 119,
                className: "scenes.Story",
                methodName: "nextComix"
            }).time(1).ease(lb.quintInOut),
            a = this.getChildByName("skipLabel"), r.to(a, {
                alpha: 0
            }, null, null, null, null, null, null, null, null, {
                fileName: "Story.hx",
                lineNumber: 122,
                className: "scenes.Story",
                methodName: "nextComix"
            }).time(1).ease(lb.quintInOut))
    },
    free: function() {
        1 == this.timer.running && this.timer.stop();
        this.timer = null
    },
    __class__: Oi
});
var Pi = function() {
    A.call(this)
};
h["scenes.Test"] = Pi;
Pi.__name__ = ["scenes", "Test"];
Pi.__super__ = Ya;
Pi.prototype = v(Ya.prototype, {
    init: function() {
        Fa.get_instance().init(this);
        this.createTilelayer();
        this.addEventListener(z.ENTER_FRAME,
            l(this, this.update));
        Z.current.stage.addEventListener(N.MOUSE_DOWN, l(this, this.downHandler))
    },
    downHandler: function(a) {},
    createTilelayer: function() {
        Fa.get_instance().create("tilelayer1", "assets/spritesheets/spritelist.xml", "assets/spritesheets/spritelist.png");
        var a = new Ig;
        this.addChild(a);
        a.set_x(400);
        a.set_y(400)
    },
    update: function(a) {
        Fa.get_instance().update()
    },
    __class__: Pi
});
var yf = function() {};
h["tjson.TJSON"] = yf;
yf.__name__ = ["tjson", "TJSON"];
yf.parse = function(a, b, c) {
    null == b && (b = "JSON Data");
    return (new Qi(a,
        b, c)).doParse()
};
var Qi = function(a, b, c) {
    null == b && (b = "JSON Data");
    this.json = a;
    this.fileName = b;
    this.currentLine = 1;
    this.lastSymbolQuoted = !1;
    this.pos = 0;
    this.floatRegex = new ea("^-?[0-9]*\\.[0-9]+$", "");
    this.intRegex = new ea("^-?[0-9]+$", "");
    this.strProcessor = null == c ? l(this, this.defaultStringProcessor) : c;
    this.cache = []
};
h["tjson.TJSONParser"] = Qi;
Qi.__name__ = ["tjson", "TJSONParser"];
Qi.prototype = {
    doParse: function() {
        try {
            var a = this.getNextSymbol();
            switch (a) {
                case "{":
                    return this.doObject();
                case "[":
                    return this.doArray();
                default:
                    return this.convertSymbolToProperType(a)
            }
        } catch (b) {
            if (D.__instanceof(b, String)) throw this.fileName + " on line " + this.currentLine + ": " + b;
            throw b;
        }
    },
    doObject: function() {
        var a = {},
            b = "",
            c, d = !1;
        for (this.cache.push(a); this.pos < this.json.length;)
            if (c = this.getNextSymbol(), "," != c || this.lastSymbolQuoted) {
                if ("}" == c && !this.lastSymbolQuoted) return d && null != a.TJ_unserialize && a.TJ_unserialize(), a;
                b = this.getNextSymbol();
                if (":" != b) throw "Expected ':' but got '" + b + "' instead.";
                b = this.getNextSymbol();
                if ("_hxcls" ==
                    c) {
                    a = U.resolveClass(b);
                    if (null == a) throw "Invalid class name - " + b;
                    a = U.createEmptyInstance(a);
                    this.cache.pop();
                    this.cache.push(a);
                    d = !0
                } else b = "{" != b || this.lastSymbolQuoted ? "[" != b || this.lastSymbolQuoted ? this.convertSymbolToProperType(b) : this.doArray() : this.doObject(), a[c] = b
            }
        throw "Unexpected end of file. Expected '}'";
    },
    doArray: function() {
        for (var a = [], b; this.pos < this.json.length;)
            if (b = this.getNextSymbol(), "," != b || this.lastSymbolQuoted) {
                if ("]" != b || this.lastSymbolQuoted) b = "{" != b || this.lastSymbolQuoted ?
                    "[" != b || this.lastSymbolQuoted ? this.convertSymbolToProperType(b) : this.doArray() : this.doObject();
                else return a;
                a.push(b)
            }
        throw "Unexpected end of file. Expected ']'";
    },
    convertSymbolToProperType: function(a) {
        return this.lastSymbolQuoted ? va.startsWith(a, yf.OBJECT_REFERENCE_PREFIX) ? (a = G.parseInt(J.substr(a, yf.OBJECT_REFERENCE_PREFIX.length, null)), this.cache[a]) : a : this.looksLikeFloat(a) ? G.parseFloat(a) : this.looksLikeInt(a) ? G.parseInt(a) : "true" == a.toLowerCase() ? !0 : "false" == a.toLowerCase() ? !1 : "null" == a.toLowerCase() ?
            null : a
    },
    looksLikeFloat: function(a) {
        var b;
        if (!(b = this.floatRegex.match(a))) {
            if (a = this.intRegex.match(a)) a = this.intRegex.matched(0), a = 45 == J.cca(a, 0) ? "-2147483648" < a : "2147483647" < a;
            b = a
        }
        return b
    },
    looksLikeInt: function(a) {
        return this.intRegex.match(a)
    },
    getNextSymbol: function() {
        this.lastSymbolQuoted = !1;
        for (var a = "", b = !1, c = "", d = "", e = !1, f = !1, k = !1, g = !1; this.pos < this.json.length;)
            if (a = this.json.charAt(this.pos++), "\n" != a || f || this.currentLine++, k) {
                if ("\n" == a || "\r" == a) k = !1, this.pos++
            } else if (g) "*" == a && "/" == this.json.charAt(this.pos) &&
            (g = !1, this.pos++);
        else if (b) {
            if (e) {
                e = !1;
                if ("'" == a || '"' == a) {
                    d += a;
                    continue
                }
                if ("t" == a) {
                    d += "\t";
                    continue
                }
                if ("n" == a) {
                    d += "\n";
                    continue
                }
                if ("\\" == a) {
                    d += "\\";
                    continue
                }
                if ("r" == a) {
                    d += "\r";
                    continue
                }
                if ("/" == a) {
                    d += "/";
                    continue
                }
                if ("u" == a) {
                    for (var h = a = 0; 4 > h;) {
                        h++;
                        if (this.pos >= this.json.length) throw "Unfinished UTF8 character";
                        var y;
                        y = this.pos++;
                        y = J.cca(this.json, y);
                        a <<= 4;
                        if (48 <= y && 57 >= y) a += y - 48;
                        else if (65 <= y && 70 >= y) a += 10 + y - 65;
                        else if (97 <= y && 102 >= y) a += 10 + y - 95;
                        else throw "Not a hex digit";
                    }
                    h = new Ph;
                    h.__b += String.fromCharCode(a);
                    d += h.__b;
                    continue
                }
                throw "Invalid escape sequence '\\" + a + "'";
            }
            if ("\\" == a) e = !0;
            else {
                if (a == c) return d;
                d += a
            }
        } else {
            if ("/" == a)
                if (h = this.json.charAt(this.pos), "/" == h) {
                    k = !0;
                    this.pos++;
                    continue
                } else if ("*" == h) {
                g = !0;
                this.pos++;
                continue
            }
            if (f) {
                if (" " == a || "\n" == a || "\r" == a || "\t" == a || "," == a || ":" == a || "}" == a || "]" == a) return this.pos--, d;
                d += a
            } else if (" " != a && "\t" != a && "\n" != a && "\r" != a) {
                if ("{" == a || "}" == a || "[" == a || "]" == a || "," == a || ":" == a) return a;
                "'" == a || '"' == a ? (b = !0, c = a, this.lastSymbolQuoted = !0) : (f = !0, d = a)
            }
        } if (b) throw "Unexpected end of data. Expected ( " +
            c + " )";
        return d
    },
    defaultStringProcessor: function(a) {
        return a
    },
    __class__: Qi
};
var Ri = function(a) {
    var b = new Xe([$a.ANY_BODY]);
    null == g.CbEvent_BEGIN && (g.internal = !0, g.CbEvent_BEGIN = new qc, g.internal = !1);
    var c = g.CbEvent_BEGIN;
    null == g.InteractionType_ANY && (g.internal = !0, g.InteractionType_ANY = new Yb, g.internal = !1);
    this.beginContactListener = new Rg(c, g.InteractionType_ANY, b, b, l(this, this.beginContact));
    a.zpp_inner.wrap_listeners.add(this.beginContactListener)
};
h["tools.ContactListener"] = Ri;
Ri.__name__ = ["tools",
    "ContactListener"
];
Ri.prototype = {
    beginContact: function(a) {
        if (null != a.zpp_inner.int1.outer_i.get_userData() && null != a.zpp_inner.int2.outer_i.get_userData()) {
            var b = a.zpp_inner.int1.outer_i.get_userData();
            a = a.zpp_inner.int2.outer_i.get_userData();
            1 == D.__instanceof(b.data, Mb) ? "finish" == a.data ? 1 == D.__cast(b.data, Mb).active && E.get_instance().postNotify("finish") : 1 == D.__instanceof(a.data, Xc) ? 1 == D.__cast(b.data, Mb).active && D.__cast(a.data, Xc).attack(D.__cast(b.data, Mb)) : "worldBox" == a.data && 1 == D.__cast(b.data,
                Mb).active && E.get_instance().postNotify("lose") : 1 == D.__instanceof(a.data, Mb) && ("finish" == b.data ? 1 == D.__cast(a.data, Mb).active && E.get_instance().postNotify("finish") : 1 == D.__instanceof(b.data, Xc) ? 1 == D.__cast(a.data, Mb).active && D.__cast(b.data, Xc).attack(D.__cast(a.data, Mb)) : "worldBox" == b.data && 1 == D.__cast(a.data, Mb).active && E.get_instance().postNotify("lose"));
            1 == D.__instanceof(b.data, Zc) ? D.__cast(b.data, Zc).contact(a.data) : 1 == D.__instanceof(a.data, Zc) && D.__cast(a.data, Zc).contact(b.data);
            1 == D.__instanceof(b.data,
                Xc) && "finish" == a.data ? E.get_instance().postNotify("finishLose") : 1 == D.__instanceof(a.data, Xc) && "finish" == b.data && E.get_instance().postNotify("finishLose")
        }
    },
    free: function() {
        this.beginContactListener.get_space().get_listeners().remove(this.beginContactListener);
        this.beginContactListener = null
    },
    __class__: Ri
};
var ha = function() {
    this.init()
};
h["tools.PhysWorld"] = ha;
ha.__name__ = ["tools", "PhysWorld"];
ha.__properties__ = {
    get_instance: "get_instance"
};
ha._instance = null;
ha.timeStep = null;
ha.get_instance = function() {
    null ==
        ha._instance && (ha._instance = new ha);
    return ha._instance
};
ha.prototype = {
    init: function() {
        this.space = new ui;
        this.positionIterations = this.velocityIterations = 10;
        this.setFps(30);
        this.borderBodyInited = this.contactListenerInited = this.debugEnabled = this.debugInited = !1
    },
    setGravity: function(a, b) {
        null == b && (b = 0);
        null == a && (a = 0);
        this.space.get_gravity().set_x(a);
        this.space.get_gravity().set_y(b)
    },
    setFps: function(a) {
        ha.timeStep = 1 / a
    },
    addBorder: function(a, b, c, d) {
        0 == this.borderBodyInited && this.initBorderBody();
        null !=
            this.borderBody && this.borderBody.set_space(null);
        a = new bb(bb.rect(a, b, c, d));
        a.zpp_inner.immutable_midstep("Shape::sensorEnabled");
        a.zpp_inner.sensorEnabled = !0;
        a.zpp_inner.wake();
        a.zpp_inner.sensorEnabled;
        this.borderBody.zpp_inner.wrap_shapes.add(a);
        this.borderBody.set_space(this.space)
    },
    initBorderBody: function() {
        this.borderBodyInited = !0;
        var a = Tb;
        null == g.BodyType_STATIC && (g.internal = !0, g.BodyType_STATIC = new Ba, g.internal = !1);
        this.borderBody = new a(g.BodyType_STATIC);
        this.borderBody.get_userData().data =
            "worldBox"
    },
    initContactListener: function() {
        1 != this.contactListenerInited && (this.contactListenerInited = !0, this.contactListener = new Ri(this.space))
    },
    toggleDebug: function() {
        0 != this.debugInited && (1 == this.debugEnabled ? this.disableDebug() : this.enableDebug())
    },
    enableDebug: function() {
        this.debugEnabled = !0
    },
    disableDebug: function() {
        this.debugEnabled = !1;
        this.debug.clear();
        this.debug.flush()
    },
    delContactListener: function() {
        0 != this.contactListenerInited && (this.contactListenerInited = !1, this.contactListener.free(),
            this.contactListener = null)
    },
    update: function() {
        this.space.step(ha.timeStep, this.velocityIterations, this.positionIterations);
        1 == this.debugInited && 1 == this.debugEnabled && this.drawDebugData()
    },
    drawDebugData: function() {
        this.debug.clear();
        this.debug.draw(this.space);
        this.debug.flush()
    },
    free: function() {
        1 == this.contactListenerInited && this.delContactListener();
        this.borderBodyInited = !1;
        this.borderBody = null;
        this.space.clear()
    },
    __class__: ha
};
var lb = function() {};
h["tweenx909.EaseX"] = lb;
lb.__name__ = ["tweenx909",
    "EaseX"
];
lb.linear = function(a) {
    return a
};
lb.cubicIn = function(a) {
    return a * a * a
};
lb.cubicOut = function(a) {
    return --a * a * a + 1
};
lb.quintInOut = function(a) {
    return 1 > (a *= 2) ? .5 * a * a * a * a * a : .5 * (a -= 2) * a * a * a * a + 1
};
lb.bounceOut = function(a) {
    return .36363636363636365 > a ? 7.5625 * a * a : .7272727272727273 > a ? 7.5625 * (a -= .5454545454545454) * a + .75 : .9090909090909091 > a ? 7.5625 * (a -= .8181818181818182) * a + .9375 : 7.5625 * (a -= .9545454545454546) * a + .984375
};
lb.backIn = function(a) {
    return 0 == a ? 0 : 1 == a ? 1 : a * a * (2.70158 * a - 1.70158)
};
var Sf = function(a, b) {
    this.command =
        a;
    this.definedPosInfos = b
};
h["tweenx909.advanced.CommandX"] = Sf;
Sf.__name__ = ["tweenx909", "advanced", "CommandX"];
Sf.prototype = {
    __class__: Sf
};
var yh = function() {};
h["tweenx909.rule.BoolRuleX"] = yh;
yh.__name__ = ["tweenx909", "rule", "BoolRuleX"];
yh.calc = function(a, b, c, d, e) {
    return 0 < (a ? 1 : 0) * d + (b ? 1 : 0) * c
};
yh.defaultFrom = function(a, b, c) {
    return a
};
var we = function() {};
h["tweenx909.rule.ArrayRuleX"] = we;
we.__name__ = ["tweenx909", "rule", "ArrayRuleX"];
we.calc = function(a, b, c, d, e) {
    a = Qa(a)();
    var f = [];
    for (b = Qa(b)(); b.hasNext();) {
        var k =
            b.next(),
            g = a.next();
        f.push(we._calc(g, k, c, d, e))
    }
    return f
};
we._calc = function(a, b, c, d, e) {
    if ("number" == typeof b) return a * d + b * c;
    for (var f = null, k = !1, g = Qa(r.get_rules())(); g.hasNext();) {
        var h = g.next();
        if (D.__instanceof(b, h.inputClass)) {
            k = !0;
            f = h.calc(a, b, c, d, e);
            break
        }
    }
    if (!k) throw e.error("The tween rule for " + U.getClassName(U.getClass(b)) + " is not defined");
    return f
};
we.defaultFrom = function(a, b, c) {
    if (null != a)
        for (var d = [], e = Qa(b)(); e.hasNext();) e.next(), d.push(null);
    else if (be.count(a) != be.count(b)) throw c.error("The array length must be same with start.");
    d = [];
    b = Qa(b)();
    for (a = Qa(a)(); a.hasNext();) {
        var e = a.next(),
            f = b.next();
        d.push(we._defaultFrom(e, f, c))
    }
    return d
};
we._defaultFrom = function(a, b, c) {
    if ("number" == typeof b) return a;
    for (var d = Qa(r.get_rules())(); d.hasNext();) {
        var e = d.next();
        if (D.__instanceof(b, e.inputClass)) return e.defaultFrom(a, b, c)
    }
    throw c.error("The tween rule for " + U.getClassName(U.getClass(b)) + " is not defined");
};
var Le = function() {};
h["tweenx909.rule.TimelineX"] = Le;
Le.__name__ = ["tweenx909", "rule", "TimelineX"];
Le.calc = function(a, b, c,
    d, e) {
    a = c * b.length;
    c = b.timeline;
    d = 0;
    e = c.length;
    for (var f = e >> 1; 1 < e - d;) a < c[f] ? e = f : d = f, f = d + (e - d >> 1);
    return b.data[d]
};
Le.defaultFrom = function(a, b, c) {
    return null
};
Le.prototype = {
    __class__: Le
};
var sc = function(a, b, c) {
    this.r = a;
    this.g = b;
    this.b = c
};
h["tweenx909.rule.RgbX"] = sc;
sc.__name__ = ["tweenx909", "rule", "RgbX"];
sc.calc = function(a, b, c, d, e) {
    e = 255 * (a.r * d + b.r * c) | 0;
    0 > e ? e = 0 : 255 < e && (e = 255);
    var f = 255 * (a.g * d + b.g * c) | 0;
    0 > f ? f = 0 : 255 < f && (f = 255);
    a = 255 * (a.b * d + b.b * c) | 0;
    0 > a ? a = 0 : 255 < a && (a = 255);
    return e << 16 | f << 8 | a
};
sc.defaultFrom =
    function(a, b, c) {
        return sc.of(a)
    };
sc.of = function(a) {
    return new sc((a >> 16 & 255) / 255, (a >> 8 & 255) / 255, (a & 255) / 255)
};
sc.prototype = {
    __class__: sc
};
var tc = function(a, b, c) {
    this.h = a;
    this.s = b;
    this.v = c
};
h["tweenx909.rule.HsvX"] = tc;
tc.__name__ = ["tweenx909", "rule", "HsvX"];
tc.calc = function(a, b, c, d, e) {
    var f = a.h * d + b.h * c;
    e = a.s * d + b.s * c;
    a = a.v * d + b.v * c;
    f = 6 * (f - Math.floor(f));
    b = Math.floor(f);
    1 < e && (e = 1);
    0 > e && (e = 0);
    1 < a && (a = 1);
    0 > a && (a = 0);
    c = a * (1 - e);
    var f = f - b,
        k = d = 0,
        g = 0;
    switch (b) {
        case 0:
            d = a;
            k = a * (1 - e * (1 - f));
            g = c;
            break;
        case 1:
            d = a *
                (1 - e * f);
            k = a;
            g = c;
            break;
        case 2:
            d = c;
            k = a;
            g = a * (1 - e * (1 - f));
            break;
        case 3:
            d = c;
            k = a * (1 - e * f);
            g = a;
            break;
        case 4:
            d = a * (1 - e * (1 - f));
            k = c;
            g = a;
            break;
        case 5:
            d = a, k = c, g = a * (1 - e * f)
    }
    return (255 * d | 0) << 16 | (255 * k | 0) << 8 | 255 * g | 0
};
tc.defaultFrom = function(a, b, c) {
    return tc.of(a)
};
tc.of = function(a, b) {
    null == b && (b = 0);
    var c = (a >> 16 & 255) / 255,
        d = (a >> 8 & 255) / 255,
        e = (a & 255) / 255,
        f;
    c < d ? d < e ? (f = e, d = (4 + (c - d) / (c = f - c)) / 6) : (f = d, d = (2 + (e - c) / (c = f - (c < e ? c : e))) / 6) : c < e ? (f = e, d = (4 + (c - d) / (c = f - d)) / 6) : (f = c, d = (d - e) / (c = f - (d < e ? d : e)) / 6);
    0 > d && (d += 1);
    return new tc(d + b,
        c / f, f)
};
tc.prototype = {
    __class__: tc
};
var Lc = function(a, b, c, d) {
    this.a = a;
    this.r = b;
    this.g = c;
    this.b = d
};
h["tweenx909.rule.ArgbX"] = Lc;
Lc.__name__ = ["tweenx909", "rule", "ArgbX"];
Lc.calc = function(a, b, c, d, e) {
    e = 255 * (a.a * d + b.a * c) | 0;
    0 > e ? e = 0 : 255 < e && (e = 255);
    var f = 255 * (a.r * d + b.r * c) | 0;
    0 > f ? f = 0 : 255 < f && (f = 255);
    var k = 255 * (a.g * d + b.g * c) | 0;
    0 > k ? k = 0 : 255 < k && (k = 255);
    a = 255 * (a.b * d + b.b * c) | 0;
    0 > a ? a = 0 : 255 < a && (a = 255);
    return e << 24 | f << 16 | k << 8 | a
};
Lc.defaultFrom = function(a, b, c) {
    return Lc.of(a)
};
Lc.of = function(a) {
    return new Lc((a >>> 24 & 255) /
        255, (a >> 16 & 255) / 255, (a >> 8 & 255) / 255, (a & 255) / 255)
};
Lc.prototype = {
    __class__: Lc
};
var Qb = function(a, b, c, d) {
    this.a = a;
    this.h = b;
    this.s = c;
    this.v = d
};
h["tweenx909.rule.AhsvX"] = Qb;
Qb.__name__ = ["tweenx909", "rule", "AhsvX"];
Qb.calc = function(a, b, c, d, e) {
    e = a.a * d + b.a * c;
    1 < e && (e = 1);
    0 > e && (e = 0);
    var f = a.h * d + b.h * c,
        k = a.s * d + b.s * c;
    a = a.v * d + b.v * c;
    f = 6 * (f - Math.floor(f));
    b = Math.floor(f);
    1 < k && (k = 1);
    0 > k && (k = 0);
    1 < a && (a = 1);
    0 > a && (a = 0);
    c = a * (1 - k);
    var f = f - b,
        g = d = 0,
        h = 0;
    switch (b) {
        case 0:
            d = a;
            g = a * (1 - k * (1 - f));
            h = c;
            break;
        case 1:
            d = a * (1 - k * f);
            g = a;
            h = c;
            break;
        case 2:
            d = c;
            g = a;
            h = a * (1 - k * (1 - f));
            break;
        case 3:
            d = c;
            g = a * (1 - k * f);
            h = a;
            break;
        case 4:
            d = a * (1 - k * (1 - f));
            g = c;
            h = a;
            break;
        case 5:
            d = a, g = c, h = a * (1 - k * f)
    }
    return (255 * e | 0) << 24 | (255 * d | 0) << 16 | (255 * g | 0) << 8 | 255 * h | 0
};
Qb.defaultFrom = function(a, b, c) {
    return Qb.of(a)
};
Qb.of = function(a, b) {
    null == b && (b = 0);
    var c = (a >> 16 & 255) / 255,
        d = (a >> 8 & 255) / 255,
        e = (a & 255) / 255,
        f;
    c < d ? d < e ? (f = e, d = (4 + (c - d) / (c = f - c)) / 6) : (f = d, d = (2 + (e - c) / (c = f - (c < e ? c : e))) / 6) : c < e ? (f = e, d = (4 + (c - d) / (c = f - d)) / 6) : (f = c, d = (d - e) / (c = f - (d < e ? d : e)) / 6);
    0 > d && (d += 1);
    return new Qb((a >>>
        24 & 255) / 255, d + b, c / f, f)
};
Qb.prototype = {
    __class__: Qb
};
var Yd = function(a, b, c) {
    this.value = a;
    this.scale = b;
    this.ease = null == c ? l(this, this.none) : c
};
h["tweenx909.rule.QuakeX"] = Yd;
Yd.__name__ = ["tweenx909", "rule", "QuakeX"];
Yd.calc = function(a, b, c, d, e) {
    e = .5 > c ? a.ease(2 * c) : b.ease(2 * d);
    return a.value * d + b.value * c + e * (2 * Math.random() - 1) * (a.scale * d + b.scale * c)
};
Yd.defaultFrom = function(a, b, c) {
    return new Yd(a, b.scale, b.ease)
};
Yd.prototype = {
    none: function(a) {
        return 0 >= a ? 0 : 1
    },
    __class__: Yd
};
var Tf = h["tweenx909.advanced.UpdateModeX"] = {
    __ename__: ["tweenx909", "advanced", "UpdateModeX"],
    __constructs__: ["MANUAL", "TIME"]
};
Tf.MANUAL = ["MANUAL", 0];
Tf.MANUAL.toString = w;
Tf.MANUAL.__enum__ = Tf;
Tf.TIME = function(a) {
    a = ["TIME", 1, a];
    a.__enum__ = Tf;
    a.toString = w;
    return a
};
var r = function(a, b, c, d, e, f, k, g, h, y) {
    this.timeScale = 1;
    this._skip = null;
    this._currentTime = 0;
    Sf.call(this, Si.TWEEN(this), y);
    this._type = a;
    this._currentTime = 0;
    switch (a[1]) {
        case 0:
            this._easeIsDefault = !1;
            this._ease = null == c ? lb.linear : c;
            break;
        default:
            (this._easeIsDefault = null == c) ? this._ease =
                r.defaultEase: this._ease = c
    }(this._timeIsDefault = null == b) ? this._time = r.defaultTime: this._time = b;
    (this._delayIsDefault = null == d) ? this._delay = r.defaultDelay: this._delay = d;
    (this._intervalIsDefault = null == g) ? this._interval = r.defaultInterval: this._interval = g;
    (this._repeatIsDefault = null == e) ? this._repeat = r.defaultRepeat: this._repeat = e;
    (this._yoyoIsDefault = null == f) ? this._yoyo = r.defaultYoyo: this._yoyo = f;
    (this._zigzagIsDefault = null == k) ? this._zigzag = r.defaultZigZag: this._zigzag = k;
    (this._autoPlayIsDefault = null ==
        h) ? this._autoPlay = r.defaultAutoPlay: this._autoPlay = h;
    this._rest = 0;
    this._eventListeners = [];
    this.id = r.idCounter++;
    r._addedTweens.push(this);
    r.managerInited || r.initManager()
};
h["tweenx909.TweenX"] = r;
r.__name__ = ["tweenx909", "TweenX"];
r.__properties__ = {
    get_rules: "get_rules"
};
r.prevTime = null;
r.get_rules = function() {
    return r._rules
};
r.dumpDefaults = function() {
    return (new zh).dump()
};
r.setDefaults = function(a) {
    a.apply()
};
r.initManager = function() {
    r.managerInited = !0;
    r.stopUpdater();
    var a = r.updateMode;
    switch (a[1]) {
        case 1:
            a =
                a[2], r.prevTime = (new Date).getTime(), r.setInterval(r.mainLoop, Math.round(1E3 / a))
    }
};
r.mainLoop = function() {
    switch (r.updateMode[1]) {
        case 1:
            r.manualUpdate(((new Date).getTime() - r.prevTime) / 1E3);
            r.prevTime = (new Date).getTime();
            break;
        case 0:
            throw "invalid auto update";
    }
};
r.stopUpdater = function() {
    null != r._timer && (r._timer.stop(), r._timer = null)
};
r.manualUpdate = function(a) {
    r.initTweens();
    for (var b = r._tweens.length, c = 0; c < b;) {
        var d = r._tweens[c++];
        d._update(a * d.timeScale * r.topLevelTimeScale);
        d.playing || (r._tweens.splice(--c,
            1), b--)
    }
    r._resetLog()
};
r.initTweens = function() {
    for (var a = 0, b = r._addedTweens; a < b.length;) {
        var c = b[a];
        ++a;
        c._init()
    }
    r._addedTweens.splice(0, r._addedTweens.length)
};
r.to = function(a, b, c, d, e, f, k, g, h, y, m) {
    null == b && (b = {});
    return r.isIterable(a) ? new Zd(Mc.ARRAY(a, [{}], [b]), c, d, e, f, k, g, h, y, m) : new Zd(Mc.FROM_TO(a, {}, b), c, d, e, f, k, g, h, y, m)
};
r.tweenFunc1 = function(a, b, c, d, e, f, k, g, h, y, m, B) {
    return new r(Mc.FUNC(a, [b], [c]), d, e, f, k, g, h, y, m, B)
};
r.parallel = function(a, b, c) {
    return r._group(a, Uf.LAG(0), b, c)
};
r._group = function(a,
    b, c, d) {
    b = new r(Mc.GROUP(new Ti(a, b, c)), null, null, null, null, null, null, null, null, d);
    for (a = Qa(a)(); a.hasNext();)
        if (c = a.next(), null != c) switch (c = c.command, c[1]) {
            case 0:
                c = c[2];
                if (c._inited) throw c.error("Can't serialize initialized TweenCommandX");
                c._autoPlay = !1;
                c._parent = b
        }
        return b
};
r._timer = null;
r.setInterval = function(a, b) {
    null != r._timer && r._timer.stop();
    r._timer = new ob(b);
    r._timer.run = a
};
r._resetLog = function() {
    r._initLog = [];
    r.dictionary = new Yc
};
r.field = function(a, b) {
    var c;
    return null == a ? null : a.__properties__ &&
        (c = a.__properties__["get_" + b]) ? a[c]() : a[b]
};
r.setField = function(a, b, c) {
    var d;
    if (a.__properties__ && (d = a.__properties__["set_" + b])) a[d](c);
    else a[b] = c
};
r.isIterable = function(a) {
    return null != a && (a instanceof Array && null == a.__enum__ || Object.prototype.hasOwnProperty.call(a, "iterator") && Q.isFunction(Qa(a)) && null != Qa(a)())
};
r.__super__ = Sf;
r.prototype = v(Sf.prototype, {
    get_currentTime: function() {
        var a = this.get_totalTime(),
            b;
        b = this.backward ? a - this._currentTime : this._currentTime;
        0 > b && (b = 0);
        b > a && (b = a);
        return b
    },
    get_singleTime: function() {
        return this._time + this._interval
    },
    get_totalTime: function() {
        return this._delay + this.get_singleTime() * this._repeat - this._interval + this._rest
    },
    error: function(a) {
        var b = this.definedPosInfos;
        return a + "(Tween_" + this.id + " was generated at " + b.className + "/" + b.methodName + "() [" + b.fileName + ":" + b.lineNumber + "])"
    },
    play: function() {
        if (null != this._parent) throw this.error("Can't play serialized object directly");
        if (this.playing) return this;
        this._inited || this._init();
        this.playing = !0;
        r._tweens.push(this);
        this.dispatch(0);
        null != this._onPlay && this._onPlay();
        this.update(1.4901161415892264E-8);
        return this
    },
    stop: function() {
        if (null != this._parent) throw this.error("Can't stop serialized object directly");
        this._stop();
        return this
    },
    _stop: function() {
        this.playing && (this.playing = !1, this.dispatch(9), null != this._onStop && this._onStop())
    },
    update: function(a) {
        if (null != this._parent) throw this.error("Can't stop serialized object directly");
        this._update(a * this.timeScale * r.topLevelTimeScale);
        return this
    },
    _invert: function() {
        this._currentTime =
            this._totalTime - this._currentTime;
        0 == this._repeat % 2 && (this._odd = !this._odd);
        this._inverted = !this._inverted;
        var a = this._delay;
        this._delay = this._rest;
        this._rest = a
    },
    _init: function() {
        if (!this._inited) {
            this._inited = !0;
            r._groupDefaults && (this._easeIsDefault && (this._ease = r.defaultEase), this._timeIsDefault && (this._time = r.defaultTime), this._delayIsDefault && (this._delay = r.defaultDelay), this._intervalIsDefault && (this._interval = r.defaultInterval), this._repeatIsDefault && (this._repeat = r.defaultRepeat), this._yoyoIsDefault &&
                (this._yoyo = r.defaultYoyo), this._zigzagIsDefault && (this._zigzag = r.defaultZigZag), this._autoPlayIsDefault && (this._autoPlay = r.defaultAutoPlay));
            0 == this._repeat && (this._repeat = 2147483646);
            1.4901161415892264E-8 > this._time && (this._time = 1.4901161415892264E-8);
            (new Date).getTime();
            this._fastMode = !0;
            var a = this._type;
            switch (a[1]) {
                case 2:
                    var b = a[4];
                    this._initFromTo(a[2], a[3], b);
                    this._toKeys = Q.fields(b);
                    break;
                case 1:
                    for (var b = a[4], c = a[3], d = 0, a = Qa(a[2])(); a.hasNext();) {
                        var e = a.next(),
                            f = b[d];
                        this._initFromTo(e,
                            c[d], f);
                        0 == d && (this._toKeys = Q.fields(f));
                        d++
                    }
                    break;
                case 0:
                    this.initGroup(a[2])
            }
            this._singleTime = this.get_singleTime();
            this._totalTime = this.get_totalTime();
            this._autoPlay && this.play()
        }
    },
    _initFromTo: function(a, b, c) {
        throw this.error("must be standard tween.");
    },
    _update: function(a) {
        this._inited || this._init();
        if (0 != a) {
            this.backward && (a = -a);
            0 > a && (this._invert(), this.backward = !this.backward, a = -a);
            var b = this._currentTime,
                c = this.get_singleTime(),
                d = this._totalTime,
                e = this._time,
                f = this._delay,
                k = d - this._rest,
                g = 1.4901161415892264E-8 > b - f,
                h = !g && 1.4901161415892264E-8 > k - b,
                y = b - f,
                m = Math.floor(y / c),
                B = y - m * c,
                l = 1.4901161415892264E-8 > e - B;
            this._currentTime = b += a;
            B += a;
            y += a;
            if (1.4901161415892264E-8 > b - f) this.dispatch(1), null != this._onDelay && this._onDelay();
            else if (g && (this._apply(0, 0), this.dispatch(2), null != this._onHead && this._onHead(), this.dispatch(3), null != this._onUpdate && this._onUpdate()), 1.4901161415892264E-8 > k - b) h || (l && (this.dispatch(6), null != this._onRepeat && this._onRepeat(), this._apply(0, m), this.dispatch(2), null !=
                this._onHead && this._onHead(), this.dispatch(3), null != this._onUpdate && this._onUpdate()), this._apply(this._time, this._repeat - 1), this.dispatch(3), null != this._onUpdate && this._onUpdate(), this.dispatch(4), null != this._onFoot && this._onFoot()), 1.4901161415892264E-8 > d - b ? (this._currentTime = this._totalTime, this.dispatch(8), null != this._onFinish && this._onFinish(), this._stop()) : (this.dispatch(7), null != this._onRest && this._onRest());
            else {
                if (1.4901161415892264E-8 > e - B) {
                    !l && 0 <= m && (this._apply(this._time, m), this.dispatch(3),
                        null != this._onUpdate && this._onUpdate(), this.dispatch(4), null != this._onFoot && this._onFoot());
                    if (B < c) {
                        this.dispatch(5);
                        null != this._onInterval && this._onInterval();
                        return
                    }
                    0 <= m && (this.dispatch(6), null != this._onRepeat && this._onRepeat(), this._apply(0, m), this.dispatch(2), null != this._onHead && this._onHead(), this.dispatch(3), null != this._onUpdate && this._onUpdate());
                    m = y / c | 0;
                    B = y - m * c;
                    if (1.4901161415892264E-8 > e - B) {
                        this._apply(this._time, m);
                        this.dispatch(3);
                        null != this._onUpdate && this._onUpdate();
                        this.dispatch(4);
                        null != this._onFoot && this._onFoot();
                        this.dispatch(5);
                        null != this._onInterval && this._onInterval();
                        return
                    }
                } else l && (this.dispatch(6), null != this._onRepeat && this._onRepeat(), this._apply(0, m), this.dispatch(2), null != this._onHead && this._onHead(), this.dispatch(3), null != this._onUpdate && this._onUpdate());
                this._apply(B, m);
                this.dispatch(3);
                null != this._onUpdate && this._onUpdate()
            }
        }
    },
    _apply: function(a, b) {
        var c = this._getPosition(a, 1 == b % 2),
            d = this._type;
        switch (d[1]) {
            case 2:
                var e = d[4],
                    f = d[3],
                    k = d[2],
                    g = 1 - c;
                if (this._fastMode)
                    for (var d =
                        0, h = this._toKeys; d < h.length;) {
                        var y = h[d];
                        ++d;
                        r.setField(k, y, this._fastCalc(r.field(f, y), r.field(e, y), c, g))
                    } else
                        for (d = 0, h = this._toKeys; d < h.length;) y = h[d], ++d, r.setField(k, y, this._calc(r.field(f, y), r.field(e, y), c, g));
                break;
            case 1:
                e = d[4];
                f = d[3];
                k = 1 - c;
                g = 0;
                for (d = Qa(d[2])(); d.hasNext();)
                    for (var h = d.next(), y = e[g], m = f[g++], B = 0, l = this._toKeys; B < l.length;) {
                        var p = l[B];
                        ++B;
                        r.setField(h, p, this._calc(r.field(m, p), r.field(y, p), c, k))
                    }
                break;
            case 3:
                e = d[4];
                f = d[3];
                k = d[2];
                g = 1 - c;
                d = [];
                h = 0;
                for (y = e.length; h < y;) m = h++, d[m] =
                    this._calc(f[m], e[m], c, g);
                k.apply(null, d);
                break;
            case 0:
                e = d[2];
                f = e.tweens;
                c = 1.00000001 * (this._time * c - e.current);
                if (0 > c)
                    for (k = 1 - f.length; 1 > k;) g = k++, f[-g]._update(c);
                else
                    for (k = 0, g = f.length; k < g;) d = k++, f[d]._update(c);
                e.current = e.tweens[0].get_currentTime();
                break;
            case 4:
                e = d[2], 1 == c && e()
        }
    },
    _fastCalc: function(a, b, c, d) {
        return a * d + b * c
    },
    _calc: function(a, b, c, d) {
        if ("number" == typeof b) return a * d + b * c;
        for (var e = 0, f = r._rules.length, k, g = null, h = !1; e < f;)
            if (D.__instanceof(b, (k = r._rules[e++]).inputClass)) {
                h = !0;
                g = k.calc(a,
                    b, c, d, this);
                break
            }
        if (!h) throw this.error("The tween rule for " + U.getClassName(U.getClass(b)) + " is not defined");
        return g
    },
    time: function(a) {
        if (0 > a) throw this.error("Can't be negative value");
        this.checkInited();
        this._timeIsDefault = !1;
        this._time = a;
        return this
    },
    ease: function(a) {
        this.checkInited();
        this._easeIsDefault = !1;
        this._ease = a;
        return this
    },
    delay: function(a) {
        if (0 > a) throw this.error("Can't be negative value");
        this.checkInited();
        this._delayIsDefault = !1;
        this._delay = a;
        return this
    },
    onUpdate: function(a) {
        this._onUpdate =
            a;
        return this
    },
    onFinish: function(a) {
        this._onFinish = a;
        return this
    },
    _getPosition: function(a, b) {
        var c = a / this._time;
        this._odd && (b = !b);
        this._inverted && (c = 1 - c);
        b ? (this._yoyo && (c = 1 - c), c = this._ease(c), this._zigzag && (c = 1 - c)) : c = this._ease(c);
        return c
    },
    checkInited: function() {
        if (this._inited) throw this.error("Can't change params after initialization");
    },
    dispatch: function(a) {
        a = this._eventListeners[a];
        if (null != a)
            for (var b = 0; b < a.length;) {
                var c = a[b];
                ++b;
                c(this)
            }
    },
    initGroup: function(a) {
        var b = null,
            c = !1;
        null != a.defaults &&
            (b = r.dumpDefaults(), c = r._groupDefaults, r._groupDefaults = !0, r.setDefaults(a.defaults), r.defaultAutoPlay = !1);
        var d = 0,
            e = 0,
            f = [],
            k = a.type;
        switch (k[1]) {
            case 0:
                for (k = Qa(a.source)(); k.hasNext();) {
                    var g = k.next();
                    if (null != g) switch (g = g.command, g[1]) {
                        case 1:
                            d += g[2];
                            break;
                        case 0:
                            g = g[2];
                            f.push(g);
                            g._autoPlay = !1;
                            r._groupDefaults && g._delayIsDefault && (g._delay = r.defaultDelay);
                            g._init();
                            g._delay += d;
                            g._totalTime += d;
                            var h = g._totalTime,
                                d = null != g._skip ? d + g._skip : h;
                            e < h && (e = h)
                    }
                }
                break;
            case 1:
                for (k = k[2], g = Qa(a.source)(); g.hasNext();)
                    if (h =
                        g.next(), null != h) switch (h = h.command, h[1]) {
                        case 1:
                            d += h[2];
                            break;
                        case 0:
                            h = h[2];
                            f.push(h);
                            h._init();
                            h._delay += d;
                            h._totalTime += d;
                            var y = h._totalTime,
                                d = null != h._skip ? d + h._skip : d + k;
                            e < y && (e = y)
                    }
        }
        for (d = 0; d < f.length;) k = f[d], ++d, g = e - k._totalTime, k._rest += g, k._totalTime += g;
        this._time = e;
        a.tweens = f;
        a.source = null;
        null != a.defaults && (r._groupDefaults = c, r.setDefaults(b))
    },
    __class__: r,
    __properties__: {
        get_totalTime: "get_totalTime",
        get_singleTime: "get_singleTime",
        get_currentTime: "get_currentTime"
    }
});
var Si = h["tweenx909.advanced.CommandTypeX"] = {
    __ename__: ["tweenx909", "advanced", "CommandTypeX"],
    __constructs__: ["TWEEN", "WAIT"]
};
Si.TWEEN = function(a) {
    a = ["TWEEN", 0, a];
    a.__enum__ = Si;
    a.toString = w;
    return a
};
Si.WAIT = function(a) {
    a = ["WAIT", 1, a];
    a.__enum__ = Si;
    a.toString = w;
    return a
};
var zh = function() {
    this._autoPlay = !0;
    this._yoyo = this._zigzag = !1;
    this._repeat = 1;
    this._delay = this._interval = 0;
    this._time = .3;
    this._ease = r.DEFAULT_EASE
};
h["tweenx909.advanced.DefaultsX"] = zh;
zh.__name__ = ["tweenx909", "advanced", "DefaultsX"];
zh.prototype = {
    dump: function() {
        this._time =
            r.defaultTime;
        this._ease = r.defaultEase;
        this._delay = r.defaultDelay;
        this._interval = r.defaultInterval;
        this._repeat = r.defaultRepeat;
        this._yoyo = r.defaultYoyo;
        this._zigzag = r.defaultZigZag;
        this._autoPlay = r.defaultAutoPlay;
        return this
    },
    apply: function() {
        r.defaultTime = this._time;
        r.defaultEase = this._ease;
        r.defaultDelay = this._delay;
        r.defaultInterval = this._interval;
        r.defaultRepeat = this._repeat;
        r.defaultYoyo = this._yoyo;
        r.defaultZigZag = this._zigzag;
        r.defaultAutoPlay = this._autoPlay
    },
    clone: function() {
        var a = new zh;
        a._time = this._time;
        a._ease = this._ease;
        a._delay = this._delay;
        a._interval = this._interval;
        a._repeat = this._repeat;
        a._yoyo = this._yoyo;
        a._zigzag = this._zigzag;
        a._autoPlay = this._autoPlay;
        return a
    },
    __class__: zh
};
var Ti = function(a, b, c) {
    this.current = 0;
    this.source = a;
    this.type = b;
    null != c && (this.defaults = c.clone())
};
h["tweenx909.advanced.GroupX"] = Ti;
Ti.__name__ = ["tweenx909", "advanced", "GroupX"];
Ti.prototype = {
    __class__: Ti
};
var Uf = h["tweenx909.advanced._GroupX.GroupTypeX"] = {
    __ename__: ["tweenx909", "advanced", "_GroupX",
        "GroupTypeX"
    ],
    __constructs__: ["SERIAL", "LAG"]
};
Uf.SERIAL = ["SERIAL", 0];
Uf.SERIAL.toString = w;
Uf.SERIAL.__enum__ = Uf;
Uf.LAG = function(a) {
    a = ["LAG", 1, a];
    a.__enum__ = Uf;
    a.toString = w;
    return a
};
var Zd = function(a, b, c, d, e, f, g, q, h, y) {
    this._autoFrom = !0;
    switch (a[1]) {
        case 1:
            for (var m = a[4], B = a[3], l = a[2], p = B.pop(), u = m.pop(), l = Qa(l)(); l.hasNext();) l.next(), m.push(Zd.clone(u)), B.push(Zd.clone(p))
    }
    r.call(this, a, b, c, d, e, f, g, q, h, y)
};
h["tweenx909.advanced.StandardTweenX"] = Zd;
Zd.__name__ = ["tweenx909", "advanced", "StandardTweenX"];
Zd.clone = function(a) {
    for (var b = {}, c = 0, d = Q.fields(a); c < d.length;) {
        var e = d[c];
        ++c;
        Q.setProperty(b, e, Q.getProperty(a, e))
    }
    return b
};
Zd.__super__ = r;
Zd.prototype = v(r.prototype, {
    _initFromTo: function(a, b, c) {
        null == this._autoFrom && (this._autoFrom = r.defaultAutoFrom);
        this._initFrom(a, b, c);
        for (var d = {}, e = Q.fields(b), f = 0; f < e.length;) {
            var g = e[f];
            ++f;
            Object.prototype.hasOwnProperty.call(c, g) || r.setField(c, g, r.field(b, g));
            var q = this._getPosition(this._time, 0 == this._repeat % 2);
            r.setField(d, g, this._calc(r.field(b, g),
                r.field(c, g), q, 1 - q))
        }
        null != r.dictionary.get(a) ? b = r.dictionary.get(a) : (r._objCounter = 1 + r._objCounter % 33029, r.dictionary.set(a, r._objCounter), b = r._objCounter);
        if (null == r._initLog[b]) r._initLog[b] = [{
            target: a,
            data: d
        }];
        else {
            e = !1;
            f = 0;
            for (g = r._initLog[b]; f < g.length;)
                if (c = g[f], ++f, c.target == a) {
                    e = 0;
                    for (f = Q.fields(d); e < f.length;) g = f[e], ++e, r.setField(c.data, g, r.field(d, g));
                    e = !0;
                    break
                }
            e || r._initLog[b].push({
                target: a,
                data: d
            })
        }
    },
    _initFrom: function(a, b, c) {
        for (var d = null, e = 0, f = Q.fields(c); e < f.length;) {
            var g = f[e];
            ++e;
            "number" != typeof r.field(c, g) && (this._fastMode = !1);
            var q = "$$$$" == J.substr(g, 0, 4),
                h;
            h = q ? J.substr(g, 4, null) : g;
            var y, m = r.field(c, g);
            if (Object.prototype.hasOwnProperty.call(b, h)) y = r.field(b, h);
            else {
                if (this._autoFrom) {
                    if (null == d) {
                        d = {};
                        y = r._initLog;
                        var B;
                        null != r.dictionary.get(a) ? B = r.dictionary.get(a) : (B = void 0, r._objCounter = 1 + r._objCounter % 33029, r.dictionary.set(a, r._objCounter), B = r._objCounter);
                        y = y[B];
                        if (null != y)
                            for (B = 0; B < y.length;) {
                                var l = y[B];
                                ++B;
                                l.target == a && (d = l.data)
                            }
                    }
                    y = Object.prototype.hasOwnProperty.call(d,
                        h) ? this._defaultFrom(r.field(d, h), m) : this._defaultFrom(r.field(a, h), m)
                } else y = this._defaultFrom(r.field(a, h), m);
                r.setField(b, h, y)
            }
            q && (r.setField(c, h, m + y), Q.deleteField(c, g))
        }
    },
    _defaultFrom: function(a, b) {
        if ("number" == typeof b) return a;
        for (var c = 0, d = r._rules; c < d.length;) {
            var e = d[c];
            ++c;
            if (D.__instanceof(b, e.inputClass)) return e.defaultFrom(a, b, this)
        }
        throw this.error("The tween rule for " + U.getClassName(U.getClass(b)) + " is not defined");
    },
    play: function() {
        r.prototype.play.call(this);
        return this
    },
    stop: function() {
        r.prototype.stop.call(this);
        return this
    },
    update: function(a) {
        r.prototype.update.call(this, a);
        return this
    },
    onFinish: function(a) {
        r.prototype.onFinish.call(this, a);
        return this
    },
    onUpdate: function(a) {
        r.prototype.onUpdate.call(this, a);
        return this
    },
    time: function(a) {
        r.prototype.time.call(this, a);
        return this
    },
    ease: function(a) {
        r.prototype.ease.call(this, a);
        return this
    },
    delay: function(a) {
        r.prototype.delay.call(this, a);
        return this
    },
    __class__: Zd
});
var Mc = h["tweenx909.advanced.TweenTypeX"] = {
    __ename__: ["tweenx909", "advanced", "TweenTypeX"],
    __constructs__: ["GROUP", "ARRAY", "FROM_TO", "FUNC", "CALL"]
};
Mc.GROUP = function(a) {
    a = ["GROUP", 0, a];
    a.__enum__ = Mc;
    a.toString = w;
    return a
};
Mc.ARRAY = function(a, b, c) {
    a = ["ARRAY", 1, a, b, c];
    a.__enum__ = Mc;
    a.toString = w;
    return a
};
Mc.FROM_TO = function(a, b, c) {
    a = ["FROM_TO", 2, a, b, c];
    a.__enum__ = Mc;
    a.toString = w;
    return a
};
Mc.FUNC = function(a, b, c) {
    a = ["FUNC", 3, a, b, c];
    a.__enum__ = Mc;
    a.toString = w;
    return a
};
Mc.CALL = function(a) {
    a = ["CALL", 4, a];
    a.__enum__ = Mc;
    a.toString = w;
    return a
};
var rb = function() {
    Ce.call(this)
};
h["ui.Label"] = rb;
rb.__name__ = ["ui", "Label"];
rb.__super__ = Ce;
rb.prototype = v(Ce.prototype, {
    init: function() {
        Ce.prototype.init.call(this);
        this.set_font("assets/fonts/maiandra_gd_regular.ttf");
        this.set_size(18);
        this.set_color(2104603)
    },
    __class__: rb
});
var wh = function(a, b, c) {
    A.call(this);
    this.level = a;
    this.opened = b;
    this.stars = c;
    a = "assets/images/level_select/level_button_active.png";
    0 == this.opened && (a = "assets/images/level_select/level_button_normal.png");
    a = new xa(a);
    a.addEventListener("b_complete", l(this, this.buttonHandler));
    this.addChild(a);
    1 == this.opened ? (this.addTitle(a), this.addStars(a)) : a.mouseEnabled = !1
};
h["ui.LevelButton"] = wh;
wh.__name__ = ["ui", "LevelButton"];
wh.__super__ = A;
wh.prototype = v(A.prototype, {
    buttonHandler: function(a) {
        this.dispatchEvent(new z("b_complete"))
    },
    addTitle: function(a) {
        var b = new rb;
        b.set_align("center");
        b.set_fieldWidth(100);
        b.set_fieldHeight(100);
        b.set_size(50);
        b.set_text("" + this.level);
        b.set_x(-50);
        b.set_y(-27);
        b.mouseEnabled = !1;
        b.set_color(2563348);
        0 == this.opened && b.set_color(4142899);
        a.addChild(b)
    },
    addStars: function(a) {
        if (3 > this.stars) {
            var b = oa.buildSprite("assets/images/level_select/star_block.png");
            b.set_x(4);
            b.set_y(40);
            a.graph.addChild(b)
        }
        1 <= this.stars && this.createStar(a, -24, 39);
        2 <= this.stars && this.createStar(a, 2, 37);
        3 <= this.stars && this.createStar(a, 28, 39)
    },
    createStar: function(a, b, c) {
        var d = oa.buildSprite("assets/images/level_select/star.png");
        d.set_x(b);
        d.set_y(c);
        d.mouseEnabled = !1;
        a.graph.addChild(d)
    },
    __class__: wh
});
var Ff = function(a) {
    null == a && (a = 1);
    var b;
    1 == a ? (a = "assets/images/buttons/btn_sound_on.png",
        b = "assets/images/buttons/btn_sound_off.png") : (a = "assets/images/buttons/btn_sound_on2.png", b = "assets/images/buttons/btn_sound_off2.png");
    Sd.call(this, a, b);
    this.addEventListener("changeState", l(this, this.toggleSound));
    1 == P.get_instance().isMuted() && this.setState(kb.OFF)
};
h["ui.SoundButton"] = Ff;
Ff.__name__ = ["ui", "SoundButton"];
Ff.__super__ = Sd;
Ff.prototype = v(Sd.prototype, {
    toggleSound: function(a) {
        this.state == kb.ON ? (P.get_instance().mute(!1), aa.get_instance().save("soundMuted", !1, !0)) : (P.get_instance().mute(!0),
            aa.get_instance().save("soundMuted", !0, !0))
    },
    __class__: Ff
});
var xb = function() {};
h["zpp_nape.ZPP_ID"] = xb;
xb.__name__ = ["zpp_nape", "ZPP_ID"];
xb.Constraint = function() {
    return xb._Constraint++
};
xb.Interactor = function() {
    return xb._Interactor++
};
xb.CbType = function() {
    return xb._CbType++
};
xb.CbSet = function() {
    return xb._CbSet++
};
xb.Listener = function() {
    return xb._Listener++
};
var wd = function() {
    this.body = this.constraint = null;
    this.pre_swapped = !1;
    this.int1 = this.int2 = this.set = this.wrap_arbiters = this.pre_arbiter = null;
    this.length = 0;
    this.listener = this.next = this.prev = null;
    this.event = 0;
    this.outer_body = this.outer_con = this.outer_int = null;
    this.length = 0
};
h["zpp_nape.callbacks.ZPP_Callback"] = wd;
wd.__name__ = ["zpp_nape", "callbacks", "ZPP_Callback"];
wd.prototype = {
    wrapper_body: function() {
        null == this.outer_body && (this.outer_body = new Ng, this.outer_body.zpp_inner = this);
        return this.outer_body
    },
    wrapper_con: function() {
        null == this.outer_con && (this.outer_con = new Pg, this.outer_con.zpp_inner = this);
        return this.outer_con
    },
    wrapper_int: function() {
        null ==
            this.outer_int && (this.outer_int = new Qg, this.outer_int.zpp_inner = this);
        null == this.wrap_arbiters ? this.wrap_arbiters = Wd.get(this.set.arbiters, !0) : this.wrap_arbiters.zpp_inner.inner = this.set.arbiters;
        this.wrap_arbiters.zpp_inner.zip_length = !0;
        this.wrap_arbiters.zpp_inner.at_ite = null;
        return this.outer_int
    },
    push: function(a) {
        null != this.prev ? this.prev.next = a : this.next = a;
        a.prev = this.prev;
        a.next = null;
        this.prev = a;
        this.length++
    },
    pop: function() {
        var a = this.next;
        this.next = a.next;
        null == this.next ? this.prev = null : this.next.prev =
            null;
        this.length--;
        return a
    },
    empty: function() {
        return null == this.next
    },
    __class__: wd
};
var ka = function() {
    this.interactors = this.constraints = null;
    this.zip_conlisteners = !1;
    this.conlisteners = null;
    this.zip_bodylisteners = !1;
    this.bodylisteners = null;
    this.zip_listeners = !1;
    this.manager = this.cbpairs = this.listeners = null;
    this.id = 0;
    this.next = null;
    this.count = 0;
    this.cbTypes = null;
    this.cbTypes = new Md;
    this.listeners = new jf;
    this.zip_listeners = !0;
    this.bodylisteners = new Ah;
    this.zip_bodylisteners = !0;
    this.conlisteners = new Bh;
    this.zip_conlisteners = !0;
    this.constraints = new xe;
    this.interactors = new ke;
    this.id = xb.CbSet();
    this.cbpairs = new Ui
};
h["zpp_nape.callbacks.ZPP_CbSet"] = ka;
ka.__name__ = ["zpp_nape", "callbacks", "ZPP_CbSet"];
ka.setlt = function(a, b) {
    for (var c = a.cbTypes.head, d = b.cbTypes.head; null != c && null != d;) {
        var e = c.elt,
            f = d.elt;
        if (e.id < f.id) return !0;
        if (f.id < e.id) return !1;
        c = c.next;
        d = d.next
    }
    return null != d && null == c
};
ka.get = function(a) {
    var b;
    null == ka.zpp_pool ? b = new ka : (b = ka.zpp_pool, ka.zpp_pool = b.next, b.next = null);
    null;
    var c = null;
    for (a = a.head; null != a;) {
        var d = a.elt,
            c = b.cbTypes.insert(c, d);
        d.cbsets.add(b);
        a = a.next
    }
    return b
};
ka.single_intersection = function(a, b, c) {
    return a.manager.pair(a, b).single_intersection(c)
};
ka.find_all = function(a, b, c, d) {
    a.manager.pair(a, b).forall(c, d)
};
ka.prototype = {
    invalidate_pairs: function() {
        for (var a = this.cbpairs.head; null != a;) a.elt.zip_listeners = !0, a = a.next
    },
    realvalidate_listeners: function() {
        this.listeners.clear();
        for (var a = this.cbTypes.head; null != a;) {
            for (var b = null, c = this.listeners.head, d = a.elt.listeners.head; null !=
                d;) {
                var e = d.elt;
                null != c && c.elt == e ? (d = d.next, b = c, c = c.next) : null == c || uc.setlt(e, c.elt) ? (e.space == this.manager.space && (b = this.listeners.inlined_insert(b, e)), d = d.next) : (b = c, c = c.next)
            }
            a = a.next
        }
    },
    realvalidate_bodylisteners: function() {
        this.bodylisteners.clear();
        for (var a = this.cbTypes.head; null != a;) {
            for (var b = null, c = this.bodylisteners.head, d = a.elt.bodylisteners.head; null != d;) {
                var e = d.elt;
                null != c && c.elt == e ? (d = d.next, b = c, c = c.next) : null == c || uc.setlt(e, c.elt) ? (e.options.excluded(this.cbTypes) || e.space != this.manager.space ||
                    (b = this.bodylisteners.inlined_insert(b, e)), d = d.next) : (b = c, c = c.next)
            }
            a = a.next
        }
    },
    realvalidate_conlisteners: function() {
        this.conlisteners.clear();
        for (var a = this.cbTypes.head; null != a;) {
            for (var b = null, c = this.conlisteners.head, d = a.elt.conlisteners.head; null != d;) {
                var e = d.elt;
                null != c && c.elt == e ? (d = d.next, b = c, c = c.next) : null == c || uc.setlt(e, c.elt) ? (e.options.excluded(this.cbTypes) || e.space != this.manager.space || (b = this.conlisteners.inlined_insert(b, e)), d = d.next) : (b = c, c = c.next)
            }
            a = a.next
        }
    },
    validate: function() {
        this.zip_listeners &&
            (this.zip_listeners = !1, this.realvalidate_listeners());
        this.zip_bodylisteners && (this.zip_bodylisteners = !1, this.realvalidate_bodylisteners());
        this.zip_conlisteners && (this.zip_conlisteners = !1, this.realvalidate_conlisteners())
    },
    free: function() {
        this.listeners.clear();
        this.zip_listeners = !0;
        this.bodylisteners.clear();
        this.zip_bodylisteners = !0;
        this.conlisteners.clear();
        for (this.zip_conlisteners = !0; null != this.cbTypes.head;) this.cbTypes.pop_unsafe().cbsets.remove(this)
    },
    __class__: ka
};
var Ea = function() {
    this.listeners =
        null;
    this.zip_listeners = !1;
    this.a = this.b = this.next = null;
    this.listeners = new jf
};
h["zpp_nape.callbacks.ZPP_CbSetPair"] = Ea;
Ea.__name__ = ["zpp_nape", "callbacks", "ZPP_CbSetPair"];
Ea.get = function(a, b) {
    var c;
    null == Ea.zpp_pool ? c = new Ea : (c = Ea.zpp_pool, Ea.zpp_pool = c.next, c.next = null);
    c.zip_listeners = !0;
    ka.setlt(a, b) ? (c.a = a, c.b = b) : (c.a = b, c.b = a);
    return c
};
Ea.setlt = function(a, b) {
    return ka.setlt(a.a, b.a) || a.a == b.a && ka.setlt(a.b, b.b)
};
Ea.prototype = {
    __validate: function() {
        this.listeners.clear();
        for (var a = this.a.listeners.head,
            b = this.b.listeners.head; null != a && null != b;) {
            var c = a.elt,
                d = b.elt;
            c == d ? ((c.options1.compatible(this.a.cbTypes) && c.options2.compatible(this.b.cbTypes) || c.options2.compatible(this.a.cbTypes) && c.options1.compatible(this.b.cbTypes)) && this.listeners.add(c), a = a.next, b = b.next) : c.precedence > d.precedence || c.precedence == d.precedence && c.id > d.id ? a = a.next : b = b.next
        }
    },
    empty_intersection: function() {
        return null == this.listeners.head
    },
    single_intersection: function(a) {
        var b = this.listeners.head;
        return null != b && b.elt == a &&
            null == b.next
    },
    forall: function(a, b) {
        for (var c = this.listeners.head; null != c;) {
            var d = c.elt;
            d.event == a && b(d);
            c = c.next
        }
    },
    __class__: Ea
};
var jf = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_InteractionListener"] = jf;
jf.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_InteractionListener"];
jf.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == Jb.zpp_pool ? b = new Jb : (b = Jb.zpp_pool, Jb.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    inlined_insert: function(a, b) {
        var c;
        null == Jb.zpp_pool ? c = new Jb : (c = Jb.zpp_pool, Jb.zpp_pool = c.next, c.next = null);
        null;
        c.elt = b;
        null == a ? (c.next = this.head, this.head = c) : (c.next = a.next, a.next = c);
        this.pushmod = this.modified = !0;
        this.length++;
        return c
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = Jb.zpp_pool;
        Jb.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = Jb.zpp_pool;
        Jb.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    clear: function() {
        for (; null != this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    inlined_clear: function() {
        for (; null !=
            this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    __class__: jf
};
var Ah = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_BodyListener"] = Ah;
Ah.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_BodyListener"];
Ah.prototype = {
    inlined_insert: function(a, b) {
        var c;
        null == Nd.zpp_pool ? c = new Nd : (c = Nd.zpp_pool, Nd.zpp_pool = c.next, c.next = null);
        null;
        c.elt = b;
        null == a ? (c.next = this.head, this.head = c) : (c.next = a.next, a.next = c);
        this.pushmod = this.modified = !0;
        this.length++;
        return c
    },
    inlined_pop: function() {
        var a =
            this.head;
        this.head = a.next;
        a.elt = null;
        a.next = Nd.zpp_pool;
        Nd.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt =
            null;
        a.next = Nd.zpp_pool;
        Nd.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    clear: function() {
        for (; null != this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    __class__: Ah
};
var Bh = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_ConstraintListener"] = Bh;
Bh.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_ConstraintListener"];
Bh.prototype = {
    inlined_insert: function(a, b) {
        var c;
        null == gd.zpp_pool ? c = new gd : (c = gd.zpp_pool, gd.zpp_pool = c.next, c.next = null);
        null;
        c.elt = b;
        null == a ? (c.next = this.head, this.head = c) : (c.next = a.next, a.next = c);
        this.pushmod = this.modified = !0;
        this.length++;
        return c
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = gd.zpp_pool;
        gd.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b,
            c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = gd.zpp_pool;
        gd.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    clear: function() {
        for (; null != this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    __class__: Bh
};
var xe = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_Constraint"] = xe;
xe.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_Constraint"];
xe.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == Ub.zpp_pool ? b = new Ub : (b = Ub.zpp_pool, Ub.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    insert: function(a, b) {
        return this.inlined_insert(a, b)
    },
    inlined_insert: function(a, b) {
        var c;
        null == Ub.zpp_pool ? c = new Ub : (c = Ub.zpp_pool, Ub.zpp_pool = c.next, c.next = null);
        null;
        c.elt = b;
        null == a ? (c.next = this.head, this.head = c) : (c.next = a.next, a.next = c);
        this.pushmod = this.modified = !0;
        this.length++;
        return c
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = Ub.zpp_pool;
        Ub.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    erase: function(a) {
        return this.inlined_erase(a)
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = Ub.zpp_pool;
        Ub.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    clear: function() {
        for (; null != this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    iterator_at: function(a) {
        for (var b = this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: xe
};
var ke = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_Interactor"] = ke;
ke.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_Interactor"];
ke.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == hd.zpp_pool ? b = new hd : (b = hd.zpp_pool, hd.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a =
            this.head;
        this.head = a.next;
        a.elt = null;
        a.next = hd.zpp_pool;
        hd.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head,
            this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = hd.zpp_pool;
        hd.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    clear: function() {
        for (; null != this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    inlined_clear: function() {
        for (; null != this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    iterator_at: function(a) {
        for (var b = this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: ke
};
var kf = function() {
    this.length = 0;
    this.modified =
        this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_CbSet"] = kf;
kf.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_CbSet"];
kf.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == xd.zpp_pool ? b = new xd : (b = xd.zpp_pool, xd.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = xd.zpp_pool;
        xd.zpp_pool =
            a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next,
            c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = xd.zpp_pool;
        xd.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    __class__: kf
};
var $a = function() {
    this.cbsets = this.listeners = this.bodylisteners = this.conlisteners = null;
    this.id = 0;
    this.outer = null;
    this.id = xb.CbType();
    this.listeners = new jf;
    this.bodylisteners = new Ah;
    this.conlisteners = new Bh;
    this.constraints = new xe;
    this.interactors = new ke;
    this.cbsets = new kf
};
h["zpp_nape.callbacks.ZPP_CbType"] = $a;
$a.__name__ = ["zpp_nape",
    "callbacks", "ZPP_CbType"
];
$a.prototype = {
    addint: function(a) {
        for (var b = null, c = this.listeners.head; null != c;) {
            var d = c.elt;
            if (a.precedence > d.precedence || a.precedence == d.precedence && a.id > d.id) break;
            b = c;
            c = c.next
        }
        this.listeners.inlined_insert(b, a);
        this.invalidateint()
    },
    invalidateint: function() {
        for (var a = this.cbsets.head; null != a;) {
            var b = a.elt;
            b.zip_listeners = !0;
            b.invalidate_pairs();
            a = a.next
        }
    },
    addbody: function(a) {
        for (var b = null, c = this.bodylisteners.head; null != c;) {
            var d = c.elt;
            if (a.precedence > d.precedence || a.precedence ==
                d.precedence && a.id > d.id) break;
            b = c;
            c = c.next
        }
        this.bodylisteners.inlined_insert(b, a);
        this.invalidatebody()
    },
    invalidatebody: function() {
        for (var a = this.cbsets.head; null != a;) a.elt.zip_bodylisteners = !0, a = a.next
    },
    addconstraint: function(a) {
        for (var b = null, c = this.conlisteners.head; null != c;) {
            var d = c.elt;
            if (a.precedence > d.precedence || a.precedence == d.precedence && a.id > d.id) break;
            b = c;
            c = c.next
        }
        this.conlisteners.inlined_insert(b, a);
        this.invalidateconstraint()
    },
    invalidateconstraint: function() {
        for (var a = this.cbsets.head; null !=
            a;) a.elt.zip_conlisteners = !0, a = a.next
    },
    __class__: $a
};
var g = function() {};
h["zpp_nape.util.ZPP_Flags"] = g;
g.__name__ = ["zpp_nape", "util", "ZPP_Flags"];
g.GravMassMode_DEFAULT = null;
g.GravMassMode_FIXED = null;
g.GravMassMode_SCALED = null;
g.InertiaMode_DEFAULT = null;
g.InertiaMode_FIXED = null;
g.MassMode_DEFAULT = null;
g.MassMode_FIXED = null;
g.BodyType_STATIC = null;
g.BodyType_DYNAMIC = null;
g.BodyType_KINEMATIC = null;
g.ListenerType_BODY = null;
g.PreFlag_ACCEPT = null;
g.ListenerType_CONSTRAINT = null;
g.PreFlag_IGNORE = null;
g.ListenerType_INTERACTION =
    null;
g.PreFlag_ACCEPT_ONCE = null;
g.ListenerType_PRE = null;
g.PreFlag_IGNORE_ONCE = null;
g.CbEvent_BEGIN = null;
g.InteractionType_COLLISION = null;
g.CbEvent_ONGOING = null;
g.InteractionType_SENSOR = null;
g.CbEvent_END = null;
g.InteractionType_FLUID = null;
g.CbEvent_WAKE = null;
g.InteractionType_ANY = null;
g.CbEvent_SLEEP = null;
g.CbEvent_BREAK = null;
g.CbEvent_PRE = null;
g.Winding_UNDEFINED = null;
g.Winding_CLOCKWISE = null;
g.Winding_ANTICLOCKWISE = null;
g.ValidationResult_VALID = null;
g.ValidationResult_DEGENERATE = null;
g.ValidationResult_CONCAVE =
    null;
g.ValidationResult_SELF_INTERSECTING = null;
g.ShapeType_CIRCLE = null;
g.ShapeType_POLYGON = null;
g.Broadphase_DYNAMIC_AABB_TREE = null;
g.Broadphase_SWEEP_AND_PRUNE = null;
g.ArbiterType_COLLISION = null;
g.ArbiterType_SENSOR = null;
g.ArbiterType_FLUID = null;
var uc = function() {
    this.body = this.constraint = this.interaction = this.space = null;
    this.id = this.type = this.event = this.precedence = 0;
    this.outer = null;
    this.id = xb.Listener()
};
h["zpp_nape.callbacks.ZPP_Listener"] = uc;
uc.__name__ = ["zpp_nape", "callbacks", "ZPP_Listener"];
uc.setlt = function(a, b) {
    return a.precedence > b.precedence || a.precedence == b.precedence && a.id > b.id
};
uc.prototype = {
    addedToSpace: function() {},
    removedFromSpace: function() {},
    __class__: uc
};
var Vi = function() {
    this.outer_zn = this.options = this.handler = null
};
h["zpp_nape.callbacks.ZPP_BodyListener"] = Vi;
Vi.__name__ = ["zpp_nape", "callbacks", "ZPP_BodyListener"];
Vi.__super__ = uc;
Vi.prototype = v(uc.prototype, {
    addedToSpace: function() {
        this.options.handler = l(this, this.cbtype_change);
        for (var a = this.options.includes.head; null !=
            a;) a.elt.addbody(this), a = a.next
    },
    removedFromSpace: function() {
        for (var a = this.options.includes.head; null != a;) {
            var b = a.elt;
            b.bodylisteners.remove(this);
            b.invalidatebody();
            a = a.next
        }
        this.options.handler = null
    },
    cbtype_change: function(a, b, c) {
        this.removedFromSpace();
        this.options.effect_change(a, b, c);
        this.addedToSpace()
    },
    __class__: Vi
});
var Wi = function() {
    this.outer_zn = this.options = this.handler = null
};
h["zpp_nape.callbacks.ZPP_ConstraintListener"] = Wi;
Wi.__name__ = ["zpp_nape", "callbacks", "ZPP_ConstraintListener"];
Wi.__super__ = uc;
Wi.prototype = v(uc.prototype, {
    addedToSpace: function() {
        this.options.handler = l(this, this.cbtype_change);
        for (var a = this.options.includes.head; null != a;) a.elt.addconstraint(this), a = a.next
    },
    removedFromSpace: function() {
        for (var a = this.options.includes.head; null != a;) {
            var b = a.elt;
            b.conlisteners.remove(this);
            b.invalidateconstraint();
            a = a.next
        }
        this.options.handler = null
    },
    cbtype_change: function(a, b, c) {
        this.removedFromSpace();
        this.options.effect_change(a, b, c);
        this.addedToSpace()
    },
    __class__: Wi
});
var Md =
    function() {
        this.length = 0;
        this.modified = this.pushmod = !1;
        this.head = null
    };
h["zpp_nape.util.ZNPList_ZPP_CbType"] = Md;
Md.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_CbType"];
Md.prototype = {
    inlined_add: function(a) {
        var b;
        null == ic.zpp_pool ? b = new ic : (b = ic.zpp_pool, ic.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    insert: function(a, b) {
        return this.inlined_insert(a, b)
    },
    inlined_insert: function(a, b) {
        var c;
        null == ic.zpp_pool ? c = new ic : (c = ic.zpp_pool, ic.zpp_pool =
            c.next, c.next = null);
        null;
        c.elt = b;
        null == a ? (c.next = this.head, this.head = c) : (c.next = a.next, a.next = c);
        this.pushmod = this.modified = !0;
        this.length++;
        return c
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = ic.zpp_pool;
        ic.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = ic.zpp_pool;
        ic.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    clear: function() {
        for (; null != this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    has: function(a) {
        return this.inlined_has(a)
    },
    inlined_has: function(a) {
        var b;
        b = !1;
        for (var c = this.head; null != c;) {
            if (c.elt == a) {
                b = !0;
                break
            }
            c = c.next
        }
        return b
    },
    iterator_at: function(a) {
        for (var b = this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: Md
};
var la = function(a, b, c, d) {
    this.handlerp = null;
    this.allowSleepingCallbacks = this.pure = !1;
    this.options1 = this.options2 = this.handleri = null;
    this.itype = 0;
    this.outer_zni = this.outer_znp = null;
    uc.call(this);
    this.type = d;
    this.interaction = this;
    this.event = c;
    this.options1 = a.zpp_inner;
    this.options2 = b.zpp_inner;
    this.allowSleepingCallbacks = !1
};
h["zpp_nape.callbacks.ZPP_InteractionListener"] = la;
la.__name__ = ["zpp_nape", "callbacks", "ZPP_InteractionListener"];
la.__super__ = uc;
la.prototype = v(uc.prototype, {
    CbSetset: function(a, b, c) {
        var d = la.UCbSet,
            e = la.VCbSet,
            f = la.WCbSet;
        a = a.head;
        for (var g = b.head; null != a && null != g;) {
            var q = a.elt,
                h = g.elt;
            q == h ? (f.inlined_add(q), a = a.next, g = g.next) : ka.setlt(q, h) ? (d.inlined_add(q), a = a.next) : (e.inlined_add(h), g = g.next)
        }
        for (; null != a;) d.inlined_add(a.elt), a = a.next;
        for (; null != g;) e.inlined_add(g.elt), g = g.next;
        for (; null !=
            d.head;)
            for (a = d.pop_unsafe(), g = b.head; null != g;) c(a, g.elt), g = g.next;
        for (; null != e.head;)
            for (b = e.pop_unsafe(), d = f.head; null != d;) c(b, d.elt), d = d.next;
        for (; null != f.head;)
            for (e = f.pop_unsafe(), c(e, e), b = f.head; null != b;) c(e, b.elt), b = b.next
    },
    CbTypeset: function(a, b, c) {
        var d = la.UCbType,
            e = la.VCbType,
            f = la.WCbType;
        a = a.head;
        for (var g = b.head; null != a && null != g;) {
            var q = a.elt,
                h = g.elt;
            q == h ? (f.inlined_add(q), a = a.next, g = g.next) : q.id < h.id ? (d.inlined_add(q), a = a.next) : (e.inlined_add(h), g = g.next)
        }
        for (; null != a;) d.inlined_add(a.elt),
            a = a.next;
        for (; null != g;) e.inlined_add(g.elt), g = g.next;
        for (; null != d.head;)
            for (a = d.pop_unsafe(), g = b.head; null != g;) c(a, g.elt), g = g.next;
        for (; null != e.head;)
            for (b = e.pop_unsafe(), d = f.head; null != d;) c(b, d.elt), d = d.next;
        for (; null != f.head;)
            for (e = f.pop_unsafe(), c(e, e), b = f.head; null != b;) c(e, b.elt), b = b.next
    },
    with_uniquesets: function(a) {
        var b = this,
            c;
        null == db.zpp_pool ? c = new db : (c = db.zpp_pool, db.zpp_pool = c.next, c.next = null);
        null;
        c.lt = Ea.setlt;
        this.CbTypeset(this.options1.includes, this.options2.includes, function(a,
            d) {
            b.CbSetset(a.cbsets, d.cbsets, function(a, d) {
                a.validate();
                d.validate();
                ka.single_intersection(a, d, b) && c.try_insert(Ea.get(a, d))
            })
        });
        c.clear_with(function(c) {
            a ? b.space.freshListenerType(c.a, c.b) : b.space.nullListenerType(c.a, c.b);
            c.a = c.b = null;
            c.listeners.clear();
            c.next = Ea.zpp_pool;
            Ea.zpp_pool = c
        });
        var d = c;
        d.data = null;
        d.lt = null;
        d.swapped = null;
        d.next = db.zpp_pool;
        db.zpp_pool = d
    },
    with_union: function(a) {
        for (var b = this.options1.includes.head, c = this.options2.includes.head; null != b && null != c;) {
            var d = b.elt,
                e = c.elt;
            d == e ? (a(d), b = b.next, c = c.next) : d.id < e.id ? (a(d), b = b.next) : (a(e), c = c.next)
        }
        for (; null != b;) a(b.elt), b = b.next;
        for (; null != c;) a(c.elt), c = c.next
    },
    addedToSpace: function() {
        var a = this,
            b = this.type == g.id_ListenerType_PRE;
        this.with_union(function(c) {
            c.addint(a);
            if (b)
                for (c = c.interactors.head; null != c;) c.elt.wake(), c = c.next
        });
        this.options1.handler = l(this, this.cbtype_change1);
        this.options2.handler = l(this, this.cbtype_change2);
        this.with_uniquesets(!0)
    },
    removedFromSpace: function() {
        var a = this;
        this.with_uniquesets(!1);
        var b =
            this.type == g.id_ListenerType_PRE;
        this.with_union(function(c) {
            c.listeners.remove(a);
            c.invalidateint();
            if (b)
                for (c = c.interactors.head; null != c;) c.elt.wake(), c = c.next
        });
        this.options1.handler = null;
        this.options2.handler = null
    },
    cbtype_change1: function(a, b, c) {
        this.cbtype_change(this.options1, a, b, c)
    },
    cbtype_change2: function(a, b, c) {
        this.cbtype_change(this.options2, a, b, c)
    },
    cbtype_change: function(a, b, c, d) {
        this.removedFromSpace();
        a.effect_change(b, c, d);
        this.addedToSpace();
        null
    },
    __class__: la
});
var Ve = function() {
    this.outer =
        this.handler = this.includes = this.excludes = this.wrap_includes = this.wrap_excludes = null;
    this.includes = new Md;
    this.excludes = new Md
};
h["zpp_nape.callbacks.ZPP_OptionType"] = Ve;
Ve.__name__ = ["zpp_nape", "callbacks", "ZPP_OptionType"];
Ve.argument = function(a) {
    return null == a ? new Xe : D.__instanceof(a, Xe) ? a : (new Xe).including(a)
};
Ve.prototype = {
    setup_includes: function() {
        this.wrap_includes = ge.get(this.includes, !0)
    },
    setup_excludes: function() {
        this.wrap_excludes = ge.get(this.excludes, !0)
    },
    excluded: function(a) {
        return this.nonemptyintersection(a,
            this.excludes)
    },
    compatible: function(a) {
        return this.nonemptyintersection(a, this.includes) && !this.nonemptyintersection(a, this.excludes)
    },
    nonemptyintersection: function(a, b) {
        for (var c = !1, d = a.head, e = b.head; null != e && null != d;) {
            var f = e.elt,
                g = d.elt;
            if (f == g) {
                c = !0;
                break
            } else f.id < g.id ? e = e.next : d = d.next
        }
        return c
    },
    effect_change: function(a, b, c) {
        if (b)
            if (c) {
                b = null;
                for (c = this.includes.head; null != c && !(a.id < c.elt.id);) b = c, c = c.next;
                this.includes.inlined_insert(b, a)
            } else this.includes.remove(a);
        else if (c) {
            b = null;
            for (c =
                this.excludes.head; null != c && !(a.id < c.elt.id);) b = c, c = c.next;
            this.excludes.inlined_insert(b, a)
        } else this.excludes.remove(a)
    },
    append_type: function(a, b) {
        a == this.includes ? this.includes.has(b) || (this.excludes.has(b) ? null != this.handler ? this.handler(b, !1, !1) : this.effect_change(b, !1, !1) : null != this.handler ? this.handler(b, !0, !0) : this.effect_change(b, !0, !0)) : this.excludes.has(b) || (this.includes.has(b) ? null != this.handler ? this.handler(b, !0, !1) : this.effect_change(b, !0, !1) : null != this.handler ? this.handler(b, !1, !0) :
            this.effect_change(b, !1, !0))
    },
    append: function(a, b) {
        if (D.__instanceof(b, Ee)) this.append_type(a, b.zpp_inner);
        else if (D.__instanceof(b, Og)) {
            var c;
            b.zpp_inner.valmod();
            for (c = Ec.get(b); c.hasNext();) {
                var d;
                c.zpp_critical = !1;
                d = c.zpp_inner.at(c.zpp_i++);
                this.append_type(a, d.zpp_inner)
            }
        } else if (b instanceof Array && null == b.__enum__)
            for (c = 0; c < b.length;) d = b[c], ++c, this.append_type(a, d.zpp_inner)
    },
    __class__: Ve
};
var id = function() {
    this.pre_dt = 0;
    this.cbTypes = this.cbSet = null;
    this.ignore = this.__velocity = !1;
    this.component =
        null;
    this.breakUnderForce = this.breakUnderError = this.removeOnBreak = !1;
    this.frequency = this.damping = this.maxForce = this.maxError = 0;
    this.active = this.stiff = !1;
    this.compound = this.space = null;
    this.id = 0;
    this.outer = null;
    this.__velocity = !1;
    this.id = xb.Constraint();
    this.active = this.stiff = !0;
    this.ignore = !1;
    this.frequency = 10;
    this.damping = 1;
    this.maxError = this.maxForce = Math.POSITIVE_INFINITY;
    this.breakUnderForce = !1;
    this.removeOnBreak = !0;
    this.pre_dt = -1;
    this.cbTypes = new Md
};
h["zpp_nape.constraint.ZPP_Constraint"] = id;
id.__name__ = ["zpp_nape", "constraint", "ZPP_Constraint"];
id.prototype = {
    immutable_midstep: function(a) {},
    insert_cbtype: function(a) {
        if (!this.cbTypes.has(a)) {
            null != this.space && (this.dealloc_cbSet(), a.constraints.add(this));
            for (var b = null, c = this.cbTypes.head; null != c && !(a.id < c.elt.id);) b = c, c = c.next;
            this.cbTypes.inlined_insert(b, a);
            null != this.space && (this.alloc_cbSet(), this.wake())
        }
    },
    alloc_cbSet: function() {
        null != (this.cbSet = this.space.cbsets.get(this.cbTypes)) && (this.cbSet.count++, this.cbSet.constraints.add(this))
    },
    dealloc_cbSet: function() {
        if (null != this.cbSet) {
            this.cbSet.constraints.remove(this);
            if (0 == --this.cbSet.count) {
                this.space.cbsets.remove(this.cbSet);
                var a = this.cbSet;
                a.free();
                a.next = ka.zpp_pool;
                ka.zpp_pool = a
            }
            this.cbSet = null
        }
    },
    addedToSpace: function() {
        this.active && this.activeInSpace();
        this.activeBodies();
        for (var a = this.cbTypes.head; null != a;) a.elt.constraints.add(this), a = a.next
    },
    removedFromSpace: function() {
        this.active && this.inactiveOrOutSpace();
        this.inactiveBodies();
        for (var a = this.cbTypes.head; null != a;) a.elt.constraints.remove(this),
            a = a.next
    },
    activeInSpace: function() {
        this.alloc_cbSet();
        null == vc.zpp_pool ? this.component = new vc : (this.component = vc.zpp_pool, vc.zpp_pool = this.component.next, this.component.next = null);
        null;
        this.component.isBody = !1;
        this.component.constraint = this
    },
    inactiveOrOutSpace: function() {
        this.dealloc_cbSet();
        var a = this.component;
        a.body = null;
        a.constraint = null;
        null;
        a.next = vc.zpp_pool;
        vc.zpp_pool = a;
        this.component = null
    },
    activeBodies: function() {},
    inactiveBodies: function() {},
    clearcache: function() {},
    wake_connected: function() {},
    forest: function() {},
    pair_exists: function(a, b) {
        return !1
    },
    broken: function() {},
    warmStart: function() {},
    preStep: function(a) {
        return !1
    },
    applyImpulseVel: function() {
        return !1
    },
    applyImpulsePos: function() {
        return !1
    },
    wake: function() {
        null != this.space && this.space.wake_constraint(this)
    },
    __class__: id
};
var Tg = function() {
    this.stepped = !1;
    this.kMass = this.jAcc = this.jMax = this.gamma = this.bias = 0;
    this.wrap_a2 = null;
    this.a2localx = this.a2localy = this.a2relx = this.a2rely = 0;
    this.wrap_a1 = this.b2 = null;
    this.a1localx = this.a1localy = this.a1relx =
        this.a1rely = 0;
    this.b1 = null;
    this.nx = this.ny = this.cx1 = this.cx2 = 0;
    this.slack = this.equal = !1;
    this.jointMin = this.jointMax = 0;
    this.outer_zn = null;
    id.call(this);
    this.jAcc = this.a2rely = this.a2relx = this.a2localy = this.a2localx = this.a1rely = this.a1relx = this.a1localy = this.a1localx = 0;
    this.jMax = Math.POSITIVE_INFINITY;
    this.stepped = !1;
    this.cx1 = this.cx2 = 0
};
h["zpp_nape.constraint.ZPP_DistanceJoint"] = Tg;
Tg.__name__ = ["zpp_nape", "constraint", "ZPP_DistanceJoint"];
Tg.__super__ = id;
Tg.prototype = v(id.prototype, {
    activeBodies: function() {
        null !=
            this.b1 && this.b1.constraints.add(this);
        this.b2 != this.b1 && null != this.b2 && this.b2.constraints.add(this)
    },
    inactiveBodies: function() {
        null != this.b1 && this.b1.constraints.remove(this);
        this.b2 != this.b1 && null != this.b2 && this.b2.constraints.remove(this)
    },
    validate_a1: function() {
        this.wrap_a1.zpp_inner.x = this.a1localx;
        this.wrap_a1.zpp_inner.y = this.a1localy
    },
    invalidate_a1: function(a) {
        this.immutable_midstep("Constraint::a1");
        this.a1localx = a.x;
        this.a1localy = a.y;
        this.wake()
    },
    setup_a1: function() {
        this.wrap_a1 = K.get(this.a1localx,
            this.a1localy, null);
        this.wrap_a1.zpp_inner._inuse = !0;
        this.wrap_a1.zpp_inner._validate = l(this, this.validate_a1);
        this.wrap_a1.zpp_inner._invalidate = l(this, this.invalidate_a1)
    },
    validate_a2: function() {
        this.wrap_a2.zpp_inner.x = this.a2localx;
        this.wrap_a2.zpp_inner.y = this.a2localy
    },
    invalidate_a2: function(a) {
        this.immutable_midstep("Constraint::a2");
        this.a2localx = a.x;
        this.a2localy = a.y;
        this.wake()
    },
    setup_a2: function() {
        this.wrap_a2 = K.get(this.a2localx, this.a2localy, null);
        this.wrap_a2.zpp_inner._inuse = !0;
        this.wrap_a2.zpp_inner._validate =
            l(this, this.validate_a2);
        this.wrap_a2.zpp_inner._invalidate = l(this, this.invalidate_a2)
    },
    wake_connected: function() {
        null != this.b1 && this.b1.type == g.id_BodyType_DYNAMIC && this.b1.wake();
        null != this.b2 && this.b2.type == g.id_BodyType_DYNAMIC && this.b2.wake()
    },
    forest: function() {
        if (this.b1.type == g.id_BodyType_DYNAMIC) {
            var a;
            if (this.b1.component == this.b1.component.parent) a = this.b1.component;
            else {
                a = this.b1.component;
                for (var b = null; a != a.parent;) {
                    var c = a.parent;
                    a.parent = b;
                    b = a;
                    a = c
                }
                for (; null != b;) c = b.parent, b.parent =
                    a, b = c
            } if (this.component == this.component.parent) b = this.component;
            else {
                b = this.component;
                for (c = null; b != b.parent;) {
                    var d = b.parent;
                    b.parent = c;
                    c = b;
                    b = d
                }
                for (; null != c;) d = c.parent, c.parent = b, c = d
            }
            a != b && (a.rank < b.rank ? a.parent = b : a.rank > b.rank ? b.parent = a : (b.parent = a, a.rank++))
        }
        if (this.b2.type == g.id_BodyType_DYNAMIC) {
            if (this.b2.component == this.b2.component.parent) a = this.b2.component;
            else {
                a = this.b2.component;
                for (b = null; a != a.parent;) c = a.parent, a.parent = b, b = a, a = c;
                for (; null != b;) c = b.parent, b.parent = a, b = c
            } if (this.component ==
                this.component.parent) b = this.component;
            else {
                b = this.component;
                for (c = null; b != b.parent;) d = b.parent, b.parent = c, c = b, b = d;
                for (; null != c;) d = c.parent, c.parent = b, c = d
            }
            a != b && (a.rank < b.rank ? a.parent = b : a.rank > b.rank ? b.parent = a : (b.parent = a, a.rank++))
        }
    },
    pair_exists: function(a, b) {
        return this.b1.id == a && this.b2.id == b || this.b1.id == b && this.b2.id == a
    },
    clearcache: function() {
        this.jAcc = 0;
        this.pre_dt = -1
    },
    preStep: function(a) {
        -1 == this.pre_dt && (this.pre_dt = a);
        var b = a / this.pre_dt;
        this.pre_dt = a;
        this.stepped = !0;
        this.equal = this.jointMin ==
            this.jointMax;
        this.a1relx = this.b1.axisy * this.a1localx - this.b1.axisx * this.a1localy;
        this.a1rely = this.a1localx * this.b1.axisx + this.a1localy * this.b1.axisy;
        this.a2relx = this.b2.axisy * this.a2localx - this.b2.axisx * this.a2localy;
        this.a2rely = this.a2localx * this.b2.axisx + this.a2localy * this.b2.axisy;
        var c;
        this.nx = this.b2.posx + this.a2relx - (this.b1.posx + this.a1relx);
        this.ny = this.b2.posy + this.a2rely - (this.b1.posy + this.a1rely);
        c = this.nx * this.nx + this.ny * this.ny;
        if (c < u.epsilon) c = this.ny = this.nx = 0, this.slack = !0;
        else {
            c =
                Math.sqrt(c);
            var d = 1 / c;
            this.nx *= d;
            this.ny *= d;
            this.equal ? (c -= this.jointMax, this.slack = !1) : c < this.jointMin ? (c = this.jointMin - c, this.nx = -this.nx, this.ny = -this.ny, this.slack = !1) : c > this.jointMax ? (c -= this.jointMax, this.slack = !1) : (c = this.ny = this.nx = 0, this.slack = !0)
        } if (!this.slack) {
            this.cx1 = this.ny * this.a1relx - this.nx * this.a1rely;
            this.cx2 = this.ny * this.a2relx - this.nx * this.a2rely;
            this.kMass = this.b1.smass + this.b2.smass + this.cx1 * this.cx1 * this.b1.sinertia + this.cx2 * this.cx2 * this.b2.sinertia;
            0 != this.kMass ? this.kMass =
                1 / this.kMass : this.jAcc = 0;
            if (this.stiff) this.gamma = this.bias = 0;
            else {
                if (this.breakUnderError && c * c > this.maxError * this.maxError) return !0;
                var e;
                e = 2 * Math.PI * this.frequency;
                this.gamma = 1 / (a * e * (2 * this.damping + e * a));
                d = 1 / (1 + this.gamma);
                e = a * e * e * this.gamma;
                this.gamma *= d;
                this.kMass *= d;
                this.bias = -c * e;
                this.bias < -this.maxError ? this.bias = -this.maxError : this.bias > this.maxError && (this.bias = this.maxError)
            }
            this.jAcc *= b;
            this.jMax = this.maxForce * a
        }
        return !1
    },
    warmStart: function() {
        if (!this.slack) {
            var a = this.b1.imass * this.jAcc;
            this.b1.velx -= this.nx * a;
            this.b1.vely -= this.ny * a;
            a = this.b2.imass * this.jAcc;
            this.b2.velx += this.nx * a;
            this.b2.vely += this.ny * a;
            this.b1.angvel -= this.cx1 * this.b1.iinertia * this.jAcc;
            this.b2.angvel += this.cx2 * this.b2.iinertia * this.jAcc
        }
    },
    applyImpulseVel: function() {
        if (this.slack) return !1;
        var a = this.kMass * (this.bias - (this.nx * (this.b2.velx + this.b2.kinvelx - this.b1.velx - this.b1.kinvelx) + this.ny * (this.b2.vely + this.b2.kinvely - this.b1.vely - this.b1.kinvely) + (this.b2.angvel + this.b2.kinangvel) * this.cx2 - (this.b1.angvel +
                this.b1.kinangvel) * this.cx1)) - this.jAcc * this.gamma,
            b = this.jAcc;
        this.jAcc += a;
        !this.equal && 0 < this.jAcc && (this.jAcc = 0);
        if (this.breakUnderForce && this.jAcc < -this.jMax) return !0;
        !this.stiff && this.jAcc < -this.jMax && (this.jAcc = -this.jMax);
        a = this.jAcc - b;
        b = this.b1.imass * a;
        this.b1.velx -= this.nx * b;
        this.b1.vely -= this.ny * b;
        b = this.b2.imass * a;
        this.b2.velx += this.nx * b;
        this.b2.vely += this.ny * b;
        this.b1.angvel -= this.cx1 * this.b1.iinertia * a;
        this.b2.angvel += this.cx2 * this.b2.iinertia * a;
        return !1
    },
    applyImpulsePos: function() {
        var a,
            b, c = 0,
            d = 0,
            c = this.b1.axisy * this.a1localx - this.b1.axisx * this.a1localy,
            d = this.a1localx * this.b1.axisx + this.a1localy * this.b1.axisy,
            e = 0,
            f = 0,
            e = this.b2.axisy * this.a2localx - this.b2.axisx * this.a2localy,
            f = this.a2localx * this.b2.axisx + this.a2localy * this.b2.axisy,
            g = 0,
            q = 0,
            g = this.b2.posx + e - (this.b1.posx + c),
            q = this.b2.posy + f - (this.b1.posy + d);
        a = g * g + q * q;
        a < u.epsilon ? (a = q = g = 0, b = !0) : (a = Math.sqrt(a), b = 1 / a, g *= b, q *= b, this.equal ? (a -= this.jointMax, b = !1) : a < this.jointMin ? (a = this.jointMin - a, g = -g, q = -q, b = !1) : a > this.jointMax ? (a -=
            this.jointMax, b = !1) : (a = q = g = 0, b = !0));
        if (!b) {
            if (this.breakUnderError && a * a > this.maxError * this.maxError) return !0;
            if (a * a < u.constraintLinearSlop * u.constraintLinearSlop) return !1;
            a *= .5;
            6 < a * a && (b = this.b1.smass + this.b2.smass, b > u.epsilon && (b = .75 / b * -a, this.equal || 0 > b)) && (a = b * this.b1.imass, this.b1.posx -= g * a, this.b1.posy -= q * a, a = b * this.b2.imass, this.b2.posx += g * a, this.b2.posy += q * a, g = this.b2.posx + e - (this.b1.posx + c), q = this.b2.posy + f - (this.b1.posy + d), a = g * g + q * q, a < u.epsilon ? a = q = g = 0 : (a = Math.sqrt(a), b = 1 / a, g *= b, q *= b, this.equal ?
                a -= this.jointMax : a < this.jointMin ? (a = this.jointMin - a, g = -g, q = -q) : a > this.jointMax ? a -= this.jointMax : a = q = g = 0), a *= .5);
            c = q * c - g * d;
            e = q * e - g * f;
            f = this.b1.smass + this.b2.smass + c * c * this.b1.sinertia + e * e * this.b2.sinertia;
            0 != f && (f = 1 / f);
            b = -a * f;
            if (this.equal || 0 > b) f = this.b1.imass * b, this.b1.posx -= g * f, this.b1.posy -= q * f, f = this.b2.imass * b, this.b2.posx += g * f, this.b2.posy += q * f, this.b1.delta_rot(-c * this.b1.iinertia * b), this.b2.delta_rot(e * this.b2.iinertia * b)
        }
        return !1
    },
    __class__: Tg
});
var Ug = function() {
    this.kMassa = this.kMassb = this.kMassc =
        this.jAccx = this.jAccy = this.biasx = this.biasy = 0;
    this.wrap_n = null;
    this.nlocalx = this.nlocaly = this.nrelx = this.nrely = 0;
    this.wrap_a2 = null;
    this.a2localx = this.a2localy = this.a2relx = this.a2rely = 0;
    this.wrap_a1 = null;
    this.dot1 = this.dot2 = this.cx1 = this.cx2 = this.a1localx = this.a1localy = this.a1relx = this.a1rely = 0;
    this.equal = !1;
    this.scale = this.jointMin = this.jointMax = 0;
    this.outer_zn = null;
    id.call(this);
    this.jAccy = this.jAccx = this.nrely = this.nrelx = this.nlocaly = this.nlocalx = this.a2rely = this.a2relx = this.a2localy = this.a2localx =
        this.a1rely = this.a1relx = this.a1localy = this.a1localx = 0;
    this.jMax = Math.POSITIVE_INFINITY;
    this.jointMin = Math.NEGATIVE_INFINITY;
    this.jointMax = Math.POSITIVE_INFINITY;
    this.stepped = !1
};
h["zpp_nape.constraint.ZPP_LineJoint"] = Ug;
Ug.__name__ = ["zpp_nape", "constraint", "ZPP_LineJoint"];
Ug.__super__ = id;
Ug.prototype = v(id.prototype, {
    activeBodies: function() {
        null != this.b1 && this.b1.constraints.add(this);
        this.b2 != this.b1 && null != this.b2 && this.b2.constraints.add(this)
    },
    inactiveBodies: function() {
        null != this.b1 && this.b1.constraints.remove(this);
        this.b2 != this.b1 && null != this.b2 && this.b2.constraints.remove(this)
    },
    validate_a1: function() {
        this.wrap_a1.zpp_inner.x = this.a1localx;
        this.wrap_a1.zpp_inner.y = this.a1localy
    },
    invalidate_a1: function(a) {
        this.immutable_midstep("Constraint::a1");
        this.a1localx = a.x;
        this.a1localy = a.y;
        this.wake()
    },
    setup_a1: function() {
        this.wrap_a1 = K.get(this.a1localx, this.a1localy, null);
        this.wrap_a1.zpp_inner._inuse = !0;
        this.wrap_a1.zpp_inner._validate = l(this, this.validate_a1);
        this.wrap_a1.zpp_inner._invalidate = l(this, this.invalidate_a1)
    },
    validate_a2: function() {
        this.wrap_a2.zpp_inner.x = this.a2localx;
        this.wrap_a2.zpp_inner.y = this.a2localy
    },
    invalidate_a2: function(a) {
        this.immutable_midstep("Constraint::a2");
        this.a2localx = a.x;
        this.a2localy = a.y;
        this.wake()
    },
    setup_a2: function() {
        this.wrap_a2 = K.get(this.a2localx, this.a2localy, null);
        this.wrap_a2.zpp_inner._inuse = !0;
        this.wrap_a2.zpp_inner._validate = l(this, this.validate_a2);
        this.wrap_a2.zpp_inner._invalidate = l(this, this.invalidate_a2)
    },
    validate_n: function() {
        this.wrap_n.zpp_inner.x = this.nlocalx;
        this.wrap_n.zpp_inner.y = this.nlocaly
    },
    invalidate_n: function(a) {
        this.immutable_midstep("Constraint::n");
        this.nlocalx = a.x;
        this.nlocaly = a.y;
        this.zip_n = !0;
        this.wake()
    },
    setup_n: function() {
        this.wrap_n = K.get(this.nlocalx, this.nlocaly, null);
        this.wrap_n.zpp_inner._inuse = !0;
        this.wrap_n.zpp_inner._validate = l(this, this.validate_n);
        this.wrap_n.zpp_inner._invalidate = l(this, this.invalidate_n)
    },
    validate_norm: function() {
        if (this.zip_n) {
            this.zip_n = !1;
            var a = 1 / Math.sqrt(this.nlocalx * this.nlocalx + this.nlocaly * this.nlocaly);
            this.nlocalx *= a;
            this.nlocaly *= a
        }
    },
    wake_connected: function() {
        null != this.b1 && this.b1.type == g.id_BodyType_DYNAMIC && this.b1.wake();
        null != this.b2 && this.b2.type == g.id_BodyType_DYNAMIC && this.b2.wake()
    },
    forest: function() {
        if (this.b1.type == g.id_BodyType_DYNAMIC) {
            var a;
            if (this.b1.component == this.b1.component.parent) a = this.b1.component;
            else {
                a = this.b1.component;
                for (var b = null; a != a.parent;) {
                    var c = a.parent;
                    a.parent = b;
                    b = a;
                    a = c
                }
                for (; null != b;) c = b.parent, b.parent = a, b = c
            } if (this.component == this.component.parent) b = this.component;
            else {
                b = this.component;
                for (c = null; b != b.parent;) {
                    var d = b.parent;
                    b.parent = c;
                    c = b;
                    b = d
                }
                for (; null != c;) d = c.parent, c.parent = b, c = d
            }
            a != b && (a.rank < b.rank ? a.parent = b : a.rank > b.rank ? b.parent = a : (b.parent = a, a.rank++))
        }
        if (this.b2.type == g.id_BodyType_DYNAMIC) {
            if (this.b2.component == this.b2.component.parent) a = this.b2.component;
            else {
                a = this.b2.component;
                for (b = null; a != a.parent;) c = a.parent, a.parent = b, b = a, a = c;
                for (; null != b;) c = b.parent, b.parent = a, b = c
            } if (this.component == this.component.parent) b = this.component;
            else {
                b = this.component;
                for (c = null; b != b.parent;) d = b.parent, b.parent = c, c = b, b = d;
                for (; null != c;) d = c.parent, c.parent = b, c = d
            }
            a != b && (a.rank < b.rank ? a.parent = b : a.rank > b.rank ? b.parent = a : (b.parent = a, a.rank++))
        }
    },
    pair_exists: function(a, b) {
        return this.b1.id == a && this.b2.id == b || this.b1.id == b && this.b2.id == a
    },
    clearcache: function() {
        this.jAccy = this.jAccx = 0;
        this.pre_dt = -1
    },
    preStep: function(a) {
        -1 == this.pre_dt && (this.pre_dt = a);
        var b = a / this.pre_dt;
        this.pre_dt = a;
        this.equal = this.jointMin == this.jointMax;
        this.stepped = !0;
        this.validate_norm();
        this.a1relx =
            this.b1.axisy * this.a1localx - this.b1.axisx * this.a1localy;
        this.a1rely = this.a1localx * this.b1.axisx + this.a1localy * this.b1.axisy;
        this.nrelx = this.b1.axisy * this.nlocalx - this.b1.axisx * this.nlocaly;
        this.nrely = this.nlocalx * this.b1.axisx + this.nlocaly * this.b1.axisy;
        this.a2relx = this.b2.axisy * this.a2localx - this.b2.axisx * this.a2localy;
        this.a2rely = this.a2localx * this.b2.axisx + this.a2localy * this.b2.axisy;
        var c = 0,
            d = 0,
            e = 0,
            f = 0,
            c = this.b2.posx + this.a2relx - this.b1.posx - this.a1relx,
            d = this.b2.posy + this.a2rely - this.b1.posy -
            this.a1rely,
            e = d * this.nrelx - c * this.nrely,
            f = this.nrelx * c + this.nrely * d;
        this.equal ? (f -= this.jointMin, this.scale = 1) : f > this.jointMax ? (f -= this.jointMax, this.scale = 1) : f < this.jointMin ? (f = this.jointMin - f, this.scale = -1) : this.scale = f = 0;
        var g = 0,
            q = 0,
            g = c + this.a1relx,
            q = d + this.a1rely;
        this.dot1 = this.nrelx * g + this.nrely * q;
        this.cx1 = q * this.nrelx - g * this.nrely;
        this.dot2 = this.nrelx * this.a2relx + this.nrely * this.a2rely;
        this.cx2 = this.a2rely * this.nrelx - this.a2relx * this.nrely;
        this.kMassa = this.b1.smass + this.b2.smass + this.dot1 * this.dot1 *
            this.b1.sinertia + this.dot2 * this.dot2 * this.b2.sinertia;
        this.kMassb = -this.scale * (this.dot1 * this.cx1 * this.b1.sinertia + this.dot2 * this.cx2 * this.b2.sinertia);
        this.kMassc = this.scale * this.scale * (this.b1.smass + this.b2.smass + this.cx1 * this.cx1 * this.b1.sinertia + this.cx2 * this.cx2 * this.b2.sinertia);
        c = this.kMassa * this.kMassc - this.kMassb * this.kMassb;
        c != c ? (this.kMassa = this.kMassb = this.kMassc = 0, c = 3) : 0 == c ? (c = 0, 0 != this.kMassa ? this.kMassa = 1 / this.kMassa : (this.kMassa = 0, c |= 1), 0 != this.kMassc ? this.kMassc = 1 / this.kMassc : (this.kMassc =
            0, c |= 2), this.kMassb = 0) : (c = 1 / c, d = this.kMassc * c, this.kMassc = this.kMassa * c, this.kMassa = d, this.kMassb *= -c, c = 0);
        0 != (c & 1) && (this.jAccx = 0);
        0 != (c & 2) && (this.jAccy = 0);
        if (this.stiff) this.biasy = this.biasx = this.gamma = 0;
        else {
            if (this.breakUnderError && e * e + f * f > this.maxError * this.maxError) return !0;
            d = 2 * Math.PI * this.frequency;
            this.gamma = 1 / (a * d * (2 * this.damping + d * a));
            c = 1 / (1 + this.gamma);
            d = a * d * d * this.gamma;
            this.gamma *= c;
            this.kMassa *= c;
            this.kMassb *= c;
            this.kMassc *= c;
            this.biasx = e;
            this.biasy = f;
            e = -d;
            this.biasx *= e;
            this.biasy *=
                e;
            e = this.maxError;
            f = this.biasx * this.biasx + this.biasy * this.biasy;
            f > e * e && (e *= 1 / Math.sqrt(f), this.biasx *= e, this.biasy *= e)
        }
        this.jAccx *= b;
        this.jAccy *= b;
        this.jMax = this.maxForce * a;
        return !1
    },
    warmStart: function() {
        var a = this.scale * this.nrelx * this.jAccy - this.nrely * this.jAccx,
            b = this.nrelx * this.jAccx + this.scale * this.nrely * this.jAccy,
            c = this.b1.imass;
        this.b1.velx -= a * c;
        this.b1.vely -= b * c;
        c = this.b2.imass;
        this.b2.velx += a * c;
        this.b2.vely += b * c;
        this.b1.angvel += (this.scale * this.cx1 * this.jAccy - this.dot1 * this.jAccx) * this.b1.iinertia;
        this.b2.angvel += (this.dot2 * this.jAccx - this.scale * this.cx2 * this.jAccy) * this.b2.iinertia
    },
    applyImpulseVel: function() {
        var a = 0,
            b = 0,
            c = 0,
            d = 0,
            c = this.b2.velx - this.b1.velx,
            d = this.b2.vely - this.b1.vely,
            c = c + (this.b2.kinvelx - this.b1.kinvelx),
            d = d + (this.b2.kinvely - this.b1.kinvely),
            a = d * this.nrelx - c * this.nrely + (this.b2.angvel + this.b2.kinangvel) * this.dot2 - (this.b1.angvel + this.b1.kinangvel) * this.dot1,
            b = this.scale * (this.nrelx * c + this.nrely * d - (this.b2.angvel + this.b2.kinangvel) * this.cx2 + (this.b1.angvel + this.b1.kinangvel) *
                this.cx1),
            d = c = 0,
            c = this.biasx - a,
            d = this.biasy - b,
            a = this.kMassa * c + this.kMassb * d,
            d = this.kMassb * c + this.kMassc * d,
            b = this.gamma,
            c = a - this.jAccx * b,
            d = d - this.jAccy * b,
            b = a = 0,
            a = this.jAccx,
            b = this.jAccy;
        this.jAccx += 1 * c;
        this.jAccy += 1 * d;
        0 < this.jAccy && (this.jAccy = 0);
        if (this.breakUnderForce) {
            if (this.jAccx * this.jAccx + this.jAccy * this.jAccy > this.jMax * this.jMax) return !0
        } else this.stiff || (c = this.jMax, d = this.jAccx * this.jAccx + this.jAccy * this.jAccy, d > c * c && (c *= 1 / Math.sqrt(d), this.jAccx *= c, this.jAccy *= c));
        var c = this.jAccx - a,
            d = this.jAccy -
            b,
            a = this.scale * this.nrelx * d - this.nrely * c,
            b = this.nrelx * c + this.scale * this.nrely * d,
            e = this.b1.imass;
        this.b1.velx -= a * e;
        this.b1.vely -= b * e;
        e = this.b2.imass;
        this.b2.velx += a * e;
        this.b2.vely += b * e;
        this.b1.angvel += (this.scale * this.cx1 * d - this.dot1 * c) * this.b1.iinertia;
        this.b2.angvel += (this.dot2 * c - this.scale * this.cx2 * d) * this.b2.iinertia;
        return !1
    },
    applyImpulsePos: function() {
        var a = 0,
            b = 0,
            a = this.b1.axisy * this.nlocalx - this.b1.axisx * this.nlocaly,
            b = this.nlocalx * this.b1.axisx + this.nlocaly * this.b1.axisy,
            c = 0,
            d = 0,
            c = this.b1.axisy *
            this.a1localx - this.b1.axisx * this.a1localy,
            d = this.a1localx * this.b1.axisx + this.a1localy * this.b1.axisy,
            e = 0,
            f = 0,
            e = this.b2.axisy * this.a2localx - this.b2.axisx * this.a2localy,
            f = this.a2localx * this.b2.axisx + this.a2localy * this.b2.axisy,
            g = 0,
            q = 0,
            h, y = 0,
            m = 0,
            g = this.b2.posx + e - this.b1.posx - c,
            q = this.b2.posy + f - this.b1.posy - d,
            y = q * a - g * b,
            m = a * g + b * q;
        this.equal ? (m -= this.jointMin, h = 1) : m > this.jointMax ? (m -= this.jointMax, h = 1) : m < this.jointMin ? (m = this.jointMin - m, h = -1) : h = m = 0;
        if (this.breakUnderError && y * y + m * m > this.maxError * this.maxError) return !0;
        if (y * y + m * m < u.constraintLinearSlop * u.constraintLinearSlop) return !1;
        var B = 0,
            l = 0,
            y = .5 * y,
            m = .5 * m;
        6 < y * y + m * m && (B = this.b1.smass + this.b2.smass, B > u.epsilon && (B = .8 / B, l = B * (b * y - h * a * m), h = B * (a * y * h - b * y), B = this.b1.imass, this.b1.posx -= l * B, this.b1.posy -= h * B, B = this.b2.imass, this.b2.posx += l * B, this.b2.posy += h * B, g = this.b2.posx + e - this.b1.posx - c, q = this.b2.posy + f - this.b1.posy - d, m = a * g + b * q, this.equal ? (m -= this.jointMin, h = 1) : m > this.jointMax ? (m -= this.jointMax, h = 1) : m < this.jointMin ? (m = this.jointMin - m, h = -1) : h = m = 0, y = .5 * (q * a - g * b), m *=
            .5));
        var r = 0,
            p = 0,
            t = 0,
            l = B = 0,
            B = g + c,
            l = q + d,
            c = a * B + b * l,
            g = l * a - B * b,
            d = a * e + b * f,
            e = f * a - e * b,
            r = this.b1.smass + this.b2.smass + c * c * this.b1.sinertia + d * d * this.b2.sinertia,
            p = -h * (c * g * this.b1.sinertia + d * e * this.b2.sinertia),
            t = h * h * (this.b1.smass + this.b2.smass + g * g * this.b1.sinertia + e * e * this.b2.sinertia),
            B = -y,
            l = -m,
            f = r * t - p * p;
        f != f ? B = l = 0 : 0 == f ? (B = 0 != r ? B / r : 0, l = 0 != t ? l / t : 0) : (f = 1 / f, y = f * (t * B - p * l), l = f * (r * l - p * B), B = y);
        0 < l && (l = 0);
        f = h * a * l - b * B;
        a = a * B + h * b * l;
        b = this.b1.imass;
        this.b1.posx -= f * b;
        this.b1.posy -= a * b;
        b = this.b2.imass;
        this.b2.posx += f *
            b;
        this.b2.posy += a * b;
        this.b1.delta_rot((h * g * l - c * B) * this.b1.iinertia);
        this.b2.delta_rot((d * B - h * e * l) * this.b2.iinertia);
        return !1
    },
    __class__: Ug
});
var Vg = function() {
    this.stepped = !1;
    this.kMassa = this.kMassb = this.kMassc = this.jAccx = this.jAccy = this.jMax = this.gamma = this.biasx = this.biasy = 0;
    this.wrap_a2 = null;
    this.a2localx = this.a2localy = this.a2relx = this.a2rely = 0;
    this.wrap_a1 = this.b2 = null;
    this.a1localx = this.a1localy = this.a1relx = this.a1rely = 0;
    this.outer_zn = this.b1 = null;
    id.call(this);
    this.stepped = !1;
    this.jAccy = this.jAccx =
        0;
    this.jMax = Math.POSITIVE_INFINITY;
    this.a2rely = this.a2relx = this.a2localy = this.a2localx = this.a1rely = this.a1relx = this.a1localy = this.a1localx = 0
};
h["zpp_nape.constraint.ZPP_PivotJoint"] = Vg;
Vg.__name__ = ["zpp_nape", "constraint", "ZPP_PivotJoint"];
Vg.__super__ = id;
Vg.prototype = v(id.prototype, {
    activeBodies: function() {
        null != this.b1 && this.b1.constraints.add(this);
        this.b2 != this.b1 && null != this.b2 && this.b2.constraints.add(this)
    },
    inactiveBodies: function() {
        null != this.b1 && this.b1.constraints.remove(this);
        this.b2 !=
            this.b1 && null != this.b2 && this.b2.constraints.remove(this)
    },
    validate_a1: function() {
        this.wrap_a1.zpp_inner.x = this.a1localx;
        this.wrap_a1.zpp_inner.y = this.a1localy
    },
    invalidate_a1: function(a) {
        this.immutable_midstep("Constraint::a1");
        this.a1localx = a.x;
        this.a1localy = a.y;
        this.wake()
    },
    setup_a1: function() {
        this.wrap_a1 = K.get(this.a1localx, this.a1localy, null);
        this.wrap_a1.zpp_inner._inuse = !0;
        this.wrap_a1.zpp_inner._validate = l(this, this.validate_a1);
        this.wrap_a1.zpp_inner._invalidate = l(this, this.invalidate_a1)
    },
    validate_a2: function() {
        this.wrap_a2.zpp_inner.x = this.a2localx;
        this.wrap_a2.zpp_inner.y = this.a2localy
    },
    invalidate_a2: function(a) {
        this.immutable_midstep("Constraint::a2");
        this.a2localx = a.x;
        this.a2localy = a.y;
        this.wake()
    },
    setup_a2: function() {
        this.wrap_a2 = K.get(this.a2localx, this.a2localy, null);
        this.wrap_a2.zpp_inner._inuse = !0;
        this.wrap_a2.zpp_inner._validate = l(this, this.validate_a2);
        this.wrap_a2.zpp_inner._invalidate = l(this, this.invalidate_a2)
    },
    wake_connected: function() {
        null != this.b1 && this.b1.type == g.id_BodyType_DYNAMIC &&
            this.b1.wake();
        null != this.b2 && this.b2.type == g.id_BodyType_DYNAMIC && this.b2.wake()
    },
    forest: function() {
        if (this.b1.type == g.id_BodyType_DYNAMIC) {
            var a;
            if (this.b1.component == this.b1.component.parent) a = this.b1.component;
            else {
                a = this.b1.component;
                for (var b = null; a != a.parent;) {
                    var c = a.parent;
                    a.parent = b;
                    b = a;
                    a = c
                }
                for (; null != b;) c = b.parent, b.parent = a, b = c
            } if (this.component == this.component.parent) b = this.component;
            else {
                b = this.component;
                for (c = null; b != b.parent;) {
                    var d = b.parent;
                    b.parent = c;
                    c = b;
                    b = d
                }
                for (; null != c;) d = c.parent,
                    c.parent = b, c = d
            }
            a != b && (a.rank < b.rank ? a.parent = b : a.rank > b.rank ? b.parent = a : (b.parent = a, a.rank++))
        }
        if (this.b2.type == g.id_BodyType_DYNAMIC) {
            if (this.b2.component == this.b2.component.parent) a = this.b2.component;
            else {
                a = this.b2.component;
                for (b = null; a != a.parent;) c = a.parent, a.parent = b, b = a, a = c;
                for (; null != b;) c = b.parent, b.parent = a, b = c
            } if (this.component == this.component.parent) b = this.component;
            else {
                b = this.component;
                for (c = null; b != b.parent;) d = b.parent, b.parent = c, c = b, b = d;
                for (; null != c;) d = c.parent, c.parent = b, c = d
            }
            a != b &&
                (a.rank < b.rank ? a.parent = b : a.rank > b.rank ? b.parent = a : (b.parent = a, a.rank++))
        }
    },
    pair_exists: function(a, b) {
        return this.b1.id == a && this.b2.id == b || this.b1.id == b && this.b2.id == a
    },
    clearcache: function() {
        this.jAccy = this.jAccx = 0;
        this.pre_dt = -1
    },
    preStep: function(a) {
        -1 == this.pre_dt && (this.pre_dt = a);
        var b = a / this.pre_dt;
        this.pre_dt = a;
        this.stepped = !0;
        this.a1relx = this.b1.axisy * this.a1localx - this.b1.axisx * this.a1localy;
        this.a1rely = this.a1localx * this.b1.axisx + this.a1localy * this.b1.axisy;
        this.a2relx = this.b2.axisy * this.a2localx -
            this.b2.axisx * this.a2localy;
        this.a2rely = this.a2localx * this.b2.axisx + this.a2localy * this.b2.axisy;
        var c = this.b1.smass + this.b2.smass;
        this.kMassa = c;
        this.kMassb = 0;
        this.kMassc = c;
        if (0 != this.b1.sinertia) {
            var c = this.a1relx * this.b1.sinertia,
                d = this.a1rely * this.b1.sinertia;
            this.kMassa += d * this.a1rely;
            this.kMassb += -d * this.a1relx;
            this.kMassc += c * this.a1relx
        }
        0 != this.b2.sinertia && (c = this.a2relx * this.b2.sinertia, d = this.a2rely * this.b2.sinertia, this.kMassa += d * this.a2rely, this.kMassb += -d * this.a2relx, this.kMassc += c * this.a2relx);
        c = this.kMassa * this.kMassc - this.kMassb * this.kMassb;
        c != c ? (this.kMassa = this.kMassb = this.kMassc = 0, c = 3) : 0 == c ? (c = 0, 0 != this.kMassa ? this.kMassa = 1 / this.kMassa : (this.kMassa = 0, c |= 1), 0 != this.kMassc ? this.kMassc = 1 / this.kMassc : (this.kMassc = 0, c |= 2), this.kMassb = 0) : (c = 1 / c, d = this.kMassc * c, this.kMassc = this.kMassa * c, this.kMassa = d, this.kMassb *= -c, c = 0);
        0 != (c & 1) && (this.jAccx = 0);
        0 != (c & 2) && (this.jAccy = 0);
        if (this.stiff) this.gamma = this.biasy = this.biasx = 0;
        else {
            d = 2 * Math.PI * this.frequency;
            this.gamma = 1 / (a * d * (2 * this.damping + d * a));
            c = 1 / (1 + this.gamma);
            d = a * d * d * this.gamma;
            this.gamma *= c;
            this.kMassa *= c;
            this.kMassb *= c;
            this.kMassc *= c;
            this.biasx = this.b2.posx + this.a2relx - (this.b1.posx + this.a1relx);
            this.biasy = this.b2.posy + this.a2rely - (this.b1.posy + this.a1rely);
            if (this.breakUnderError && this.biasx * this.biasx + this.biasy * this.biasy > this.maxError * this.maxError) return !0;
            c = -d;
            this.biasx *= c;
            this.biasy *= c;
            c = this.maxError;
            d = this.biasx * this.biasx + this.biasy * this.biasy;
            d > c * c && (c *= 1 / Math.sqrt(d), this.biasx *= c, this.biasy *= c)
        }
        this.jAccx *= b;
        this.jAccy *=
            b;
        this.jMax = this.maxForce * a;
        return !1
    },
    warmStart: function() {
        var a = this.b1.imass;
        this.b1.velx -= this.jAccx * a;
        this.b1.vely -= this.jAccy * a;
        a = this.b2.imass;
        this.b2.velx += this.jAccx * a;
        this.b2.vely += this.jAccy * a;
        this.b1.angvel -= (this.jAccy * this.a1relx - this.jAccx * this.a1rely) * this.b1.iinertia;
        this.b2.angvel += (this.jAccy * this.a2relx - this.jAccx * this.a2rely) * this.b2.iinertia
    },
    applyImpulseVel: function() {
        var a = 0,
            b = 0,
            a = this.b2.velx + this.b2.kinvelx - this.a2rely * (this.b2.angvel + this.b2.kinangvel) - (this.b1.velx + this.b1.kinvelx -
                this.a1rely * (this.b1.angvel + this.b1.kinangvel)),
            b = this.b2.vely + this.b2.kinvely + this.a2relx * (this.b2.angvel + this.b2.kinangvel) - (this.b1.vely + this.b1.kinvely + this.a1relx * (this.b1.angvel + this.b1.kinangvel)),
            c = 0,
            d = 0,
            c = this.biasx - a,
            d = this.biasy - b,
            a = this.kMassa * c + this.kMassb * d,
            d = this.kMassb * c + this.kMassc * d,
            b = this.gamma,
            c = a - this.jAccx * b,
            d = d - this.jAccy * b,
            b = a = 0,
            a = this.jAccx,
            b = this.jAccy;
        this.jAccx += 1 * c;
        this.jAccy += 1 * d;
        if (this.breakUnderForce) {
            if (this.jAccx * this.jAccx + this.jAccy * this.jAccy > this.jMax * this.jMax) return !0
        } else this.stiff ||
            (c = this.jMax, d = this.jAccx * this.jAccx + this.jAccy * this.jAccy, d > c * c && (c *= 1 / Math.sqrt(d), this.jAccx *= c, this.jAccy *= c));
        c = this.jAccx - a;
        d = this.jAccy - b;
        a = this.b1.imass;
        this.b1.velx -= c * a;
        this.b1.vely -= d * a;
        a = this.b2.imass;
        this.b2.velx += c * a;
        this.b2.vely += d * a;
        this.b1.angvel -= (d * this.a1relx - c * this.a1rely) * this.b1.iinertia;
        this.b2.angvel += (d * this.a2relx - c * this.a2rely) * this.b2.iinertia;
        return !1
    },
    applyImpulsePos: function() {
        var a = 0,
            b = 0,
            a = this.b1.axisy * this.a1localx - this.b1.axisx * this.a1localy,
            b = this.a1localx * this.b1.axisx +
            this.a1localy * this.b1.axisy,
            c = 0,
            d = 0,
            c = this.b2.axisy * this.a2localx - this.b2.axisx * this.a2localy,
            d = this.a2localx * this.b2.axisx + this.a2localy * this.b2.axisy,
            e = 0,
            f = 0,
            e = this.b2.posx + c - (this.b1.posx + a),
            f = this.b2.posy + d - (this.b1.posy + b);
        if (this.breakUnderError && e * e + f * f > this.maxError * this.maxError) return !0;
        if (e * e + f * f < u.constraintLinearSlop * u.constraintLinearSlop) return !1;
        var e = .5 * e,
            f = .5 * f,
            g = 0,
            q = 0;
        if (6 < e * e + f * f && (q = this.b1.smass + this.b2.smass, q > u.epsilon)) {
            var q = .75 / q,
                g = -e * q,
                q = -f * q,
                h = g * g + q * q;
            400 < h && (h = 20 * (1 /
                Math.sqrt(h)), g *= h, q *= h);
            h = this.b1.imass;
            this.b1.posx -= g * h;
            this.b1.posy -= q * h;
            h = this.b2.imass;
            this.b2.posx += g * h;
            this.b2.posy += q * h;
            e = this.b2.posx + c - (this.b1.posx + a);
            f = this.b2.posy + d - (this.b1.posy + b);
            e *= .5;
            f *= .5
        }
        var y = h = 0,
            m = 0,
            h = g = this.b1.smass + this.b2.smass,
            y = 0,
            m = g;
        0 != this.b1.sinertia && (g = a * this.b1.sinertia, q = b * this.b1.sinertia, h += q * b, y += -q * a, m += g * a);
        0 != this.b2.sinertia && (g = c * this.b2.sinertia, q = d * this.b2.sinertia, h += q * d, y += -q * c, m += g * c);
        g = -e;
        q = -f;
        e = g * g + q * q;
        36 < e && (e = 6 * (1 / Math.sqrt(e)), g *= e, q *= e);
        e = h * m -
            y * y;
        e != e ? g = q = 0 : 0 == e ? (g = 0 != h ? g / h : 0, q = 0 != m ? q / m : 0) : (e = 1 / e, m = e * (m * g - y * q), q = e * (h * q - y * g), g = m);
        h = this.b1.imass;
        this.b1.posx -= g * h;
        this.b1.posy -= q * h;
        h = this.b2.imass;
        this.b2.posx += g * h;
        this.b2.posy += q * h;
        this.b1.delta_rot(-(q * a - g * b) * this.b1.iinertia);
        this.b2.delta_rot((q * c - g * d) * this.b2.iinertia);
        return !1
    },
    __class__: Vg
});
var sa = function() {
    this.colarb = this.fluidarb = this.sensorarb = null;
    this.type = 0;
    this.b1 = this.b2 = this.ws1 = this.ws2 = this.pair = null;
    this.invalidated = !1;
    this.immState = 0;
    this.intchange = this.presentable =
        this.continuous = this.fresh = !1;
    this.present = 0;
    this.active = this.cleared = this.sleeping = !1;
    this.id = this.di = this.stamp = this.up_stamp = this.sleep_stamp = this.endGenerated = 0;
    this.outer = null
};
h["zpp_nape.dynamics.ZPP_Arbiter"] = sa;
sa.__name__ = ["zpp_nape", "dynamics", "ZPP_Arbiter"];
sa.prototype = {
    wrapper: function() {
        null == this.outer && (sa.internal = !0, this.type == sa.COL ? (this.colarb.outer_zn = new Wg, this.outer = this.colarb.outer_zn) : this.type == sa.FLUID ? (this.fluidarb.outer_zn = new Xg, this.outer = this.fluidarb.outer_zn) :
            this.outer = new Fe, this.outer.zpp_inner = this, sa.internal = !1);
        return this.outer
    },
    __class__: sa
};
var gb = function() {
    this.next = null;
    sa.call(this);
    this.type = sa.SENSOR;
    this.sensorarb = this
};
h["zpp_nape.dynamics.ZPP_SensorArbiter"] = gb;
gb.__name__ = ["zpp_nape", "dynamics", "ZPP_SensorArbiter"];
gb.__super__ = sa;
gb.prototype = v(sa.prototype, {
    retire: function() {
        this.cleared || (this.b1.arbiters.inlined_try_remove(this), this.b2.arbiters.inlined_try_remove(this), null != this.pair && (this.pair = this.pair.arb = null));
        this.b1 = this.b2 =
            null;
        this.intchange = this.active = !1;
        this.next = gb.zpp_pool;
        gb.zpp_pool = this
    },
    __class__: gb
});
var nb = function() {
    this.wMass = this.adamp = this.agamma = this.vMassa = this.vMassb = this.vMassc = this.dampx = this.dampy = this.lgamma = this.nx = this.ny = this.buoyx = this.buoyy = this.pre_dt = 0;
    this.nodrag = !1;
    this.centroidx = this.centroidy = this.overlap = this.r1x = this.r1y = this.r2x = this.r2y = 0;
    this.outer_zn = this.next = null;
    sa.call(this);
    this.type = sa.FLUID;
    this.fluidarb = this;
    this.buoyy = this.buoyx = 0;
    this.pre_dt = -1
};
h["zpp_nape.dynamics.ZPP_FluidArbiter"] =
    nb;
nb.__name__ = ["zpp_nape", "dynamics", "ZPP_FluidArbiter"];
nb.__super__ = sa;
nb.prototype = v(sa.prototype, {
    retire: function() {
        this.cleared || (this.b1.arbiters.inlined_try_remove(this), this.b2.arbiters.inlined_try_remove(this), null != this.pair && (this.pair = this.pair.arb = null));
        this.b1 = this.b2 = null;
        this.intchange = this.active = !1;
        this.next = nb.zpp_pool;
        nb.zpp_pool = this;
        this.pre_dt = -1
    },
    preStep: function(a, b) {
        -1 == this.pre_dt && (this.pre_dt = b);
        var c = b / this.pre_dt;
        this.pre_dt = b;
        this.r1x = this.centroidx - this.b1.posx;
        this.r1y = this.centroidy - this.b1.posy;
        this.r2x = this.centroidx - this.b2.posx;
        this.r2y = this.centroidy - this.b2.posy;
        var d = 0,
            e = 0;
        this.ws1.fluidEnabled && null != this.ws1.fluidProperties.wrap_gravity ? (d = this.ws1.fluidProperties.gravityx, e = this.ws1.fluidProperties.gravityy) : (d = a.gravityx, e = a.gravityy);
        var f = 0,
            k = 0;
        this.ws2.fluidEnabled && null != this.ws2.fluidProperties.wrap_gravity ? (f = this.ws2.fluidProperties.gravityx, k = this.ws2.fluidProperties.gravityy) : (f = a.gravityx, k = a.gravityy);
        var h = 0,
            n = 0;
        if (this.ws1.fluidEnabled &&
            this.ws2.fluidEnabled) {
            var y = this.overlap * this.ws1.fluidProperties.density,
                m = this.overlap * this.ws2.fluidProperties.density;
            if (y > m) f = y + m, h -= d * f, n -= e * f;
            else if (y < m) d = y + m, h += f * d, n += k * d;
            else {
                var l = 0,
                    r = 0,
                    l = .5 * (d + f),
                    r = .5 * (e + k);
                this.ws1.worldCOMx * l + this.ws1.worldCOMy * r > this.ws2.worldCOMx * l + this.ws2.worldCOMy * r ? (d = y + m, h -= l * d, n -= r * d) : (d = y + m, h += l * d, n += r * d)
            }
        } else this.ws1.fluidEnabled ? (f = this.overlap * this.ws1.fluidProperties.density, h -= d * f, n -= e * f) : this.ws2.fluidEnabled && (d = this.overlap * this.ws2.fluidProperties.density,
            h += f * d, n += k * d);
        h *= b;
        n *= b;
        this.buoyx = h;
        this.buoyy = n;
        this.b1.type == g.id_BodyType_DYNAMIC && (d = this.b1.imass, this.b1.velx -= h * d, this.b1.vely -= n * d, this.b1.angvel -= (n * this.r1x - h * this.r1y) * this.b1.iinertia);
        this.b2.type == g.id_BodyType_DYNAMIC && (d = this.b2.imass, this.b2.velx += h * d, this.b2.vely += n * d, this.b2.angvel += (n * this.r2x - h * this.r2y) * this.b2.iinertia);
        if (this.ws1.fluidEnabled && 0 != this.ws1.fluidProperties.viscosity || this.ws2.fluidEnabled && 0 != this.ws2.fluidProperties.viscosity) {
            this.nodrag = !1;
            h = 0;
            this.ws1.fluidEnabled &&
                (this.ws2.validate_angDrag(), h += this.ws1.fluidProperties.viscosity * this.ws2.angDrag * this.overlap / this.ws2.area);
            this.ws2.fluidEnabled && (this.ws1.validate_angDrag(), h += this.ws2.fluidProperties.viscosity * this.ws1.angDrag * this.overlap / this.ws1.area);
            0 != h ? (n = this.b1.sinertia + this.b2.sinertia, this.wMass = 0 != n ? 1 / n : 0, h *= 8E-4 * Math.PI, this.agamma = 1 / (b * h * (2 + h * b)), h = 1 / (1 + this.agamma), this.agamma *= h, this.wMass *= h) : this.agamma = this.wMass = 0;
            h = this.b2.velx + this.b2.kinvelx - this.r2y * (this.b2.angvel + this.b2.kinangvel) -
                (this.b1.velx + this.b1.kinvelx - this.r1y * (this.b2.angvel + this.b2.kinangvel));
            n = this.b2.vely + this.b2.kinvely + this.r2x * (this.b2.angvel + this.b2.kinangvel) - (this.b1.vely + this.b1.kinvely + this.r1x * (this.b1.angvel + this.b1.kinangvel));
            h * h + n * n < u.epsilon * u.epsilon || (d = 1 / Math.sqrt(h * h + n * n), this.nx = h * d, this.ny = n * d);
            h = 0;
            if (this.ws1.fluidEnabled)
                if (n = -this.ws1.fluidProperties.viscosity * this.overlap / this.ws2.area, this.ws2.type == g.id_ShapeType_CIRCLE) h -= n * this.ws2.circle.radius * u.fluidLinearDrag / (2 * this.ws2.circle.radius *
                    Math.PI);
                else {
                    e = d = 0;
                    for (f = this.ws2.polygon.edges.head; null != f;) k = f.elt, d += k.length, k = n * k.length * (k.gnormx * this.nx + k.gnormy * this.ny), 0 < k && (k = k *= -u.fluidVacuumDrag), e -= .5 * k * u.fluidLinearDrag, f = f.next;
                    h += e / d
                }
            if (this.ws2.fluidEnabled)
                if (n = -this.ws2.fluidProperties.viscosity * this.overlap / this.ws1.area, this.ws1.type == g.id_ShapeType_CIRCLE) h -= n * this.ws1.circle.radius * u.fluidLinearDrag / (2 * this.ws1.circle.radius * Math.PI);
                else {
                    e = d = 0;
                    for (f = this.ws1.polygon.edges.head; null != f;) k = f.elt, d += k.length, k = n * k.length *
                        (k.gnormx * this.nx + k.gnormy * this.ny), 0 < k && (k = k *= -u.fluidVacuumDrag), e -= .5 * k * u.fluidLinearDrag, f = f.next;
                    h += e / d
                }
            0 != h ? (f = this.b1.smass + this.b2.smass, e = d = n = 0, n = f, d = 0, e = f, 0 != this.b1.sinertia && (f = this.r1x * this.b1.sinertia, k = this.r1y * this.b1.sinertia, n += k * this.r1y, d += -k * this.r1x, e += f * this.r1x), 0 != this.b2.sinertia && (f = this.r2x * this.b2.sinertia, k = this.r2y * this.b2.sinertia, n += k * this.r2y, d += -k * this.r2x, e += f * this.r2x), f = n * e - d * d, f != f ? (n = d = e = 0, 3) : 0 == f ? (f = 0, 0 != n ? n = 1 / n : (n = 0, f |= 1), 0 != e ? e = 1 / e : (e = 0, f |= 2), d = 0, f) : (f = 1 /
                f, k = e * f, e = n * f, n = k, d *= -f, 0), this.vMassa = n, this.vMassb = d, this.vMassc = e, h *= 2 * Math.PI, this.lgamma = 1 / (b * h * (2 + h * b)), h = 1 / (1 + this.lgamma), this.lgamma *= h, this.vMassa *= h, this.vMassb *= h, this.vMassc *= h) : this.lgamma = this.vMassc = this.vMassb = this.vMassa = 0
        } else this.nodrag = !0, this.adamp = this.dampy = this.dampx = 0;
        this.dampx *= c;
        this.dampy *= c;
        this.adamp *= c
    },
    warmStart: function() {
        var a = this.b1.imass;
        this.b1.velx -= this.dampx * a;
        this.b1.vely -= this.dampy * a;
        a = this.b2.imass;
        this.b2.velx += this.dampx * a;
        this.b2.vely += this.dampy *
            a;
        this.b1.angvel -= this.b1.iinertia * (this.dampy * this.r1x - this.dampx * this.r1y);
        this.b2.angvel += this.b2.iinertia * (this.dampy * this.r2x - this.dampx * this.r2y);
        this.b1.angvel -= this.adamp * this.b1.iinertia;
        this.b2.angvel += this.adamp * this.b2.iinertia
    },
    applyImpulseVel: function() {
        if (!this.nodrag) {
            var a = this.b1.angvel + this.b1.kinangvel,
                b = this.b2.angvel + this.b2.kinangvel,
                c = this.b1.velx + this.b1.kinvelx - this.r1y * a - (this.b2.velx + this.b2.kinvelx - this.r2y * b),
                d = this.b1.vely + this.b1.kinvely + this.r1x * a - (this.b2.vely + this.b2.kinvely +
                    this.r2x * b),
                e = this.vMassa * c + this.vMassb * d,
                d = this.vMassb * c + this.vMassc * d,
                f = this.lgamma,
                c = e - this.dampx * f,
                d = d - this.dampy * f;
            this.dampx += 1 * c;
            this.dampy += 1 * d;
            e = this.b1.imass;
            this.b1.velx -= c * e;
            this.b1.vely -= d * e;
            e = this.b2.imass;
            this.b2.velx += c * e;
            this.b2.vely += d * e;
            this.b1.angvel -= this.b1.iinertia * (d * this.r1x - c * this.r1y);
            this.b2.angvel += this.b2.iinertia * (d * this.r2x - c * this.r2y);
            a = (a - b) * this.wMass - this.adamp * this.agamma;
            this.adamp += a;
            this.b1.angvel -= a * this.b1.iinertia;
            this.b2.angvel += a * this.b2.iinertia
        }
    },
    __class__: nb
});
var qb = function() {
    this.pre_dt = 0;
    this.stat = !1;
    this.next = null;
    this.hc2 = this.hpc2 = !1;
    this.c1 = this.oc1 = this.c2 = this.oc2 = null;
    this.__ref_vertex = 0;
    this.__ref_edge1 = this.__ref_edge2 = null;
    this.biasCoef = 0;
    this.rev = !1;
    this.nx = this.ny = this.kMassa = this.kMassb = this.kMassc = this.Ka = this.Kb = this.Kc = this.rMass = this.jrAcc = this.rn1a = this.rt1a = this.rn1b = this.rt1b = this.rn2a = this.rt2a = this.rn2b = this.rt2b = this.k1x = this.k1y = this.k2x = this.k2y = this.surfacex = this.surfacey = this.lnormx = this.lnormy = this.lproj = this.radius = 0;
    this.s1 =
        this.s2 = this.contacts = this.innards = null;
    this.userdef_dyn_fric = this.userdef_stat_fric = this.userdef_restitution = this.userdef_rfric = !1;
    this.dyn_fric = this.stat_fric = this.restitution = this.rfric = 0;
    this.outer_zn = null;
    sa.call(this);
    this.pre_dt = -1;
    this.contacts = new ab;
    this.innards = new Ch;
    this.type = sa.COL;
    this.colarb = this
};
h["zpp_nape.dynamics.ZPP_ColArbiter"] = qb;
qb.__name__ = ["zpp_nape", "dynamics", "ZPP_ColArbiter"];
qb.__super__ = sa;
qb.prototype = v(sa.prototype, {
    injectContact: function(a, b, c, d, e, f, g) {
        null == g &&
            (g = !1);
        for (var h = null, n = this.contacts.next; null != n;) {
            var y = n;
            if (f == y.hash) {
                h = y;
                break
            }
            n = n.next
        }
        null == h ? (null == ab.zpp_pool ? h = new ab : (h = ab.zpp_pool, ab.zpp_pool = h.next, h.next = null), null, n = h.inner, n.jnAcc = n.jtAcc = 0, h.hash = f, h.fresh = !0, h.arbiter = this, this.jrAcc = 0, this.contacts.inlined_add(h), this.innards.add(n)) : h.fresh = !1;
        h.px = a;
        h.py = b;
        this.nx = c;
        this.ny = d;
        h.dist = e;
        h.stamp = this.stamp;
        h.posOnly = g;
        return h
    },
    retire: function() {
        this.cleared || (this.b1.arbiters.inlined_try_remove(this), this.b2.arbiters.inlined_try_remove(this),
            null != this.pair && (this.pair = this.pair.arb = null));
        this.b1 = this.b2 = null;
        for (this.intchange = this.active = !1; null != this.contacts.next;) {
            var a = this.contacts.inlined_pop_unsafe();
            a.arbiter = null;
            a.next = ab.zpp_pool;
            ab.zpp_pool = a;
            this.innards.inlined_pop()
        }
        this.userdef_rfric = this.userdef_restitution = this.userdef_stat_fric = this.userdef_dyn_fric = !1;
        this.__ref_edge1 = this.__ref_edge2 = null;
        this.next = qb.zpp_pool;
        qb.zpp_pool = this;
        this.pre_dt = -1
    },
    cleanupContacts: function() {
        var a = !0,
            b = null,
            c = null,
            d = this.innards.next;
        this.hc2 = !1;
        for (var e = this.contacts.next; null != e;) {
            var f = e;
            f.stamp + u.arbiterExpirationDelay < this.stamp ? (e = this.contacts.inlined_erase(b), d = this.innards.inlined_erase(c), f.arbiter = null, f.next = ab.zpp_pool, ab.zpp_pool = f) : (b = f.inner, c = f.active, f.active = f.stamp == this.stamp, f.active && (a ? (a = !1, this.c1 = b, this.oc1 = f) : (this.hc2 = !0, this.c2 = b, this.oc2 = f)), c != f.active && (this.contacts.modified = !0), b = e, c = d, d = d.next, e = e.next)
        }
        this.hc2 ? (this.hpc2 = !0, this.oc1.posOnly ? (d = this.c1, this.c1 = this.c2, this.c2 = d, d = this.oc1,
            this.oc1 = this.oc2, this.oc2 = d, this.hc2 = !1) : this.oc2.posOnly && (this.hc2 = !1), this.oc1.posOnly && (a = !0)) : this.hpc2 = !1;
        return a
    },
    preStep: function(a) {
        this.invalidated && (this.invalidated = !1, this.userdef_restitution || (this.restitution = this.s1.material.elasticity <= Math.NEGATIVE_INFINITY || this.s2.material.elasticity <= Math.NEGATIVE_INFINITY ? 0 : this.s1.material.elasticity >= Math.POSITIVE_INFINITY || this.s2.material.elasticity >= Math.POSITIVE_INFINITY ? 1 : (this.s1.material.elasticity + this.s2.material.elasticity) / 2, 0 >
            this.restitution && (this.restitution = 0), 1 < this.restitution && (this.restitution = 1)), this.userdef_dyn_fric || (this.dyn_fric = Math.sqrt(this.s1.material.dynamicFriction * this.s2.material.dynamicFriction)), this.userdef_stat_fric || (this.stat_fric = Math.sqrt(this.s1.material.staticFriction * this.s2.material.staticFriction)), this.userdef_rfric || (this.rfric = Math.sqrt(this.s1.material.rollingFriction * this.s2.material.rollingFriction))); - 1 == this.pre_dt && (this.pre_dt = a);
        var b = a / this.pre_dt;
        this.pre_dt = a;
        var c = this.b1.smass +
            this.b2.smass;
        this.hc2 = !1;
        a = !0;
        this.biasCoef = this.b1.type != g.id_BodyType_DYNAMIC || this.b2.type != g.id_BodyType_DYNAMIC ? this.continuous ? u.contactContinuousStaticBiasCoef : u.contactStaticBiasCoef : this.continuous ? u.contactContinuousBiasCoef : u.contactBiasCoef;
        this.continuous = !1;
        for (var d = null, e = null, f = this.innards.next, k = this.contacts.next; null != k;) {
            var h = k;
            if (h.stamp + u.arbiterExpirationDelay < this.stamp) k = this.contacts.inlined_erase(d), f = this.innards.inlined_erase(e), h.arbiter = null, h.next = ab.zpp_pool, ab.zpp_pool =
                h;
            else {
                d = h.inner;
                e = h.active;
                h.active = h.stamp == this.stamp;
                if (h.active) {
                    a ? (a = !1, this.c1 = d, this.oc1 = h) : (this.hc2 = !0, this.c2 = d, this.oc2 = h);
                    d.r2x = h.px - this.b2.posx;
                    d.r2y = h.py - this.b2.posy;
                    d.r1x = h.px - this.b1.posx;
                    d.r1y = h.py - this.b1.posy;
                    var n = c + this.b2.sinertia * Vf.sqr(d.r2x * this.nx + d.r2y * this.ny),
                        n = n + this.b1.sinertia * Vf.sqr(d.r1x * this.nx + d.r1y * this.ny);
                    d.tMass = n < u.epsilon * u.epsilon ? 0 : 1 / n;
                    n = c + this.b2.sinertia * Vf.sqr(this.ny * d.r2x - this.nx * d.r2y);
                    n += this.b1.sinertia * Vf.sqr(this.ny * d.r1x - this.nx * d.r1y);
                    d.nMass =
                        n < u.epsilon * u.epsilon ? 0 : 1 / n;
                    var y = n = 0,
                        m = this.b2.angvel + this.b2.kinangvel,
                        n = this.b2.velx + this.b2.kinvelx - d.r2y * m,
                        y = this.b2.vely + this.b2.kinvely + d.r2x * m,
                        m = this.b1.angvel + this.b1.kinangvel,
                        n = n - (this.b1.velx + this.b1.kinvelx - d.r1y * m),
                        y = y - (this.b1.vely + this.b1.kinvely + d.r1x * m),
                        m = this.nx * n + this.ny * y;
                    h.elasticity = this.restitution;
                    d.bounce = m * h.elasticity;
                    d.bounce > -u.elasticThreshold && (d.bounce = 0);
                    m = y * this.nx - n * this.ny;
                    n = u.staticFrictionThreshold;
                    d.friction = m * m > n * n ? this.dyn_fric : this.stat_fric;
                    d.jnAcc *= b;
                    d.jtAcc *=
                        b
                }
                e != h.active && (this.contacts.modified = !0);
                d = k;
                e = f;
                f = f.next;
                k = k.next
            }
        }
        this.hc2 ? (this.hpc2 = !0, this.oc1.posOnly ? (f = this.c1, this.c1 = this.c2, this.c2 = f, f = this.oc1, this.oc1 = this.oc2, this.oc2 = f, this.hc2 = !1) : this.oc2.posOnly && (this.hc2 = !1), this.oc1.posOnly && (a = !0)) : this.hpc2 = !1;
        this.jrAcc *= b;
        a || (this.rn1a = this.ny * this.c1.r1x - this.nx * this.c1.r1y, this.rt1a = this.c1.r1x * this.nx + this.c1.r1y * this.ny, this.rn1b = this.ny * this.c1.r2x - this.nx * this.c1.r2y, this.rt1b = this.c1.r2x * this.nx + this.c1.r2y * this.ny, this.k1x = this.b2.kinvelx -
            this.c1.r2y * this.b2.kinangvel - (this.b1.kinvelx - this.c1.r1y * this.b1.kinangvel), this.k1y = this.b2.kinvely + this.c1.r2x * this.b2.kinangvel - (this.b1.kinvely + this.c1.r1x * this.b1.kinangvel));
        this.hc2 && (this.rn2a = this.ny * this.c2.r1x - this.nx * this.c2.r1y, this.rt2a = this.c2.r1x * this.nx + this.c2.r1y * this.ny, this.rn2b = this.ny * this.c2.r2x - this.nx * this.c2.r2y, this.rt2b = this.c2.r2x * this.nx + this.c2.r2y * this.ny, this.k2x = this.b2.kinvelx - this.c2.r2y * this.b2.kinangvel - (this.b1.kinvelx - this.c2.r1y * this.b1.kinangvel), this.k2y =
            this.b2.kinvely + this.c2.r2x * this.b2.kinangvel - (this.b1.kinvely + this.c2.r1x * this.b1.kinangvel), this.kMassa = c + this.b1.sinertia * this.rn1a * this.rn1a + this.b2.sinertia * this.rn1b * this.rn1b, this.kMassb = c + this.b1.sinertia * this.rn1a * this.rn2a + this.b2.sinertia * this.rn1b * this.rn2b, this.kMassc = c + this.b1.sinertia * this.rn2a * this.rn2a + this.b2.sinertia * this.rn2b * this.rn2b, this.kMassa * this.kMassa + 2 * this.kMassb * this.kMassb + this.kMassc * this.kMassc < u.illConditionedThreshold * (this.kMassa * this.kMassc - this.kMassb * this.kMassb) ?
            (this.Ka = this.kMassa, this.Kb = this.kMassb, this.Kc = this.kMassc, b = this.kMassa * this.kMassc - this.kMassb * this.kMassb, b != b ? (this.kMassa = this.kMassb = this.kMassc = 0, 3) : 0 == b ? (b = 0, 0 != this.kMassa ? this.kMassa = 1 / this.kMassa : (this.kMassa = 0, b |= 1), 0 != this.kMassc ? this.kMassc = 1 / this.kMassc : (this.kMassc = 0, b |= 2), this.kMassb = 0, b) : (b = 1 / b, c = this.kMassc * b, this.kMassc = this.kMassa * b, this.kMassa = c, this.kMassb *= -b, 0)) : (this.hc2 = !1, this.oc2.dist < this.oc1.dist && (b = this.c1, this.c1 = this.c2, this.c2 = b), this.oc2.active = !1, this.contacts.modified = !0));
        this.surfacex = this.b2.svelx;
        this.surfacey = this.b2.svely;
        this.surfacex += 1 * this.b1.svelx;
        this.surfacey += 1 * this.b1.svely;
        this.surfacex = -this.surfacex;
        this.surfacey = -this.surfacey;
        this.rMass = this.b1.sinertia + this.b2.sinertia;
        0 != this.rMass && (this.rMass = 1 / this.rMass);
        return a
    },
    warmStart: function() {
        var a = this.nx * this.c1.jnAcc - this.ny * this.c1.jtAcc,
            b = this.ny * this.c1.jnAcc + this.nx * this.c1.jtAcc,
            c = this.b1.imass;
        this.b1.velx -= a * c;
        this.b1.vely -= b * c;
        this.b1.angvel -= this.b1.iinertia * (b * this.c1.r1x - a * this.c1.r1y);
        c = this.b2.imass;
        this.b2.velx += a * c;
        this.b2.vely += b * c;
        this.b2.angvel += this.b2.iinertia * (b * this.c1.r2x - a * this.c1.r2y);
        this.hc2 && (a = this.nx * this.c2.jnAcc - this.ny * this.c2.jtAcc, b = this.ny * this.c2.jnAcc + this.nx * this.c2.jtAcc, c = this.b1.imass, this.b1.velx -= a * c, this.b1.vely -= b * c, this.b1.angvel -= this.b1.iinertia * (b * this.c2.r1x - a * this.c2.r1y), c = this.b2.imass, this.b2.velx += a * c, this.b2.vely += b * c, this.b2.angvel += this.b2.iinertia * (b * this.c2.r2x - a * this.c2.r2y));
        this.b2.angvel += this.jrAcc * this.b2.iinertia;
        this.b1.angvel -=
            this.jrAcc * this.b1.iinertia
    },
    applyImpulseVel: function() {
        var a, b, c, d, e;
        d = this.k1x + this.b2.velx - this.c1.r2y * this.b2.angvel - (this.b1.velx - this.c1.r1y * this.b1.angvel);
        var f = this.k1y + this.b2.vely + this.c1.r2x * this.b2.angvel - (this.b1.vely + this.c1.r1x * this.b1.angvel);
        c = (f * this.nx - d * this.ny + this.surfacex) * this.c1.tMass;
        d = this.c1.friction * this.c1.jnAcc;
        a = this.c1.jtAcc;
        e = a - c;
        e > d ? e = d : e < -d && (e = -d);
        c = e - a;
        this.c1.jtAcc = e;
        a = -this.ny * c;
        b = this.nx * c;
        this.b2.velx += a * this.b2.imass;
        this.b2.vely += b * this.b2.imass;
        this.b1.velx -=
            a * this.b1.imass;
        this.b1.vely -= b * this.b1.imass;
        this.b2.angvel += this.rt1b * c * this.b2.iinertia;
        this.b1.angvel -= this.rt1a * c * this.b1.iinertia;
        this.hc2 ? (e = this.k2x + this.b2.velx - this.c2.r2y * this.b2.angvel - (this.b1.velx - this.c2.r1y * this.b1.angvel), b = this.k2y + this.b2.vely + this.c2.r2x * this.b2.angvel - (this.b1.vely + this.c2.r1x * this.b1.angvel), c = (b * this.nx - e * this.ny + this.surfacex) * this.c2.tMass, d = this.c2.friction * this.c2.jnAcc, a = this.c2.jtAcc, e = a - c, e > d ? e = d : e < -d && (e = -d), c = e - a, this.c2.jtAcc = e, a = -this.ny * c, b = this.nx *
            c, this.b2.velx += a * this.b2.imass, this.b2.vely += b * this.b2.imass, this.b1.velx -= a * this.b1.imass, this.b1.vely -= b * this.b1.imass, this.b2.angvel += this.rt2b * c * this.b2.iinertia, this.b1.angvel -= this.rt2a * c * this.b1.iinertia, d = this.k1x + this.b2.velx - this.c1.r2y * this.b2.angvel - (this.b1.velx - this.c1.r1y * this.b1.angvel), f = this.k1y + this.b2.vely + this.c1.r2x * this.b2.angvel - (this.b1.vely + this.c1.r1x * this.b1.angvel), e = this.k2x + this.b2.velx - this.c2.r2y * this.b2.angvel - (this.b1.velx - this.c2.r1y * this.b1.angvel), b = this.k2y +
            this.b2.vely + this.c2.r2x * this.b2.angvel - (this.b1.vely + this.c2.r1x * this.b1.angvel), c = this.c1.jnAcc, a = this.c2.jnAcc, d = d * this.nx + f * this.ny + this.surfacey + this.c1.bounce - (this.Ka * c + this.Kb * a), e = e * this.nx + b * this.ny + this.surfacey + this.c2.bounce - (this.Kb * c + this.Kc * a), b = -(this.kMassa * d + this.kMassb * e), f = -(this.kMassb * d + this.kMassc * e), 0 <= b && 0 <= f ? (d = b - c, e = f - a, this.c1.jnAcc = b, this.c2.jnAcc = f) : (b = -this.c1.nMass * d, 0 <= b && 0 <= this.Kb * b + e ? (d = b - c, e = -a, this.c1.jnAcc = b, this.c2.jnAcc = 0) : (f = -this.c2.nMass * e, 0 <= f && 0 <= this.Kb *
                f + d ? (d = -c, e = f - a, this.c1.jnAcc = 0, this.c2.jnAcc = f) : 0 <= d && 0 <= e ? (d = -c, e = -a, this.c1.jnAcc = this.c2.jnAcc = 0) : e = d = 0)), c = d + e, a = this.nx * c, b = this.ny * c, this.b2.velx += a * this.b2.imass, this.b2.vely += b * this.b2.imass, this.b1.velx -= a * this.b1.imass, this.b1.vely -= b * this.b1.imass, this.b2.angvel += (this.rn1b * d + this.rn2b * e) * this.b2.iinertia, this.b1.angvel -= (this.rn1a * d + this.rn2a * e) * this.b1.iinertia) : (0 != this.radius && (c = (this.b2.angvel - this.b1.angvel) * this.rMass, d = this.rfric * this.c1.jnAcc, a = this.jrAcc, this.jrAcc -= c, this.jrAcc >
                d ? this.jrAcc = d : this.jrAcc < -d && (this.jrAcc = -d), c = this.jrAcc - a, this.b2.angvel += c * this.b2.iinertia, this.b1.angvel -= c * this.b1.iinertia), d = this.k1x + this.b2.velx - this.c1.r2y * this.b2.angvel - (this.b1.velx - this.c1.r1y * this.b1.angvel), f = this.k1y + this.b2.vely + this.c1.r2x * this.b2.angvel - (this.b1.vely + this.c1.r1x * this.b1.angvel), c = (this.c1.bounce + (this.nx * d + this.ny * f) + this.surfacey) * this.c1.nMass, a = this.c1.jnAcc, e = a - c, 0 > e && (e = 0), c = e - a, this.c1.jnAcc = e, a = this.nx * c, b = this.ny * c, this.b2.velx += a * this.b2.imass, this.b2.vely +=
            b * this.b2.imass, this.b1.velx -= a * this.b1.imass, this.b1.vely -= b * this.b1.imass, this.b2.angvel += this.rn1b * c * this.b2.iinertia, this.b1.angvel -= this.rn1a * c * this.b1.iinertia)
    },
    applyImpulsePos: function() {
        if (2 == this.ptype) {
            var a = this.c1,
                b = 0,
                c = 0,
                b = this.b2.axisy * a.lr2x - this.b2.axisx * a.lr2y,
                c = a.lr2x * this.b2.axisx + a.lr2y * this.b2.axisy,
                b = b + 1 * this.b2.posx,
                c = c + 1 * this.b2.posy,
                d = 0,
                e = 0,
                d = this.b1.axisy * a.lr1x - this.b1.axisx * a.lr1y,
                e = a.lr1x * this.b1.axisx + a.lr1y * this.b1.axisy,
                d = d + 1 * this.b1.posx,
                e = e + 1 * this.b1.posy,
                f = a = 0,
                a = b - d,
                f = c - e,
                g = Math.sqrt(a * a + f * f),
                h = this.radius - u.collisionSlop,
                n = g - h;
            0 > a * this.nx + f * this.ny && (a = -a, f = -f, n -= this.radius);
            0 > n && (g < u.epsilon ? 0 != this.b1.smass ? this.b1.posx += 10 * u.epsilon : this.b2.posx += 10 * u.epsilon : (n = 1 / g, a *= n, f *= n, b = .5 * (d + b), c = .5 * (e + c), d = b - this.b1.posx, e = c - this.b1.posy, b -= this.b2.posx, c -= this.b2.posy, d = f * d - a * e, b = f * b - a * c, c = this.b2.smass + b * b * this.b2.sinertia + this.b1.smass + d * d * this.b1.sinertia, 0 != c && (g = -this.biasCoef * (g - h) / c, c = h = 0, h = a * g, c = f * g, a = this.b1.imass, this.b1.posx -= h * a, this.b1.posy -=
                c * a, this.b1.delta_rot(-d * this.b1.iinertia * g), a = this.b2.imass, this.b2.posx += h * a, this.b2.posy += c * a, this.b2.delta_rot(b * this.b2.iinertia * g))))
        } else {
            var y = n = f = a = 0,
                e = h = 0;
            0 == this.ptype ? (a = this.b1.axisy * this.lnormx - this.b1.axisx * this.lnormy, f = this.lnormx * this.b1.axisx + this.lnormy * this.b1.axisy, g = this.lproj + (a * this.b1.posx + f * this.b1.posy), n = this.b2.axisy * this.c1.lr1x - this.b2.axisx * this.c1.lr1y, y = this.c1.lr1x * this.b2.axisx + this.c1.lr1y * this.b2.axisy, n += 1 * this.b2.posx, y += 1 * this.b2.posy, this.hpc2 && (h = this.b2.axisy *
                this.c2.lr1x - this.b2.axisx * this.c2.lr1y, e = this.c2.lr1x * this.b2.axisx + this.c2.lr1y * this.b2.axisy, h += 1 * this.b2.posx, e += 1 * this.b2.posy)) : (a = this.b2.axisy * this.lnormx - this.b2.axisx * this.lnormy, f = this.lnormx * this.b2.axisx + this.lnormy * this.b2.axisy, g = this.lproj + (a * this.b2.posx + f * this.b2.posy), n = this.b1.axisy * this.c1.lr1x - this.b1.axisx * this.c1.lr1y, y = this.c1.lr1x * this.b1.axisx + this.c1.lr1y * this.b1.axisy, n += 1 * this.b1.posx, y += 1 * this.b1.posy, this.hpc2 && (h = this.b1.axisy * this.c2.lr1x - this.b1.axisx * this.c2.lr1y,
                e = this.c2.lr1x * this.b1.axisx + this.c2.lr1y * this.b1.axisy, h += 1 * this.b1.posx, e += 1 * this.b1.posy));
            b = n * a + y * f - g - this.radius;
            b += u.collisionSlop;
            c = 0;
            this.hpc2 && (c = h * a + e * f - g - this.radius, c += u.collisionSlop);
            if (0 > b || 0 > c) {
                this.rev && (a = -a, f = -f);
                var m = 0,
                    l = 0,
                    m = n - this.b1.posx,
                    l = y - this.b1.posy,
                    d = g = 0,
                    g = n - this.b2.posx,
                    d = y - this.b2.posy,
                    r = 0,
                    p = 0,
                    y = n = 0;
                if (this.hpc2) {
                    r = h - this.b1.posx;
                    p = e - this.b1.posy;
                    n = h - this.b2.posx;
                    y = e - this.b2.posy;
                    h = f * m - a * l;
                    g = f * g - a * d;
                    e = f * r - a * p;
                    d = f * n - a * y;
                    n = this.b1.smass + this.b2.smass;
                    this.kMassa = n + this.b1.sinertia *
                        h * h + this.b2.sinertia * g * g;
                    this.kMassb = n + this.b1.sinertia * h * e + this.b2.sinertia * g * d;
                    this.kMassc = n + this.b1.sinertia * e * e + this.b2.sinertia * d * d;
                    y = n = m = 0;
                    m = this.kMassa;
                    n = this.kMassb;
                    y = this.kMassc;
                    l = b * this.biasCoef;
                    r = c * this.biasCoef;
                    c = b = 0;
                    b = -l;
                    c = -r;
                    p = this.kMassa * this.kMassc - this.kMassb * this.kMassb;
                    if (p != p) b = c = 0;
                    else if (0 == p) b = 0 != this.kMassa ? b / this.kMassa : 0, c = 0 != this.kMassc ? c / this.kMassc : 0;
                    else var p = 1 / p,
                        t = p * (this.kMassc * b - this.kMassb * c),
                        c = p * (this.kMassa * c - this.kMassb * b),
                        b = t;
                    0 <= b && 0 <= c ? (n = (b + c) * this.b1.imass,
                        this.b1.posx -= a * n, this.b1.posy -= f * n, this.b1.delta_rot(-this.b1.iinertia * (h * b + e * c)), h = (b + c) * this.b2.imass, this.b2.posx += a * h, this.b2.posy += f * h, this.b2.delta_rot(this.b2.iinertia * (g * b + d * c))) : (b = -l / m, c = 0, m = n * b + r, 0 <= b && 0 <= m ? (n = (b + c) * this.b1.imass, this.b1.posx -= a * n, this.b1.posy -= f * n, this.b1.delta_rot(-this.b1.iinertia * (h * b + e * c)), h = (b + c) * this.b2.imass, this.b2.posx += a * h, this.b2.posy += f * h, this.b2.delta_rot(this.b2.iinertia * (g * b + d * c))) : (b = 0, c = -r / y, n = n * c + l, 0 <= c && 0 <= n && (n = (b + c) * this.b1.imass, this.b1.posx -= a *
                        n, this.b1.posy -= f * n, this.b1.delta_rot(-this.b1.iinertia * (h * b + e * c)), h = (b + c) * this.b2.imass, this.b2.posx += a * h, this.b2.posy += f * h, this.b2.delta_rot(this.b2.iinertia * (g * b + d * c)))))
                } else h = f * m - a * l, g = f * g - a * d, c = this.b2.smass + g * g * this.b2.sinertia + this.b1.smass + h * h * this.b1.sinertia, 0 != c && (b = -this.biasCoef * b / c, d = c = 0, c = a * b, d = f * b, a = this.b1.imass, this.b1.posx -= c * a, this.b1.posy -= d * a, this.b1.delta_rot(-h * this.b1.iinertia * b), a = this.b2.imass, this.b2.posx += c * a, this.b2.posy += d * a, this.b2.delta_rot(g * this.b2.iinertia * b))
            }
        }
    },
    __class__: qb
});
var ab = function() {
    this.length = 0;
    this._inuse = this.modified = this.pushmod = !1;
    this.next = null;
    this.dist = this.elasticity = 0;
    this.fresh = !1;
    this.stamp = this.hash = 0;
    this.active = this.posOnly = !1;
    this.arbiter = this.inner = null;
    this.px = this.py = 0;
    this.outer = null;
    this.inner = new Ch
};
h["zpp_nape.dynamics.ZPP_Contact"] = ab;
ab.__name__ = ["zpp_nape", "dynamics", "ZPP_Contact"];
ab.prototype = {
    wrapper: function() {
        null == this.outer && (ab.internal = !0, this.outer = new li, ab.internal = !1, this.outer.zpp_inner = this);
        return this.outer
    },
    inlined_add: function(a) {
        a._inuse = !0;
        a.next = this.next;
        this.next = a;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.next;
        this.next = a.next;
        a._inuse = !1;
        null == this.next && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    inlined_pop_unsafe: function() {
        var a = this.next;
        this.pop();
        return a
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.next, this.next = c = b.next, null == this.next && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        b._inuse = !1;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    __class__: ab
};
var Ch = function() {
    this.length = 0;
    this._inuse = this.modified = this.pushmod = !1;
    this.next = null;
    this.r1x = this.r1y = this.r2x = this.r2y = this.nMass = this.tMass = this.bounce = this.friction = this.jnAcc = this.jtAcc = this.lr1x = this.lr1y = this.lr2x = this.lr2y = 0
};
h["zpp_nape.dynamics.ZPP_IContact"] = Ch;
Ch.__name__ = ["zpp_nape", "dynamics", "ZPP_IContact"];
Ch.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        a._inuse = !0;
        a.next = this.next;
        this.next = a;
        this.modified = !0;
        this.length++;
        return a
    },
    inlined_pop: function() {
        var a = this.next;
        this.next = a.next;
        a._inuse = !1;
        null == this.next && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.next, this.next = c = b.next, null == this.next && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        b._inuse = !1;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    __class__: Ch
};
var wa = function() {
    this.collisionGroup = this.collisionMask =
        this.sensorGroup = this.sensorMask = this.fluidGroup = this.fluidMask = 0;
    this.next = this.outer = this.shapes = null;
    this.shapes = new lf;
    this.collisionGroup = this.sensorGroup = this.fluidGroup = 1;
    this.collisionMask = this.sensorMask = this.fluidMask = -1
};
h["zpp_nape.dynamics.ZPP_InteractionFilter"] = wa;
wa.__name__ = ["zpp_nape", "dynamics", "ZPP_InteractionFilter"];
wa.prototype = {
    wrapper: function() {
        if (null == this.outer) {
            this.outer = new Re;
            var a = this.outer.zpp_inner;
            a.outer = null;
            a.next = wa.zpp_pool;
            wa.zpp_pool = a;
            this.outer.zpp_inner =
                this
        }
        return this.outer
    },
    shouldCollide: function(a) {
        return 0 != (this.collisionMask & a.collisionGroup) && 0 != (a.collisionMask & this.collisionGroup)
    },
    shouldSense: function(a) {
        return 0 != (this.sensorMask & a.sensorGroup) && 0 != (a.sensorMask & this.sensorGroup)
    },
    shouldFlow: function(a) {
        return 0 != (this.fluidMask & a.fluidGroup) && 0 != (a.fluidMask & this.fluidGroup)
    },
    invalidate: function() {
        for (var a = this.shapes.head; null != a;) a.elt.invalidate_filter(), a = a.next
    },
    __class__: wa
};
var Ej = function() {
    this.depth = 0;
    this.group = this.interactors =
        null;
    this.ignore = !1;
    this.outer = null
};
h["zpp_nape.dynamics.ZPP_InteractionGroup"] = Ej;
Ej.__name__ = ["zpp_nape", "dynamics", "ZPP_InteractionGroup"];
Ej.prototype = {
    __class__: Ej
};
var Va = function() {
    this.wrap_max = null;
    this.maxx = this.maxy = 0;
    this.wrap_min = null;
    this.minx = this.miny = 0;
    this.outer = this.next = null;
    this._immutable = !1;
    this._invalidate = this._validate = null
};
h["zpp_nape.geom.ZPP_AABB"] = Va;
Va.__name__ = ["zpp_nape", "geom", "ZPP_AABB"];
Va.get = function(a, b, c, d) {
    var e;
    null == Va.zpp_pool ? e = new Va : (e = Va.zpp_pool,
        Va.zpp_pool = e.next, e.next = null);
    null;
    e.minx = a;
    e.miny = b;
    e.maxx = c;
    e.maxy = d;
    return e
};
Va.prototype = {
    validate: function() {
        null != this._validate && this._validate()
    },
    perimeter: function() {
        return 2 * (this.maxx - this.minx + (this.maxy - this.miny))
    },
    intersectY: function(a) {
        return !(a.miny > this.maxy || this.miny > a.maxy)
    },
    intersect: function(a) {
        return a.miny <= this.maxy && this.miny <= a.maxy && a.minx <= this.maxx && this.minx <= a.maxx
    },
    combine: function(a) {
        a.minx < this.minx && (this.minx = a.minx);
        a.maxx > this.maxx && (this.maxx = a.maxx);
        a.miny <
            this.miny && (this.miny = a.miny);
        a.maxy > this.maxy && (this.maxy = a.maxy)
    },
    contains: function(a) {
        return a.minx >= this.minx && a.miny >= this.miny && a.maxx <= this.maxx && a.maxy <= this.maxy
    },
    setCombine: function(a, b) {
        this.minx = a.minx < b.minx ? a.minx : b.minx;
        this.miny = a.miny < b.miny ? a.miny : b.miny;
        this.maxx = a.maxx > b.maxx ? a.maxx : b.maxx;
        this.maxy = a.maxy > b.maxy ? a.maxy : b.maxy
    },
    setExpand: function(a, b) {
        this.minx = a.minx - b;
        this.miny = a.miny - b;
        this.maxx = a.maxx + b;
        this.maxy = a.maxy + b
    },
    toString: function() {
        return "{ x: " + this.minx + " y: " +
            this.miny + " w: " + (this.maxx - this.minx) + " h: " + (this.maxy - this.miny) + " }"
    },
    __class__: Va
};
var Wf = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_Vec2"] = Wf;
Wf.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_Vec2"];
Wf.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == ub.zpp_pool ? b = new ub : (b = ub.zpp_pool, ub.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    insert: function(a, b) {
        return this.inlined_insert(a, b)
    },
    inlined_insert: function(a, b) {
        var c;
        null == ub.zpp_pool ? c = new ub : (c = ub.zpp_pool, ub.zpp_pool = c.next, c.next = null);
        null;
        c.elt = b;
        null == a ? (c.next = this.head, this.head = c) : (c.next = a.next, a.next = c);
        this.pushmod = this.modified = !0;
        this.length++;
        return c
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = ub.zpp_pool;
        ub.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    erase: function(a) {
        return this.inlined_erase(a)
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = ub.zpp_pool;
        ub.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    clear: function() {
        for (; null != this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    iterator_at: function(a) {
        for (var b = this.head; 0 <
            a-- && null != b;) b = b.next;
        return b
    },
    __class__: Wf
};
var C = function() {};
h["zpp_nape.geom.ZPP_Collide"] = C;
C.__name__ = ["zpp_nape", "geom", "ZPP_Collide"];
C.containTest = function(a, b) {
    if (a.aabb.contains(b.aabb)) {
        if (a.type == g.id_ShapeType_CIRCLE) {
            if (b.type == g.id_ShapeType_CIRCLE) {
                var c = a.circle.radius + -b.circle.radius,
                    d = 0,
                    e = 0,
                    d = b.circle.worldCOMx - a.circle.worldCOMx,
                    e = b.circle.worldCOMy - a.circle.worldCOMy;
                return d * d + e * e <= c * c
            }
            c = !0;
            for (d = b.polygon.gverts.next; null != d;) {
                var f = d;
                if (function(b) {
                    b = a.circle.radius;
                    var c =
                        0,
                        d = 0,
                        c = f.x - a.circle.worldCOMx,
                        d = f.y - a.circle.worldCOMy;
                    return c * c + d * d <= b * b
                }(this)) d = d.next;
                else {
                    c = !1;
                    break
                }
            }
            return c
        }
        if (b.type == g.id_ShapeType_CIRCLE) {
            c = !0;
            for (d = a.polygon.edges.head; null != d;)
                if (e = d.elt, e.gnormx * b.circle.worldCOMx + e.gnormy * b.circle.worldCOMy + b.circle.radius <= e.gprojection) d = d.next;
                else {
                    c = !1;
                    break
                }
            return c
        }
        c = !0;
        for (d = a.polygon.edges.head; null != d;) {
            var k = d.elt;
            if (function(a) {
                a = -1E100;
                for (var c = b.polygon.gverts.next; null != c;) {
                    var d = c,
                        d = k.gnormx * d.x + k.gnormy * d.y;
                    d > a && (a = d);
                    c = c.next
                }
                return a <=
                    k.gprojection
            }(this)) d = d.next;
            else {
                c = !1;
                break
            }
        }
        return c
    }
    return !1
};
C.contactCollide = function(a, b, c, d) {
    if (b.type == g.id_ShapeType_POLYGON)
        if (a.type == g.id_ShapeType_POLYGON) {
            for (var e = !0, f = -1E100, k = -1, h = null, n = null, y = a.polygon.edges.head; null != y;) {
                for (var m = y.elt, l = 1E100, r = b.polygon.gverts.next; null != r;) {
                    var p = r,
                        p = m.gnormx * p.x + m.gnormy * p.y;
                    p < l && (l = p);
                    if (l - m.gprojection <= f) break;
                    r = r.next
                }
                l -= m.gprojection;
                if (0 <= l) {
                    e = !1;
                    break
                }
                l > f && (f = l, h = m, k = 1);
                y = y.next
            }
            if (e) {
                for (y = b.polygon.edges.head; null != y;) {
                    m = y.elt;
                    l = 1E100;
                    for (r = a.polygon.gverts.next; null != r;) {
                        p = r;
                        p = m.gnormx * p.x + m.gnormy * p.y;
                        p < l && (l = p);
                        if (l - m.gprojection <= f) break;
                        r = r.next
                    }
                    l -= m.gprojection;
                    if (0 <= l) {
                        e = !1;
                        break
                    }
                    l > f && (f = l, n = m, k = 2);
                    y = y.next
                }
                if (e) {
                    1 == k ? (a = b.polygon, b = h, n = 1) : (a = a.polygon, b = n, n = -1);
                    h = null;
                    e = 1E100;
                    for (f = a.edges.head; null != f;) y = f.elt, m = b.gnormx * y.gnormx + b.gnormy * y.gnormy, m < e && (e = m, h = y), f = f.next;
                    var f = e = 0,
                        e = h.gp0.x,
                        f = h.gp0.y,
                        m = y = 0,
                        y = h.gp1.x,
                        m = h.gp1.y,
                        r = l = 0,
                        l = y - e,
                        r = m - f,
                        t = b.gnormy * e - b.gnormx * f,
                        p = b.gnormy * y - b.gnormx * m,
                        v = 1 / (p - t),
                        t = (-b.tp1 -
                            t) * v;
                    t > u.epsilon && (e += l * t, f += r * t);
                    p = (-b.tp0 - p) * v;
                    p < -u.epsilon && (y += l * p, m += r * p);
                    r = l = 0;
                    r = n;
                    l = b.gnormx * r;
                    r *= b.gnormy;
                    c.lnormx = b.lnormx;
                    c.lnormy = b.lnormy;
                    c.lproj = b.lprojection;
                    c.radius = 0;
                    c.rev = d != (-1 == n);
                    c.ptype = c.rev ? 1 : 0;
                    p = e * b.gnormx + f * b.gnormy - b.gprojection;
                    n = y * b.gnormx + m * b.gnormy - b.gprojection;
                    if (0 < p && 0 < n) return !1;
                    d && (l = -l, r = -r);
                    d = c.injectContact(e - b.gnormx * p * .5, f - b.gnormy * p * .5, l, r, p, c.rev ? 1 : 0, 0 < p);
                    e -= 1 * a.body.posx;
                    f -= 1 * a.body.posy;
                    d.inner.lr1x = e * a.body.axisy + f * a.body.axisx;
                    d.inner.lr1y = f * a.body.axisy -
                        e * a.body.axisx;
                    d = c.injectContact(y - b.gnormx * n * .5, m - b.gnormy * n * .5, l, r, n, c.rev ? 0 : 1, 0 < n);
                    y -= 1 * a.body.posx;
                    m -= 1 * a.body.posy;
                    d.inner.lr1x = y * a.body.axisy + m * a.body.axisx;
                    d.inner.lr1y = m * a.body.axisy - y * a.body.axisx;
                    1 == k ? (c.__ref_edge1 = b, c.__ref_edge2 = h) : (c.__ref_edge2 = b, c.__ref_edge1 = h);
                    return !0
                }
            }
        } else {
            n = -1E100;
            h = !0;
            e = k = null;
            f = b.polygon.gverts.next;
            for (y = b.polygon.edges.head; null != y;) {
                m = y.elt;
                l = m.gnormx * a.circle.worldCOMx + m.gnormy * a.circle.worldCOMy - m.gprojection - a.circle.radius;
                if (0 < l) {
                    h = !1;
                    break
                }
                l > n && (n =
                    l, k = m, e = f);
                f = f.next;
                y = y.next
            }
            if (h) {
                h = e;
                e = null == e.next ? b.polygon.gverts.next : e.next;
                f = a.circle.worldCOMy * k.gnormx - a.circle.worldCOMx * k.gnormy;
                if (f <= h.y * k.gnormx - h.x * k.gnormy) return n = a.circle.radius, f = e = 0, e = h.x - a.circle.worldCOMx, f = h.y - a.circle.worldCOMy, y = e * e + f * f, y > n * n ? n = null : y < u.epsilon * u.epsilon ? n = c.injectContact(a.circle.worldCOMx, a.circle.worldCOMy, 1, 0, -n, 0, null) : (y = 1 / Math.sqrt(y), m = y < u.epsilon ? 1E100 : 1 / y, l = .5 + (a.circle.radius - .5 * n) * y, n = d ? c.injectContact(a.circle.worldCOMx + e * l, a.circle.worldCOMy +
                    f * l, -e * y, -f * y, m - n, 0, null) : c.injectContact(a.circle.worldCOMx + e * l, a.circle.worldCOMy + f * l, e * y, f * y, m - n, 0, null)), null != n && (e = n.inner, c.ptype = 2, y = f = 0, f = h.x - b.polygon.body.posx, y = h.y - b.polygon.body.posy, c.__ref_edge1 = k, c.__ref_vertex = -1, d ? (e.lr1x = f * b.polygon.body.axisy + y * b.polygon.body.axisx, e.lr1y = y * b.polygon.body.axisy - f * b.polygon.body.axisx, e.lr2x = a.circle.localCOMx, e.lr2y = a.circle.localCOMy) : (e.lr2x = f * b.polygon.body.axisy + y * b.polygon.body.axisx, e.lr2y = y * b.polygon.body.axisy - f * b.polygon.body.axisx, e.lr1x =
                    a.circle.localCOMx, e.lr1y = a.circle.localCOMy), c.radius = a.circle.radius), null != n;
                if (f >= e.y * k.gnormx - e.x * k.gnormy) return h = a.circle.radius, f = n = 0, n = e.x - a.circle.worldCOMx, f = e.y - a.circle.worldCOMy, y = n * n + f * f, y > h * h ? h = null : y < u.epsilon * u.epsilon ? h = c.injectContact(a.circle.worldCOMx, a.circle.worldCOMy, 1, 0, -h, 0, null) : (y = 1 / Math.sqrt(y), m = y < u.epsilon ? 1E100 : 1 / y, l = .5 + (a.circle.radius - .5 * h) * y, h = d ? c.injectContact(a.circle.worldCOMx + n * l, a.circle.worldCOMy + f * l, -n * y, -f * y, m - h, 0, null) : c.injectContact(a.circle.worldCOMx +
                        n * l, a.circle.worldCOMy + f * l, n * y, f * y, m - h, 0, null)), null != h && (n = h.inner, c.ptype = 2, y = f = 0, f = e.x - b.polygon.body.posx, y = e.y - b.polygon.body.posy, c.__ref_edge1 = k, c.__ref_vertex = 1, d ? (n.lr1x = f * b.polygon.body.axisy + y * b.polygon.body.axisx, n.lr1y = y * b.polygon.body.axisy - f * b.polygon.body.axisx, n.lr2x = a.circle.localCOMx, n.lr2y = a.circle.localCOMy) : (n.lr2x = f * b.polygon.body.axisy + y * b.polygon.body.axisx, n.lr2y = y * b.polygon.body.axisy - f * b.polygon.body.axisx, n.lr1x = a.circle.localCOMx, n.lr1y = a.circle.localCOMy), c.radius = a.circle.radius),
                    null != h;
                h = b = 0;
                h = a.circle.radius + .5 * n;
                b = k.gnormx * h;
                h *= k.gnormy;
                f = e = 0;
                e = a.circle.worldCOMx - b;
                f = a.circle.worldCOMy - h;
                b = d ? c.injectContact(e, f, k.gnormx, k.gnormy, n, 0, null) : c.injectContact(e, f, -k.gnormx, -k.gnormy, n, 0, null);
                c.ptype = d ? 0 : 1;
                c.lnormx = k.lnormx;
                c.lnormy = k.lnormy;
                c.rev = !d;
                c.lproj = k.lprojection;
                c.radius = a.circle.radius;
                b.inner.lr1x = a.circle.localCOMx;
                b.inner.lr1y = a.circle.localCOMy;
                c.__ref_edge1 = k;
                c.__ref_vertex = 0;
                return !0
            }
        } else if (k = a.circle.radius + b.circle.radius, n = h = 0, h = b.circle.worldCOMx - a.circle.worldCOMx,
        n = b.circle.worldCOMy - a.circle.worldCOMy, e = h * h + n * n, e > k * k ? k = null : e < u.epsilon * u.epsilon ? k = c.injectContact(a.circle.worldCOMx, a.circle.worldCOMy, 1, 0, -k, 0, null) : (e = 1 / Math.sqrt(e), f = e < u.epsilon ? 1E100 : 1 / e, y = .5 + (a.circle.radius - .5 * k) * e, k = d ? c.injectContact(a.circle.worldCOMx + h * y, a.circle.worldCOMy + n * y, -h * e, -n * e, f - k, 0, null) : c.injectContact(a.circle.worldCOMx + h * y, a.circle.worldCOMy + n * y, h * e, n * e, f - k, 0, null)), null != k) return k = k.inner, d ? (k.lr1x = b.circle.localCOMx, k.lr1y = b.circle.localCOMy, k.lr2x = a.circle.localCOMx,
        k.lr2y = a.circle.localCOMy) : (k.lr1x = a.circle.localCOMx, k.lr1y = a.circle.localCOMy, k.lr2x = b.circle.localCOMx, k.lr2y = b.circle.localCOMy), c.radius = a.circle.radius + b.circle.radius, c.ptype = 2, !0;
    return !1
};
C.testCollide_safe = function(a, b) {
    if (b.type == g.id_ShapeType_CIRCLE) {
        var c = a;
        a = b;
        b = c
    }
    return C.testCollide(a, b)
};
C.testCollide = function(a, b) {
    if (b.type == g.id_ShapeType_POLYGON) {
        if (a.type == g.id_ShapeType_POLYGON) {
            for (var c = !0, d = a.polygon.edges.head; null != d;) {
                for (var e = d.elt, f = 1E100, k = b.polygon.gverts.next; null !=
                    k;) {
                    var h = k,
                        h = e.gnormx * h.x + e.gnormy * h.y;
                    h < f && (f = h);
                    k = k.next
                }
                f -= e.gprojection;
                if (0 < f) {
                    c = !1;
                    break
                }
                d = d.next
            }
            if (c) {
                for (d = b.polygon.edges.head; null != d;) {
                    e = d.elt;
                    f = 1E100;
                    for (k = a.polygon.gverts.next; null != k;) h = k, h = e.gnormx * h.x + e.gnormy * h.y, h < f && (f = h), k = k.next;
                    f -= e.gprojection;
                    if (0 < f) {
                        c = !1;
                        break
                    }
                    d = d.next
                }
                return c
            }
        } else {
            d = c = null;
            e = !0;
            f = -1E100;
            k = b.polygon.gverts.next;
            for (h = b.polygon.edges.head; null != h;) {
                var n = h.elt,
                    l = n.gnormx * a.circle.worldCOMx + n.gnormy * a.circle.worldCOMy - n.gprojection - a.circle.radius;
                if (0 <
                    l) {
                    e = !1;
                    break
                }
                l > f && (f = l, c = n, d = k);
                k = k.next;
                h = h.next
            }
            if (e) return e = d, d = null == d.next ? b.polygon.gverts.next : d.next, f = a.circle.worldCOMy * c.gnormx - a.circle.worldCOMx * c.gnormy, f <= e.y * c.gnormx - e.x * c.gnormy ? (c = a.circle.radius, f = d = 0, d = e.x - a.circle.worldCOMx, f = e.y - a.circle.worldCOMy, d * d + f * f <= c * c) : f >= d.y * c.gnormx - d.x * c.gnormy ? (c = a.circle.radius, f = e = 0, e = d.x - a.circle.worldCOMx, f = d.y - a.circle.worldCOMy, e * e + f * f <= c * c) : !0
        }
        return !1
    }
    c = a.circle.radius + b.circle.radius;
    e = d = 0;
    d = b.circle.worldCOMx - a.circle.worldCOMx;
    e = b.circle.worldCOMy -
        a.circle.worldCOMy;
    return d * d + e * e <= c * c
};
C.flowCollide = function(a, b, c) {
    if (b.type == g.id_ShapeType_POLYGON) {
        if (a.type == g.id_ShapeType_POLYGON) {
            for (var d = [], e = [], f = !0, k = !0, h = a.polygon.edges.head; null != h;) {
                for (var n = h.elt, l = 1E100, m = 0, r = b.polygon.gverts.next; null != r;) {
                    var p = r,
                        t = n.gnormx * p.x + n.gnormy * p.y;
                    t < l && (l = t);
                    t >= n.gprojection + u.epsilon && (e[m] = !0, k = !1);
                    m++;
                    r = r.next
                }
                l -= n.gprojection;
                if (0 < l) {
                    f = !1;
                    break
                }
                h = h.next
            }
            if (k) return b.polygon.validate_worldCOM(), c.overlap = b.polygon.area, c.centroidx = b.polygon.worldCOMx,
                c.centroidy = b.polygon.worldCOMy, null, !0;
            if (f) {
                for (var k = !0, v = b.polygon.edges.head; null != v;) {
                    for (var w = v.elt, A = 1E100, z = 0, x = a.polygon.gverts.next; null != x;) {
                        var D = x,
                            G = w.gnormx * D.x + w.gnormy * D.y;
                        G < A && (A = G);
                        G >= w.gprojection + u.epsilon && (d[z] = !0, k = !1);
                        z++;
                        x = x.next
                    }
                    A -= w.gprojection;
                    if (0 < A) {
                        f = !1;
                        break
                    }
                    v = v.next
                }
                if (k) return a.polygon.validate_worldCOM(), c.overlap = a.polygon.area, c.centroidx = a.polygon.worldCOMx, c.centroidy = a.polygon.worldCOMy, null, !0;
                if (f) {
                    for (; null != C.flowpoly.head;) {
                        var H = C.flowpoly.pop_unsafe();
                        if (!H._inuse) {
                            var J = H;
                            null != J.outer && (J.outer.zpp_inner = null, J.outer = null);
                            J._isimmutable = null;
                            J._validate = null;
                            J._invalidate = null;
                            J.next = ja.zpp_pool;
                            ja.zpp_pool = J
                        }
                    }
                    for (var E = null, N = !1, F = a.polygon.gverts.next, K = 0, L = b.polygon.gverts.next, M = 0, Q = 0, O = b.polygon.edgeCnt; Q < O;) {
                        var P = Q++;
                        if (e[P]) L = L.next;
                        else {
                            M = P;
                            break
                        }
                    }
                    if (null == L) {
                        for (var L = b.polygon.gverts.next, N = !0, T = 0, Y = a.polygon.edgeCnt; T < Y;) {
                            var ca = T++;
                            if (d[ca]) F = F.next;
                            else {
                                K = ca;
                                break
                            }
                        }
                        null == F ? F = a.polygon.gverts.next : (C.flowpoly.add(F), E = C.flowpoly.head.elt)
                    } else C.flowpoly.add(L),
                        E = C.flowpoly.head.elt;
                    var Z = 1;
                    if (null == C.flowpoly.head) {
                        for (var ba = !0, aa = a.polygon.gverts.next, S = aa, da = aa.next; null != da;) {
                            for (var fa = da, W = 2, ga = b.polygon.gverts.next, U = ga, ia = ga.next; null != ia;) {
                                var ha = ia,
                                    pa = 0;
                                (function(a) {
                                    var b = a = 0;
                                    a = S.x - U.x;
                                    var b = S.y - U.y,
                                        c = 0,
                                        d = 0,
                                        c = fa.x - S.x,
                                        d = fa.y - S.y,
                                        e = 0,
                                        f = 0,
                                        e = ha.x - U.x,
                                        f = ha.y - U.y,
                                        g = d * e - c * f;
                                    g * g > u.epsilon * u.epsilon ? (g = 1 / g, e = (f * a - e * b) * g, e > u.epsilon && e < 1 - u.epsilon ? (a = (d * a - c * b) * g, a > u.epsilon && a < 1 - u.epsilon ? (pa = e, a = !0) : a = !1) : a = !1) : a = !1;
                                    return a
                                })(this) && pa < W && (W = pa, L = ga);
                                ga = ia;
                                U = ha;
                                ia = ia.next
                            }
                            var ka = ia = b.polygon.gverts.next,
                                ta = 0;
                            (function(a) {
                                var b = a = 0;
                                a = S.x - U.x;
                                var b = S.y - U.y,
                                    c = 0,
                                    d = 0,
                                    c = fa.x - S.x,
                                    d = fa.y - S.y,
                                    e = 0,
                                    f = 0,
                                    e = ka.x - U.x,
                                    f = ka.y - U.y,
                                    g = d * e - c * f;
                                g * g > u.epsilon * u.epsilon ? (g = 1 / g, e = (f * a - e * b) * g, e > u.epsilon && e < 1 - u.epsilon ? (a = (d * a - c * b) * g, a > u.epsilon && a < 1 - u.epsilon ? (ta = e, a = !0) : a = !1) : a = !1) : a = !1;
                                return a
                            })(this) && ta < W && (W = ta, L = ga);
                            if (2 != W) {
                                var ea = 0,
                                    I = 0,
                                    va = W,
                                    ea = S.x + (fa.x - S.x) * va,
                                    I = S.y + (fa.y - S.y) * va,
                                    E = ja.get(ea, I, null);
                                C.flowpoly.add(E);
                                N = !0;
                                F = aa;
                                ba = !1;
                                break
                            }
                            aa = da;
                            S = fa;
                            da = da.next
                        }
                        if (ba) {
                            for (var ua =
                                da = a.polygon.gverts.next, oa = 2, ra = b.polygon.gverts.next, na = ra, za = ra.next; null != za;) {
                                var sa = za,
                                    Ge = 0;
                                (function(a) {
                                    var b = a = 0;
                                    a = S.x - na.x;
                                    var b = S.y - na.y,
                                        c = 0,
                                        d = 0,
                                        c = ua.x - S.x,
                                        d = ua.y - S.y,
                                        e = 0,
                                        f = 0,
                                        e = sa.x - na.x,
                                        f = sa.y - na.y,
                                        g = d * e - c * f;
                                    g * g > u.epsilon * u.epsilon ? (g = 1 / g, e = (f * a - e * b) * g, e > u.epsilon && e < 1 - u.epsilon ? (a = (d * a - c * b) * g, a > u.epsilon && a < 1 - u.epsilon ? (Ge = e, a = !0) : a = !1) : a = !1) : a = !1;
                                    return a
                                })(this) && Ge < oa && (oa = Ge, L = ra);
                                ra = za;
                                na = sa;
                                za = za.next
                            }
                            var Ma = za = b.polygon.gverts.next,
                                Ka = 0;
                            (function(a) {
                                var b = a = 0;
                                a = S.x - na.x;
                                var b = S.y -
                                    na.y,
                                    c = 0,
                                    d = 0,
                                    c = ua.x - S.x,
                                    d = ua.y - S.y,
                                    e = 0,
                                    f = 0,
                                    e = Ma.x - na.x,
                                    f = Ma.y - na.y,
                                    g = d * e - c * f;
                                g * g > u.epsilon * u.epsilon ? (g = 1 / g, e = (f * a - e * b) * g, e > u.epsilon && e < 1 - u.epsilon ? (a = (d * a - c * b) * g, a > u.epsilon && a < 1 - u.epsilon ? (Ka = e, a = !0) : a = !1) : a = !1) : a = !1;
                                return a
                            })(this) && Ka < oa && (oa = Ka, L = ra);
                            if (2 != oa) {
                                var Ga = 0,
                                    ya = 0,
                                    Aa = oa,
                                    Ga = S.x + (ua.x - S.x) * Aa,
                                    ya = S.y + (ua.y - S.y) * Aa,
                                    E = ja.get(Ga, ya, null);
                                C.flowpoly.add(E);
                                N = !0;
                                F = aa
                            }
                        }
                        Z = 2
                    }
                    for (;;)
                        if (N)
                            if (F = F.next, K++, null == F && (F = a.polygon.gverts.next, K = 0), d[K]) {
                                var Ja = C.flowpoly.head.elt,
                                    xa = F,
                                    X = L,
                                    Ca = L.next;
                                null == Ca && (Ca = b.polygon.gverts.next);
                                var Ha = -1,
                                    Ia = null,
                                    Da = 0,
                                    Ba = 0,
                                    Fa = Ca,
                                    Pa = Ca;
                                do {
                                    var Za = Pa,
                                        Va = 0;
                                    if (function(a) {
                                        var b = a = 0;
                                        a = X.x - Ja.x;
                                        var b = X.y - Ja.y,
                                            c = 0,
                                            d = 0,
                                            c = Za.x - X.x,
                                            d = Za.y - X.y,
                                            e = 0,
                                            f = 0,
                                            e = xa.x - Ja.x,
                                            f = xa.y - Ja.y,
                                            g = d * e - c * f;
                                        g * g > u.epsilon * u.epsilon ? (g = 1 / g, e = (f * a - e * b) * g, e > u.epsilon && e < 1 - u.epsilon ? (a = (d * a - c * b) * g, a > u.epsilon && a < 1 - u.epsilon ? (Va = e, a = !0) : a = !1) : a = !1) : a = !1;
                                        return a
                                    }(this) && Va >= Ha)
                                        if (Ia = L, Da = M, ++Ba == Z) {
                                            Ha = Va;
                                            Pa = Fa;
                                            break
                                        } else Ha = Va;
                                    X = Za;
                                    L = Pa;
                                    M++;
                                    M >= b.polygon.edgeCnt && (M = 0);
                                    Pa = Pa.next;
                                    null == Pa && (Pa =
                                        b.polygon.gverts.next)
                                } while (0);
                                for (; Pa != Fa;) {
                                    var Wa = Pa,
                                        Oa = 0;
                                    if (function(a) {
                                        var b = a = 0;
                                        a = X.x - Ja.x;
                                        var b = X.y - Ja.y,
                                            c = 0,
                                            d = 0,
                                            c = Wa.x - X.x,
                                            d = Wa.y - X.y,
                                            e = 0,
                                            f = 0,
                                            e = xa.x - Ja.x,
                                            f = xa.y - Ja.y,
                                            g = d * e - c * f;
                                        g * g > u.epsilon * u.epsilon ? (g = 1 / g, e = (f * a - e * b) * g, e > u.epsilon && e < 1 - u.epsilon ? (a = (d * a - c * b) * g, a > u.epsilon && a < 1 - u.epsilon ? (Oa = e, a = !0) : a = !1) : a = !1) : a = !1;
                                        return a
                                    }(this) && Oa >= Ha)
                                        if (Ia = L, Da = M, ++Ba == Z) {
                                            Ha = Oa;
                                            Pa = Fa;
                                            break
                                        } else Ha = Oa;
                                    X = Wa;
                                    L = Pa;
                                    M++;
                                    M >= b.polygon.edgeCnt && (M = 0);
                                    Pa = Pa.next;
                                    null == Pa && (Pa = b.polygon.gverts.next)
                                }
                                if (null ==
                                    Ia) break;
                                var Ra = Ia,
                                    ab = Ia.next;
                                null == ab && (ab = b.polygon.gverts.next);
                                var fb = ab,
                                    V = 0,
                                    Qa = 0,
                                    Ya = Ha,
                                    V = Ra.x + (fb.x - Ra.x) * Ya,
                                    Qa = Ra.y + (fb.y - Ra.y) * Ya;
                                if (null != E && Sb.vec_dsq(V, Qa, E.x, E.y) < u.epsilon) break;
                                C.flowpoly.add(ja.get(V, Qa, null));
                                null == E && (E = C.flowpoly.head.elt);
                                L = Ia;
                                M = Da;
                                N = !N;
                                Z = 2
                            } else {
                                var Ua = F;
                                if (null != E && Sb.vec_dsq(Ua.x, Ua.y, E.x, E.y) < u.epsilon) break;
                                C.flowpoly.add(Ua);
                                null == E && (E = C.flowpoly.head.elt);
                                Z = 1
                            } else if (L = L.next, M++, null == L && (L = b.polygon.gverts.next, M = 0), e[M]) {
                        var qa = C.flowpoly.head.elt,
                            cb = L,
                            wa = F,
                            ma = F.next;
                        null == ma && (ma = a.polygon.gverts.next);
                        var Ea = -1,
                            gb = null,
                            fh = 0,
                            nb = 0,
                            bb = ma,
                            La = ma;
                        do {
                            var kb = La,
                                lb = 0;
                            if (function(a) {
                                var b = a = 0;
                                a = wa.x - qa.x;
                                var b = wa.y - qa.y,
                                    c = 0,
                                    d = 0,
                                    c = kb.x - wa.x,
                                    d = kb.y - wa.y,
                                    e = 0,
                                    f = 0,
                                    e = cb.x - qa.x,
                                    f = cb.y - qa.y,
                                    g = d * e - c * f;
                                g * g > u.epsilon * u.epsilon ? (g = 1 / g, e = (f * a - e * b) * g, e > u.epsilon && e < 1 - u.epsilon ? (a = (d * a - c * b) * g, a > u.epsilon && a < 1 - u.epsilon ? (lb = e, a = !0) : a = !1) : a = !1) : a = !1;
                                return a
                            }(this) && lb >= Ea)
                                if (gb = F, fh = K, ++nb == Z) {
                                    Ea = lb;
                                    La = bb;
                                    break
                                } else Ea = lb;
                            wa = kb;
                            F = La;
                            K++;
                            K >= a.polygon.edgeCnt && (K = 0);
                            La =
                                La.next;
                            null == La && (La = a.polygon.gverts.next)
                        } while (0);
                        for (; La != bb;) {
                            var hb = La,
                                mb = 0;
                            if (function(a) {
                                var b = a = 0;
                                a = wa.x - qa.x;
                                var b = wa.y - qa.y,
                                    c = 0,
                                    d = 0,
                                    c = hb.x - wa.x,
                                    d = hb.y - wa.y,
                                    e = 0,
                                    f = 0,
                                    e = cb.x - qa.x,
                                    f = cb.y - qa.y,
                                    g = d * e - c * f;
                                g * g > u.epsilon * u.epsilon ? (g = 1 / g, e = (f * a - e * b) * g, e > u.epsilon && e < 1 - u.epsilon ? (a = (d * a - c * b) * g, a > u.epsilon && a < 1 - u.epsilon ? (mb = e, a = !0) : a = !1) : a = !1) : a = !1;
                                return a
                            }(this) && mb >= Ea)
                                if (gb = F, fh = K, ++nb == Z) {
                                    Ea = mb;
                                    La = bb;
                                    break
                                } else Ea = mb;
                            wa = hb;
                            F = La;
                            K++;
                            K >= a.polygon.edgeCnt && (K = 0);
                            La = La.next;
                            null == La && (La = a.polygon.gverts.next)
                        }
                        if (null ==
                            gb) break;
                        var db = gb,
                            qb = gb.next;
                        null == qb && (qb = a.polygon.gverts.next);
                        var ib = qb,
                            rb = 0,
                            sb = 0,
                            vb = Ea,
                            rb = db.x + (ib.x - db.x) * vb,
                            sb = db.y + (ib.y - db.y) * vb;
                        if (null != E && Sb.vec_dsq(rb, sb, E.x, E.y) < u.epsilon) break;
                        C.flowpoly.add(ja.get(rb, sb, null));
                        null == E && (E = C.flowpoly.head.elt);
                        F = gb;
                        K = fh;
                        N = !N;
                        Z = 2
                    } else {
                        var jb = L;
                        if (null != E && Sb.vec_dsq(jb.x, jb.y, E.x, E.y) < u.epsilon) break;
                        C.flowpoly.add(jb);
                        null == E && (E = C.flowpoly.head.elt);
                        Z = 1
                    } if (null != C.flowpoly.head && null != C.flowpoly.head.next && null != C.flowpoly.head.next.next) {
                        for (var Xd =
                            0, Na = 0, $a = 0, Xd = $a = Na = 0, la = C.flowpoly.head, pb = la.elt, la = la.next, hc = la.elt, la = la.next; null != la;) var Sa = la.elt,
                            Xd = Xd + hc.x * (Sa.y - pb.y),
                            yb = Sa.y * hc.x - Sa.x * hc.y,
                            Na = Na + (hc.x + Sa.x) * yb,
                            $a = $a + (hc.y + Sa.y) * yb,
                            pb = hc,
                            hc = Sa,
                            la = la.next;
                        var la = C.flowpoly.head,
                            Ta = la.elt,
                            Xd = Xd + hc.x * (Ta.y - pb.y),
                            zb = Ta.y * hc.x - Ta.x * hc.y,
                            Na = Na + (hc.x + Ta.x) * zb,
                            $a = $a + (hc.y + Ta.y) * zb,
                            pb = hc,
                            hc = Ta,
                            la = la.next,
                            tb = la.elt,
                            Xd = Xd + hc.x * (tb.y - pb.y),
                            Db = tb.y * hc.x - tb.x * hc.y,
                            Na = Na + (hc.x + tb.x) * Db,
                            $a = $a + (hc.y + tb.y) * Db,
                            Xd = .5 * Xd,
                            Fb = 1 / (6 * Xd),
                            Na = Na * Fb,
                            $a = $a * Fb;
                        c.overlap = -Xd;
                        c.centroidx = Na;
                        c.centroidy = $a;
                        null;
                        return !0
                    }
                }
            }
            return !1
        }
        for (var xb = [], Gb = !0, Xa = null, wb = null, Hb = -1E100, Ib = !0, Cb = b.polygon.gverts.next, Kb = 0, Nb = b.polygon.edges.head; null != Nb;) {
            var Bb = Nb.elt,
                Eb = Bb.gnormx * a.circle.worldCOMx + Bb.gnormy * a.circle.worldCOMy;
            if (Eb > Bb.gprojection + a.circle.radius) {
                Ib = !1;
                break
            } else Eb + a.circle.radius > Bb.gprojection + u.epsilon && (Gb = !1, xb[Kb] = !0);
            Eb -= Bb.gprojection + a.circle.radius;
            Eb > Hb && (Hb = Eb, Xa = Bb, wb = Cb);
            Cb = Cb.next;
            Kb++;
            Nb = Nb.next
        }
        if (Ib) {
            if (Gb) return c.overlap = a.circle.area,
                c.centroidx = a.circle.worldCOMx, c.centroidy = a.circle.worldCOMy, null, !0;
            var Pb = wb,
                Jb;
            Jb = null == wb.next ? b.polygon.gverts.next : wb.next;
            var Ub = a.circle.worldCOMy * Xa.gnormx - a.circle.worldCOMx * Xa.gnormy;
            if (Ub <= Pb.y * Xa.gnormx - Pb.x * Xa.gnormy ? function(b) {
                    b = a.circle.radius;
                    var c = 0,
                        d = 0,
                        c = Pb.x - a.circle.worldCOMx,
                        d = Pb.y - a.circle.worldCOMy;
                    return c * c + d * d <= b * b
                }(this) : Ub >= Jb.y * Xa.gnormx - Jb.x * Xa.gnormy ? function(b) {
                    b = a.circle.radius;
                    var c = 0,
                        d = 0,
                        c = Jb.x - a.circle.worldCOMx,
                        d = Jb.y - a.circle.worldCOMy;
                    return c * c + d * d <= b * b
                }(this) :
                1) {
                for (var Rb = [], ic = 0, vc = !0, Hc = null, ub = 0, Vb = b.polygon.gverts.next; null != Vb;) {
                    var zc = Vb,
                        Sc = Sb.vec_dsq(zc.x, zc.y, a.circle.worldCOMx, a.circle.worldCOMy);
                    (Rb[ic] = Sc <= a.circle.radius * a.circle.radius) ? (ub = ic, Hc = Vb) : vc = !1;
                    ic++;
                    Vb = Vb.next
                }
                if (vc) return b.polygon.validate_worldCOM(), c.overlap = b.polygon.area, c.centroidx = b.polygon.worldCOMx, c.centroidy = b.polygon.worldCOMy, null, !0;
                for (; null != C.flowpoly.head;) {
                    var Ac = C.flowpoly.pop_unsafe();
                    if (!Ac._inuse) {
                        var Lb = Ac;
                        null != Lb.outer && (Lb.outer.zpp_inner = null, Lb.outer =
                            null);
                        Lb._isimmutable = null;
                        Lb._validate = null;
                        Lb._invalidate = null;
                        Lb.next = ja.zpp_pool;
                        ja.zpp_pool = Lb
                    }
                }
                C.flowsegs.clear();
                var Nc = null,
                    ob = 1;
                null == Hc ? (Hc = b.polygon.gverts.next, ob = 2) : C.flowpoly.add(Nc = Hc);
                for (; 0 != ob;)
                    if (1 == ob)
                        if (Hc = Hc.next, null == Hc && (Hc = b.polygon.gverts.next), ub++, ub >= b.polygon.edgeCnt && (ub = 0), Rb[ub]) {
                            if (Sb.vec_dsq(Nc.x, Nc.y, Hc.x, Hc.y) < u.epsilon) break;
                            C.flowpoly.add(Hc)
                        } else {
                            var Mb = C.flowpoly.head.elt,
                                ac = Hc,
                                bc = 0,
                                dc = 0,
                                bc = ac.x - Mb.x,
                                dc = ac.y - Mb.y,
                                ec = 0,
                                fc = 0,
                                ec = Mb.x - a.circle.worldCOMx,
                                fc = Mb.y -
                                a.circle.worldCOMy,
                                Yb = bc * bc + dc * dc,
                                gc = 2 * (ec * bc + fc * dc),
                                Ic = Math.sqrt(gc * gc - 4 * Yb * (ec * ec + fc * fc - a.circle.radius * a.circle.radius)),
                                Yb = 1 / (2 * Yb),
                                Tc = (-gc - Ic) * Yb,
                                Bc = 0,
                                Cc = 0,
                                Vc = Tc < u.epsilon ? (-gc + Ic) * Yb : Tc,
                                Bc = Mb.x + (ac.x - Mb.x) * Vc,
                                Cc = Mb.y + (ac.y - Mb.y) * Vc;
                            if (Sb.vec_dsq(Nc.x, Nc.y, Bc, Cc) < u.epsilon) break;
                            C.flowpoly.add(ja.get(Bc, Cc, null));
                            ob = 2
                        } else if (2 == ob) {
                    var nc = Hc.next;
                    null == nc && (nc = b.polygon.gverts.next);
                    var eb = Hc,
                        ob = 0,
                        Tb = nc,
                        Oc = nc;
                    do {
                        var Ab = Oc,
                            pc = ub + 1;
                        pc == b.polygon.edgeCnt && (pc = 0);
                        if (xb[ub])
                            if (Rb[pc]) {
                                var qc = 0,
                                    rc =
                                    0,
                                    qc = Ab.x - eb.x,
                                    rc = Ab.y - eb.y,
                                    uc = 0,
                                    wc = 0,
                                    uc = eb.x - a.circle.worldCOMx,
                                    wc = eb.y - a.circle.worldCOMy,
                                    jc = qc * qc + rc * rc,
                                    xc = 2 * (uc * qc + wc * rc),
                                    md = Math.sqrt(xc * xc - 4 * jc * (uc * uc + wc * wc - a.circle.radius * a.circle.radius)),
                                    jc = 1 / (2 * jc),
                                    nd = (-xc - md) * jc,
                                    Uc = 0,
                                    Wc = 0,
                                    od = nd < u.epsilon ? (-xc + md) * jc : nd,
                                    Uc = eb.x + (Ab.x - eb.x) * od,
                                    Wc = eb.y + (Ab.y - eb.y) * od;
                                if (Sb.vec_dsq(Nc.x, Nc.y, Uc, Wc) < u.epsilon) {
                                    ob = 0;
                                    Oc = Tb;
                                    break
                                }
                                var sd = ja.get(Uc, Wc, null);
                                C.flowsegs.add(C.flowpoly.head.elt);
                                C.flowsegs.add(sd);
                                C.flowpoly.add(sd);
                                ob = 1;
                                Oc = Tb;
                                break
                            } else {
                                var Ec = 0,
                                    Gc = 0,
                                    fd, Jc = 0,
                                    Kc = 0,
                                    Jc = Ab.x - eb.x,
                                    Kc = Ab.y - eb.y,
                                    Mc = 0,
                                    Xc = 0,
                                    Mc = eb.x - a.circle.worldCOMx,
                                    Xc = eb.y - a.circle.worldCOMy,
                                    oc = Jc * Jc + Kc * Kc,
                                    Dc = 2 * (Mc * Jc + Xc * Kc),
                                    cc = Dc * Dc - 4 * oc * (Mc * Mc + Xc * Xc - a.circle.radius * a.circle.radius);
                                cc * cc < u.epsilon ? (Ec = 0 > cc ? 10 : Gc = -Dc / (2 * oc), fd = !1) : (cc = Math.sqrt(cc), oc = 1 / (2 * oc), Ec = (-Dc - cc) * oc, Gc = (-Dc + cc) * oc, fd = !0);
                                if (Ec < 1 - u.epsilon && Gc > u.epsilon) {
                                    var qd = 0,
                                        rd = 0,
                                        Bd = Ec,
                                        qd = eb.x + (Ab.x - eb.x) * Bd,
                                        rd = eb.y + (Ab.y - eb.y) * Bd;
                                    if (null != Nc && Sb.vec_dsq(Nc.x, Nc.y, qd, rd) < u.epsilon) {
                                        ob = 0;
                                        Oc = Tb;
                                        break
                                    }
                                    var Cd = ja.get(qd,
                                        rd, null);
                                    null != C.flowpoly.head && (C.flowsegs.add(C.flowpoly.head.elt), C.flowsegs.add(Cd));
                                    C.flowpoly.add(Cd);
                                    null == Nc && (Nc = C.flowpoly.head.elt);
                                    if (fd) {
                                        var Dd = 0,
                                            Ed = 0,
                                            Fd = Gc,
                                            Dd = eb.x + (Ab.x - eb.x) * Fd,
                                            Ed = eb.y + (Ab.y - eb.y) * Fd;
                                        C.flowpoly.add(ja.get(Dd, Ed, null))
                                    }
                                }
                            }
                        eb = Ab;
                        Hc = Oc;
                        ub = pc;
                        Oc = Oc.next;
                        null == Oc && (Oc = b.polygon.gverts.next)
                    } while (0);
                    for (; Oc != Tb;) {
                        var Ob = Oc,
                            $c = ub + 1;
                        $c == b.polygon.edgeCnt && ($c = 0);
                        if (xb[ub])
                            if (Rb[$c]) {
                                var ad = 0,
                                    bd = 0,
                                    ad = Ob.x - eb.x,
                                    bd = Ob.y - eb.y,
                                    cd = 0,
                                    dd = 0,
                                    cd = eb.x - a.circle.worldCOMx,
                                    dd = eb.y - a.circle.worldCOMy,
                                    Fc = ad * ad + bd * bd,
                                    ed = 2 * (cd * ad + dd * bd),
                                    Hd = Math.sqrt(ed * ed - 4 * Fc * (cd * cd + dd * dd - a.circle.radius * a.circle.radius)),
                                    Fc = 1 / (2 * Fc),
                                    Id = (-ed - Hd) * Fc,
                                    vd = 0,
                                    wd = 0,
                                    Md = Id < u.epsilon ? (-ed + Hd) * Fc : Id,
                                    vd = eb.x + (Ob.x - eb.x) * Md,
                                    wd = eb.y + (Ob.y - eb.y) * Md;
                                if (Sb.vec_dsq(Nc.x, Nc.y, vd, wd) < u.epsilon) {
                                    ob = 0;
                                    Oc = Tb;
                                    break
                                }
                                var Nd = ja.get(vd, wd, null);
                                C.flowsegs.add(C.flowpoly.head.elt);
                                C.flowsegs.add(Nd);
                                C.flowpoly.add(Nd);
                                ob = 1;
                                Oc = Tb;
                                break
                            } else {
                                var gd = 0,
                                    hd = 0,
                                    xd, id = 0,
                                    jd = 0,
                                    id = Ob.x - eb.x,
                                    jd = Ob.y - eb.y,
                                    kd = 0,
                                    ld = 0,
                                    kd = eb.x - a.circle.worldCOMx,
                                    ld = eb.y - a.circle.worldCOMy,
                                    yc = id * id + jd * jd,
                                    Rc = 2 * (kd * id + ld * jd),
                                    mc = Rc * Rc - 4 * yc * (kd * kd + ld * ld - a.circle.radius * a.circle.radius);
                                mc * mc < u.epsilon ? (gd = 0 > mc ? 10 : hd = -Rc / (2 * yc), xd = !1) : (mc = Math.sqrt(mc), yc = 1 / (2 * yc), gd = (-Rc - mc) * yc, hd = (-Rc + mc) * yc, xd = !0);
                                if (gd < 1 - u.epsilon && hd > u.epsilon) {
                                    var zd = 0,
                                        Ad = 0,
                                        Od = gd,
                                        zd = eb.x + (Ob.x - eb.x) * Od,
                                        Ad = eb.y + (Ob.y - eb.y) * Od;
                                    if (null != Nc && Sb.vec_dsq(Nc.x, Nc.y, zd, Ad) < u.epsilon) {
                                        ob = 0;
                                        Oc = Tb;
                                        break
                                    }
                                    var Pd = ja.get(zd, Ad, null);
                                    null != C.flowpoly.head && (C.flowsegs.add(C.flowpoly.head.elt), C.flowsegs.add(Pd));
                                    C.flowpoly.add(Pd);
                                    null == Nc && (Nc = C.flowpoly.head.elt);
                                    if (xd) {
                                        var Qd = 0,
                                            Rd = 0,
                                            Td = hd,
                                            Qd = eb.x + (Ob.x - eb.x) * Td,
                                            Rd = eb.y + (Ob.y - eb.y) * Td;
                                        C.flowpoly.add(ja.get(Qd, Rd, null))
                                    }
                                }
                            }
                        eb = Ob;
                        Hc = Oc;
                        ub = $c;
                        Oc = Oc.next;
                        null == Oc && (Oc = b.polygon.gverts.next)
                    }
                }
                if (null == C.flowpoly.head) return !1;
                if (null == C.flowpoly.head.next) {
                    for (var Vd = !0, ud = b.polygon.edges.head; null != ud;) {
                        var Kd = ud.elt;
                        if (Kd.gnormx * a.circle.worldCOMx + Kd.gnormy * a.circle.worldCOMy > Kd.gprojection) {
                            Vd = !1;
                            break
                        }
                        ud = ud.next
                    }
                    return Vd ? (c.overlap = a.circle.area, c.centroidx = a.circle.worldCOMx,
                        c.centroidy = a.circle.worldCOMy, null, !0) : !1
                }
                var sc = 0,
                    tc = 0,
                    Lc = 0;
                if (null != C.flowpoly.head.next.next) {
                    for (var Qb = 0, Wb = 0, Xb = 0, Qb = Xb = Wb = 0, $d = C.flowpoly.head, pd = $d.elt, $d = $d.next, Pc = $d.elt, $d = $d.next; null != $d;) var Yc = $d.elt,
                        Qb = Qb + Pc.x * (Yc.y - pd.y),
                        fe = Yc.y * Pc.x - Yc.x * Pc.y,
                        Wb = Wb + (Pc.x + Yc.x) * fe,
                        Xb = Xb + (Pc.y + Yc.y) * fe,
                        pd = Pc,
                        Pc = Yc,
                        $d = $d.next;
                    var $d = C.flowpoly.head,
                        Zc = $d.elt,
                        Qb = Qb + Pc.x * (Zc.y - pd.y),
                        ge = Zc.y * Pc.x - Zc.x * Pc.y,
                        Wb = Wb + (Pc.x + Zc.x) * ge,
                        Xb = Xb + (Pc.y + Zc.y) * ge,
                        pd = Pc,
                        Pc = Zc,
                        $d = $d.next,
                        td = $d.elt,
                        Qb = Qb + Pc.x * (td.y - pd.y),
                        he = td.y * Pc.x - td.x * Pc.y,
                        Wb = Wb + (Pc.x + td.x) * he,
                        Xb = Xb + (Pc.y + td.y) * he,
                        Qb = .5 * Qb,
                        ie = 1 / (6 * Qb),
                        Wb = Wb * ie,
                        Xb = Xb * ie,
                        je = -Qb,
                        sc = sc + Wb * je,
                        tc = tc + Xb * je,
                        Lc = Lc - Qb
                } else C.flowsegs.add(C.flowpoly.head.elt), C.flowsegs.add(C.flowpoly.head.next.elt);
                for (; null != C.flowsegs.head;) var Jd = C.flowsegs.pop_unsafe(),
                    Ld = C.flowsegs.pop_unsafe(),
                    le = 0,
                    me = 0,
                    le = Ld.x - Jd.x,
                    me = Ld.y - Jd.y,
                    kc = 0,
                    lc = 0,
                    kc = le,
                    lc = me,
                    ne = 1 / Math.sqrt(kc * kc + lc * lc),
                    kc = kc * ne,
                    lc = lc * ne,
                    ze = kc,
                    kc = -lc,
                    lc = ze,
                    Zb = 0,
                    $b = 0,
                    Zb = Jd.x + Ld.x,
                    $b = Jd.y + Ld.y,
                    Zb = .5 * Zb,
                    $b = .5 * $b,
                    Zb = Zb - 1 * a.circle.worldCOMx,
                    $b = $b - 1 * a.circle.worldCOMy,
                    ee = 0,
                    re = 0,
                    se = kc * Zb + lc * $b,
                    Wd = se / a.circle.radius,
                    Gd = Math.sqrt(1 - Wd * Wd),
                    te = Math.acos(Wd),
                    ee = a.circle.radius * (a.circle.radius * te - se * Gd),
                    re = .6666666666666666 * a.circle.radius * Gd * Gd * Gd / (te - Wd * Gd),
                    Zb = a.circle.worldCOMx,
                    $b = a.circle.worldCOMy,
                    ue = re,
                    Zb = Zb + kc * ue,
                    $b = $b + lc * ue,
                    ve = ee,
                    sc = sc + Zb * ve,
                    tc = tc + $b * ve,
                    Lc = Lc + ee;
                var we = 1 / Lc,
                    sc = sc * we,
                    tc = tc * we;
                c.overlap = Lc;
                c.centroidx = sc;
                c.centroidy = tc;
                null;
                return !0
            }
        }
        return !1
    }
    var Qc = a.circle,
        yd = b.circle,
        Yd = 0,
        Zd = 0,
        Yd = yd.worldCOMx - Qc.worldCOMx,
        Zd = yd.worldCOMy -
        Qc.worldCOMy,
        xe = Qc.radius + yd.radius,
        ke = Yd * Yd + Zd * Zd;
    if (ke > xe * xe) return !1;
    if (ke < u.epsilon * u.epsilon) Qc.radius < yd.radius ? (c.overlap = Qc.area, c.centroidx = Qc.worldCOMx, c.centroidy = Qc.worldCOMy) : (c.overlap = yd.area, c.centroidx = yd.worldCOMx, c.centroidy = yd.worldCOMy);
    else {
        var ae = Math.sqrt(ke),
            ye = 1 / ae,
            be = .5 * (ae - (yd.radius * yd.radius - Qc.radius * Qc.radius) * ye);
        if (be <= -Qc.radius) c.overlap = Qc.area, c.centroidx = Qc.worldCOMx, c.centroidy = Qc.worldCOMy;
        else {
            var oe = ae - be;
            if (oe <= -yd.radius) c.overlap = yd.area, c.centroidx = yd.worldCOMx,
                c.centroidy = yd.worldCOMy;
            else {
                var pe = 0,
                    Ae = 0,
                    qe = 0,
                    Be = 0,
                    ce = be / Qc.radius,
                    Sd = Math.sqrt(1 - ce * ce),
                    Ce = Math.acos(ce),
                    pe = Qc.radius * (Qc.radius * Ce - be * Sd),
                    Ae = .6666666666666666 * Qc.radius * Sd * Sd * Sd / (Ce - ce * Sd),
                    de = oe / yd.radius,
                    Ud = Math.sqrt(1 - de * de),
                    De = Math.acos(de),
                    qe = yd.radius * (yd.radius * De - oe * Ud),
                    Be = .6666666666666666 * yd.radius * Ud * Ud * Ud / (De - de * Ud),
                    Ee = pe + qe,
                    Fe = (Ae * pe + (ae - Be) * qe) / Ee * ye;
                c.overlap = Ee;
                c.centroidx = Qc.worldCOMx + Yd * Fe;
                c.centroidy = Qc.worldCOMy + Zd * Fe
            }
        }
    }
    null;
    return !0
};
var vb = function() {
    this.toiDistance = 0;
    this.next =
        null;
    this.inner = !1;
    this.normal = this.shape = this.convex = this.position = this.ray = null
};
h["zpp_nape.geom.ZPP_ConvexRayResult"] = vb;
vb.__name__ = ["zpp_nape", "geom", "ZPP_ConvexRayResult"];
vb.getRay = function(a, b, c, d) {
    var e;
    null == vb.rayPool ? (vb.internal = !0, e = new oi, e.zpp_inner = new vb, e.zpp_inner.ray = e, vb.internal = !1) : (e = vb.rayPool.ray, vb.rayPool = vb.rayPool.next, e.zpp_inner.next = null);
    var f = e.zpp_inner;
    f.normal = a;
    a.zpp_inner._immutable = !0;
    f.toiDistance = b;
    f.inner = c;
    f.shape = d;
    return e
};
vb.prototype = {
    free: function() {
        this.normal.zpp_inner._immutable = !1;
        this.normal.dispose();
        null != this.position && (this.position.zpp_inner._immutable = !1, this.position.dispose());
        this.shape = null;
        this.toiDistance = 0;
        null != this.convex ? (this.next = vb.convexPool, vb.convexPool = this) : (this.next = vb.rayPool, vb.rayPool = this)
    },
    __class__: vb
};
var Fj = function() {
    this.next = null;
    this.x = this.y = 0
};
h["zpp_nape.geom.ZPP_GeomVert"] = Fj;
Fj.__name__ = ["zpp_nape", "geom", "ZPP_GeomVert"];
Fj.prototype = {
    __class__: Fj
};
var Gj = function() {
    this.outer = this.vertices = null
};
h["zpp_nape.geom.ZPP_GeomPoly"] =
    Gj;
Gj.__name__ = ["zpp_nape", "geom", "ZPP_GeomPoly"];
Gj.prototype = {
    __class__: Gj
};
var he = function() {
    this._invalidate = this.next = null;
    this.a = this.b = this.c = this.d = this.tx = this.ty = 0;
    this.outer = null
};
h["zpp_nape.geom.ZPP_Mat23"] = he;
he.__name__ = ["zpp_nape", "geom", "ZPP_Mat23"];
he.get = function() {
    var a;
    null == he.zpp_pool ? a = new he : (a = he.zpp_pool, he.zpp_pool = a.next, a.next = null);
    null;
    return a
};
he.prototype = {
    invalidate: function() {
        null != this._invalidate && this._invalidate()
    },
    __class__: he
};
var Hj = function() {
    this.x = null;
    this.m = this.n = 0
};
h["zpp_nape.geom.ZPP_MatMN"] = Hj;
Hj.__name__ = ["zpp_nape", "geom", "ZPP_MatMN"];
Hj.prototype = {
    __class__: Hj
};
var ni = function() {
    this.zip_dir = !1;
    this.maxdist = this.originx = this.originy = this.dirx = this.diry = this.idirx = this.idiry = this.normalx = this.normaly = this.absnormalx = this.absnormaly = 0;
    this.origin = this.direction = null;
    this.origin = K.get(null, null, null);
    this.origin.zpp_inner._invalidate = l(this, this.origin_invalidate);
    this.direction = K.get(null, null, null);
    this.direction.zpp_inner._invalidate =
        l(this, this.direction_invalidate);
    this.diry = this.dirx = this.originy = this.originx = 0;
    this.zip_dir = !1
};
h["zpp_nape.geom.ZPP_Ray"] = ni;
ni.__name__ = ["zpp_nape", "geom", "ZPP_Ray"];
ni.prototype = {
    origin_invalidate: function(a) {
        this.originx = a.x;
        this.originy = a.y
    },
    direction_invalidate: function(a) {
        this.dirx = a.x;
        this.diry = a.y;
        this.zip_dir = !0
    },
    validate_dir: function() {
        if (this.zip_dir) {
            this.zip_dir = !1;
            var a = 1 / Math.sqrt(this.dirx * this.dirx + this.diry * this.diry);
            this.dirx *= a;
            this.diry *= a;
            this.idirx = 1 / this.dirx;
            this.idiry =
                1 / this.diry;
            this.normalx = -this.diry;
            this.normaly = this.dirx;
            a = this.normalx;
            this.absnormalx = 0 > a ? -a : a;
            a = this.normaly;
            this.absnormaly = 0 > a ? -a : a
        }
    },
    rayAABB: function() {
        var a = this.originx,
            b = a,
            c = this.originy,
            d = c;
        this.maxdist >= Math.POSITIVE_INFINITY ? (0 < this.dirx ? b = Math.POSITIVE_INFINITY : 0 > this.dirx && (b = Math.NEGATIVE_INFINITY), 0 < this.diry ? d = Math.POSITIVE_INFINITY : 0 > this.diry && (d = Math.NEGATIVE_INFINITY)) : (b += this.maxdist * this.dirx, d += this.maxdist * this.diry);
        if (b < a) var e = a,
            a = b,
            b = e;
        d < c && (e = c, c = d, d = e);
        return Va.get(a,
            c, b, d)
    },
    aabbtest: function(a) {
        var b = this.normalx * (this.originx - .5 * (a.minx + a.maxx)) + this.normaly * (this.originy - .5 * (a.miny + a.maxy));
        return (0 > b ? -b : b) < .5 * this.absnormalx * (a.maxx - a.minx) + .5 * this.absnormaly * (a.maxy - a.miny)
    },
    aabbsect: function(a) {
        var b = this.originy >= a.miny && this.originy <= a.maxy;
        if (this.originx >= a.minx && this.originx <= a.maxx && b) return 0;
        b = -1;
        do
            if (!(0 <= this.dirx && this.originx >= a.maxx || 0 >= this.dirx && this.originx <= a.minx || 0 <= this.diry && this.originy >= a.maxy || 0 >= this.diry && this.originy <= a.miny)) {
                if (0 <
                    this.dirx) {
                    var c = (a.minx - this.originx) * this.idirx;
                    if (0 <= c && c <= this.maxdist) {
                        var d = this.originy + c * this.diry;
                        if (d >= a.miny && d <= a.maxy) {
                            b = c;
                            break
                        }
                    }
                } else if (0 > this.dirx && (c = (a.maxx - this.originx) * this.idirx, 0 <= c && c <= this.maxdist && (d = this.originy + c * this.diry, d >= a.miny && d <= a.maxy))) {
                    b = c;
                    break
                }
                0 < this.diry ? (c = (a.miny - this.originy) * this.idiry, 0 <= c && c <= this.maxdist && (d = this.originx + c * this.dirx, d >= a.minx && d <= a.maxx && (b = c))) : 0 > this.diry && (c = (a.maxy - this.originy) * this.idiry, 0 <= c && c <= this.maxdist && (d = this.originx +
                    c * this.dirx, d >= a.minx && d <= a.maxx && (b = c)))
            }
        while (0);
        return b
    },
    circlesect: function(a, b, c) {
        a.zip_worldCOM && null != a.body && (a.zip_worldCOM = !1, a.zip_localCOM && (a.zip_localCOM = !1, a.type == g.id_ShapeType_POLYGON && a.polygon.__validate_localCOM(), null != a.wrap_localCOM && (a.wrap_localCOM.zpp_inner.x = a.localCOMx, a.wrap_localCOM.zpp_inner.y = a.localCOMy)), a.body.validate_axis(), a.worldCOMx = a.body.posx + (a.body.axisy * a.localCOMx - a.body.axisx * a.localCOMy), a.worldCOMy = a.body.posy + (a.localCOMx * a.body.axisx + a.localCOMy *
            a.body.axisy));
        var d = 0,
            e = 0,
            d = this.originx - a.worldCOMx,
            e = this.originy - a.worldCOMy,
            f = this.dirx * this.dirx + this.diry * this.diry,
            k = 2 * (d * this.dirx + e * this.diry),
            d = d * d + e * e - a.radius * a.radius,
            e = k * k - 4 * f * d;
        if (0 == e) {
            if (f *= -k / 2, (!b || 0 < d) && 0 < f && f < c && f <= this.maxdist) return c = b = 0, b = this.originx, c = this.originy, b += this.dirx * f, c += this.diry * f, b -= 1 * a.worldCOMx, c -= 1 * a.worldCOMy, k = 1 / Math.sqrt(b * b + c * c), b *= k, c *= k, 0 >= d && (b = -b, c = -c), vb.getRay(K.get(b, c, null), f, 0 >= d, a.outer)
        } else if (e = Math.sqrt(e), f = 1 / (2 * f), d = (-k - e) * f, f *= -k + e,
            0 < d) {
            if (d < c && d <= this.maxdist) return c = b = 0, b = this.originx, c = this.originy, b += this.dirx * d, c += this.diry * d, b -= 1 * a.worldCOMx, c -= 1 * a.worldCOMy, f = 1 / Math.sqrt(b * b + c * c), vb.getRay(K.get(b * f, c * f, null), d, !1, a.outer)
        } else if (0 < f && b && f < c && f <= this.maxdist) return c = b = 0, b = this.originx, c = this.originy, b += this.dirx * f, c += this.diry * f, b -= 1 * a.worldCOMx, c -= 1 * a.worldCOMy, d = 1 / Math.sqrt(b * b + c * c), b = -(b * d), c = -(c * d), vb.getRay(K.get(b, c, null), f, !0, a.outer);
        return null
    },
    polysect: function(a, b, c) {
        for (var d = null, e = a.edges.head, f = a.gverts.next,
            g = f, f = f.next; null != f;) {
            var h = f,
                n = e.elt;
            if (b || 0 > n.gnormx * this.dirx + n.gnormy * this.diry) {
                var l = 0,
                    m = 0,
                    l = h.x - g.x,
                    m = h.y - g.y,
                    r = n = 0,
                    n = g.x - this.originx,
                    r = g.y - this.originy,
                    g = m * this.dirx - l * this.diry;
                g * g > u.epsilon && (g = 1 / g, l = (m * n - l * r) * g, 0 < l && l < c && l <= this.maxdist && (g *= this.diry * n - this.dirx * r, g > -u.epsilon && g < 1 + u.epsilon && (c = l, d = e.elt)))
            }
            e = e.next;
            g = h;
            f = f.next
        }
        h = f = a.gverts.next;
        f = e.elt;
        if (b || 0 > f.gnormx * this.dirx + f.gnormy * this.diry) f = b = 0, b = h.x - g.x, f = h.y - g.y, n = h = 0, h = g.x - this.originx, n = g.y - this.originy, g = f * this.dirx -
            b * this.diry, g * g > u.epsilon && (g = 1 / g, b = (f * h - b * n) * g, 0 < b && b < c && b <= this.maxdist && (g *= this.diry * h - this.dirx * n, g > -u.epsilon && g < 1 + u.epsilon && (c = b, d = e.elt)));
        if (null != d) {
            b = e = 0;
            e = d.gnormx;
            b = d.gnormy;
            if (d = 0 < e * this.dirx + b * this.diry) e = -e, b = -b;
            return vb.getRay(K.get(e, b, null), c, d, a.outer)
        }
        return null
    },
    __class__: ni
};
var fb = function() {
    this.slipped = this.failed = this.kinematic = !1;
    this.c1 = this.c2 = this.axis = null;
    this.frozen1 = this.frozen2 = !1;
    this.s1 = this.s2 = this.arbiter = null;
    this.toi = 0;
    this.next = null;
    this.c1 = new ja;
    this.c2 =
        new ja;
    this.axis = new ja
};
h["zpp_nape.geom.ZPP_ToiEvent"] = fb;
fb.__name__ = ["zpp_nape", "geom", "ZPP_ToiEvent"];
fb.prototype = {
    __class__: fb
};
var jd = function() {};
h["zpp_nape.geom.ZPP_SweepDistance"] = jd;
jd.__name__ = ["zpp_nape", "geom", "ZPP_SweepDistance"];
jd.dynamicSweep = function(a, b, c, d, e) {
    null == e && (e = !1);
    var f = a.s1,
        g = a.s2,
        h = f.body,
        n = g.body,
        l = 0,
        m = 0,
        l = n.velx - h.velx,
        m = n.vely - h.vely,
        r = h.angvel;
    0 > r && (r = -r);
    var p = n.angvel;
    0 > p && (p = -p);
    var t = f.sweepCoef * r + g.sweepCoef * p;
    if (!e && !a.kinematic && l * l + m * m < u.dynamicSweepLinearThreshold *
        u.dynamicSweepLinearThreshold && t < u.dynamicSweepAngularThreshold) a.toi = -1, a.failed = !0;
    else {
        for (var v = a.c1, r = a.c2, p = a.axis, w = 0;;) {
            h.sweepIntegrate(c * b);
            h.sweepValidate(f);
            n.sweepIntegrate(c * b);
            n.sweepValidate(g);
            var A = jd.distance(f, g, v, r, p, null) + d,
                z = l * p.x + m * p.y;
            if (A < u.distanceThresholdCCD) {
                if (e) break;
                var x = 0,
                    C = 0,
                    x = v.x - h.posx,
                    C = v.y - h.posy,
                    D = 0,
                    E = 0,
                    D = r.x - n.posx,
                    E = r.y - n.posy,
                    x = z - h.sweep_angvel * (p.y * x - p.x * C) + n.sweep_angvel * (p.y * D - p.x * E);
                0 < x && (a.slipped = !0);
                if (0 >= x || A < .5 * u.distanceThresholdCCD) break
            }
            z = (t -
                z) * b;
            if (0 >= z) {
                c = -1;
                break
            }
            z = A / z;
            1E-6 > z && (z = 1E-6);
            c += z;
            if (1 <= c) {
                c = 1;
                h.sweepIntegrate(c * b);
                h.sweepValidate(f);
                n.sweepIntegrate(c * b);
                n.sweepValidate(g);
                b = jd.distance(f, g, v, r, p, null) + d;
                l = l * p.x + m * p.y;
                if (b < u.distanceThresholdCCD) {
                    if (e) break;
                    m = e = 0;
                    e = v.x - h.posx;
                    m = v.y - h.posy;
                    d = v = 0;
                    v = r.x - n.posx;
                    d = r.y - n.posy;
                    h = l - h.sweep_angvel * (p.y * e - p.x * m) + n.sweep_angvel * (p.y * v - p.x * d);
                    0 < h && (a.slipped = !0);
                    if (0 >= h || b < .5 * u.distanceThresholdCCD) break
                }
                c = -1;
                break
            }
            if (40 <= ++w) {
                A > d && (a.failed = !0);
                break
            }
        }
        a.toi = c
    }
};
jd.staticSweep = function(a,
    b, c, d) {
    var e = a.s1,
        f = a.s2,
        g = e.body,
        h = 0,
        n = 0,
        h = -g.velx,
        n = -g.vely,
        l = g.sweep_angvel;
    0 > l && (l = -l);
    for (var m = e.sweepCoef * l, l = a.c1, r = a.c2, p = a.axis, t = 0;;) {
        g.sweepIntegrate(c * b);
        g.sweepValidate(e);
        var v = jd.distance(e, f, l, r, p, null) + d,
            w = h * p.x + n * p.y;
        if (v < u.distanceThresholdCCD) {
            var z = 0,
                A = 0,
                z = l.x - g.posx,
                A = l.y - g.posy,
                z = w - g.sweep_angvel * (p.y * z - p.x * A);
            0 < z && (a.slipped = !0);
            if (0 >= z || v < .5 * u.distanceThresholdCCD) break
        }
        w = (m - w) * b;
        if (0 >= w) {
            c = -1;
            break
        }
        w = v / w;
        1E-6 > w && (w = 1E-6);
        c += w;
        if (1 <= c) {
            c = 1;
            g.sweepIntegrate(c * b);
            g.sweepValidate(e);
            b = jd.distance(e, f, l, r, p, null) + d;
            h = h * p.x + n * p.y;
            if (b < u.distanceThresholdCCD && (d = n = 0, n = l.x - g.posx, d = l.y - g.posy, g = h - g.sweep_angvel * (p.y * n - p.x * d), 0 < g && (a.slipped = !0), 0 >= g || b < .5 * u.distanceThresholdCCD)) break;
            c = -1;
            break
        }
        if (40 <= ++t) {
            v > d && (a.failed = !0);
            break
        }
    }
    a.toi = c
};
jd.distance = function(a, b, c, d, e, f) {
    null == f && (f = 1E100);
    if (a.type == g.id_ShapeType_CIRCLE && b.type == g.id_ShapeType_CIRCLE) {
        var h = a.circle,
            q = b.circle,
            n, l = 0,
            m = 0,
            l = q.worldCOMx - h.worldCOMx,
            m = q.worldCOMy - h.worldCOMy,
            p = Math.sqrt(l * l + m * m);
        n = p - (h.radius +
            q.radius);
        if (n < f) {
            if (0 == p) l = 1, m = 0;
            else var r = 1 / p,
                l = l * r,
                m = m * r;
            var t = h.radius;
            c.x = h.worldCOMx + l * t;
            c.y = h.worldCOMy + m * t;
            var v = -q.radius;
            d.x = q.worldCOMx + l * v;
            d.y = q.worldCOMy + m * v;
            e.x = l;
            e.y = m
        }
        return n
    }
    var w = !1;
    if (a.type == g.id_ShapeType_CIRCLE && b.type == g.id_ShapeType_POLYGON) {
        var z = a;
        a = b;
        b = z;
        var A = c;
        c = d;
        d = A;
        w = !0
    }
    if (a.type == g.id_ShapeType_POLYGON && b.type == g.id_ShapeType_CIRCLE) {
        for (var x = b.circle, C = -1E100, D = null, E = a.polygon.edges.head; null != E;) {
            var G = E.elt,
                F = G.gnormx * x.worldCOMx + G.gnormy * x.worldCOMy - G.gprojection -
                x.radius;
            if (F > f) {
                C = F;
                break
            }
            0 < F ? F > C && (C = F, D = G) : 0 > C && F > C && (C = F, D = G);
            E = E.next
        }
        if (C < f) {
            var H = D.gp0,
                J = D.gp1,
                N = x.worldCOMy * D.gnormx - x.worldCOMx * D.gnormy;
            if (N <= H.y * D.gnormx - H.x * D.gnormy) {
                var K = 0,
                    L = 0,
                    K = x.worldCOMx - H.x,
                    L = x.worldCOMy - H.y,
                    M = Math.sqrt(K * K + L * L),
                    C = M - x.radius;
                if (C < f) {
                    if (0 == M) K = 1, L = 0;
                    else var S = 1 / M,
                        K = K * S,
                        L = L * S;
                    c.x = H.x + 0 * K;
                    c.y = H.y + 0 * L;
                    var Q = -x.radius;
                    d.x = x.worldCOMx + K * Q;
                    d.y = x.worldCOMy + L * Q;
                    e.x = K;
                    e.y = L
                }
            } else if (N >= J.y * D.gnormx - J.x * D.gnormy) {
                var O = 0,
                    P = 0,
                    O = x.worldCOMx - J.x,
                    P = x.worldCOMy - J.y,
                    T = Math.sqrt(O *
                        O + P * P),
                    C = T - x.radius;
                if (C < f) {
                    if (0 == T) O = 1, P = 0;
                    else var Y = 1 / T,
                        O = O * Y,
                        P = P * Y;
                    c.x = J.x + 0 * O;
                    c.y = J.y + 0 * P;
                    var Z = -x.radius;
                    d.x = x.worldCOMx + O * Z;
                    d.y = x.worldCOMy + P * Z;
                    e.x = O;
                    e.y = P
                }
            } else {
                var ca = -x.radius;
                d.x = x.worldCOMx + D.gnormx * ca;
                d.y = x.worldCOMy + D.gnormy * ca;
                var aa = -C;
                c.x = d.x + D.gnormx * aa;
                c.y = d.y + D.gnormy * aa;
                e.x = D.gnormx;
                e.y = D.gnormy
            }
        }
        w && (e.x = -e.x, e.y = -e.y);
        return C
    }
    for (var ba = a.polygon, da = b.polygon, U = -1E100, fa = null, W = null, ga = 0, ia = ba.edges.head; null != ia;) {
        for (var na = ia.elt, ha = 1E100, pa = da.gverts.next; null != pa;) {
            var ua =
                pa,
                I = na.gnormx * ua.x + na.gnormy * ua.y;
            I < ha && (ha = I);
            pa = pa.next
        }
        ha -= na.gprojection;
        if (ha > f) {
            U = ha;
            break
        }
        0 < ha ? ha > U && (U = ha, fa = na, ga = 1) : 0 > U && ha > U && (U = ha, fa = na, ga = 1);
        ia = ia.next
    }
    if (U < f) {
        for (var oa = da.edges.head; null != oa;) {
            for (var ta = oa.elt, ka = 1E100, ra = ba.gverts.next; null != ra;) {
                var za = ra,
                    ea = ta.gnormx * za.x + ta.gnormy * za.y;
                ea < ka && (ka = ea);
                ra = ra.next
            }
            ka -= ta.gprojection;
            if (ka > f) {
                U = ka;
                break
            }
            0 < ka ? ka > U && (U = ka, W = ta, ga = 2) : 0 > U && ka > U && (U = ka, W = ta, ga = 2);
            oa = oa.next
        }
        if (U < f) {
            var va, X;
            if (1 == ga) va = da, X = fa;
            else {
                va = ba;
                X = W;
                var Ja =
                    c;
                c = d;
                d = Ja;
                w = !w
            }
            for (var sa = null, Ka = 1E100, Ha = va.edges.head; null != Ha;) {
                var Ma = Ha.elt,
                    Ia = X.gnormx * Ma.gnormx + X.gnormy * Ma.gnormy;
                Ia < Ka && (Ka = Ia, sa = Ma);
                Ha = Ha.next
            }
            w ? (e.x = -X.gnormx, e.y = -X.gnormy) : (e.x = X.gnormx, e.y = X.gnormy);
            if (0 <= U) {
                var la = X.gp0,
                    wa = X.gp1,
                    ja = sa.gp0,
                    xa = sa.gp1,
                    Ga = 0,
                    ya = 0,
                    Ca = 0,
                    Aa = 0,
                    Ga = wa.x - la.x,
                    ya = wa.y - la.y,
                    Ca = xa.x - ja.x,
                    Aa = xa.y - ja.y,
                    Pa = 1 / (Ga * Ga + ya * ya),
                    qa = 1 / (Ca * Ca + Aa * Aa),
                    Da = -(Ga * (la.x - ja.x) + ya * (la.y - ja.y)) * Pa,
                    Ea = -(Ga * (la.x - xa.x) + ya * (la.y - xa.y)) * Pa,
                    Fa = -(Ca * (ja.x - la.x) + Aa * (ja.y - la.y)) * qa,
                    Ba = -(Ca *
                        (ja.x - wa.x) + Aa * (ja.y - wa.y)) * qa;
                0 > Da ? Da = 0 : 1 < Da && (Da = 1);
                0 > Ea ? Ea = 0 : 1 < Ea && (Ea = 1);
                0 > Fa ? Fa = 0 : 1 < Fa && (Fa = 1);
                0 > Ba ? Ba = 0 : 1 < Ba && (Ba = 1);
                var gb = 0,
                    Va = 0,
                    V = Da,
                    gb = la.x + Ga * V,
                    Va = la.y + ya * V,
                    Oa = 0,
                    Ra = 0,
                    Za = Ea,
                    Oa = la.x + Ga * Za,
                    Ra = la.y + ya * Za,
                    Na = 0,
                    $a = 0,
                    Wa = Fa,
                    Na = ja.x + Ca * Wa,
                    $a = ja.y + Aa * Wa,
                    cb = 0,
                    ma = 0,
                    ab = Ba,
                    cb = ja.x + Ca * ab,
                    ma = ja.y + Aa * ab,
                    Qa = Sb.vec_dsq(gb, Va, ja.x, ja.y),
                    lb = Sb.vec_dsq(Oa, Ra, xa.x, xa.y),
                    Ua = Sb.vec_dsq(Na, $a, la.x, la.y),
                    La = Sb.vec_dsq(cb, ma, wa.x, wa.y),
                    fb = 0,
                    bb = 0,
                    Ya = null;
                Qa < lb ? (fb = gb, bb = Va, Ya = ja) : (fb = Oa, bb = Ra, Ya = xa, Qa = lb);
                var kb =
                    0,
                    mb = 0,
                    nb = null;
                Ua < La ? (kb = Na, mb = $a, nb = la) : (kb = cb, mb = ma, nb = wa, Ua = La);
                Qa < Ua ? (c.x = fb, c.y = bb, d.x = Ya.x, d.y = Ya.y, U = Math.sqrt(Qa)) : (d.x = kb, d.y = mb, c.x = nb.x, c.y = nb.y, U = Math.sqrt(Ua));
                if (0 != U) {
                    e.x = d.x - c.x;
                    e.y = d.y - c.y;
                    var hb = 1 / U;
                    e.x *= hb;
                    e.y *= hb;
                    w && (e.x = -e.x, e.y = -e.y)
                }
                return U
            }
            var db = 0,
                Xa = 0,
                db = sa.gp0.x,
                Xa = sa.gp0.y,
                Sa = 0,
                Ta = 0,
                Sa = sa.gp1.x,
                Ta = sa.gp1.y,
                pb = 0,
                qb = 0,
                pb = Sa - db,
                qb = Ta - Xa,
                rb = X.gnormy * db - X.gnormx * Xa,
                sb = X.gnormy * Sa - X.gnormx * Ta,
                tb = 1 / (sb - rb),
                ib = (-X.tp1 - rb) * tb;
            ib > u.epsilon && (db += pb * ib, Xa += qb * ib);
            var jb = (-X.tp0 -
                sb) * tb;
            jb < -u.epsilon && (Sa += pb * jb, Ta += qb * jb);
            var ob = db * X.gnormx + Xa * X.gnormy - X.gprojection,
                ub = Sa * X.gnormx + Ta * X.gnormy - X.gprojection;
            if (ob < ub) {
                d.x = db;
                d.y = Xa;
                var vb = -ob;
                c.x = d.x + X.gnormx * vb;
                c.y = d.y + X.gnormy * vb;
                return ob
            }
            d.x = Sa;
            d.y = Ta;
            var wb = -ub;
            c.x = d.x + X.gnormx * wb;
            c.y = d.y + X.gnormy * wb;
            return ub
        }
    }
    return f
};
var ja = function() {
    this.length = this.x = this.y = 0;
    this._inuse = this.modified = this.pushmod = !1;
    this.next = null;
    this.weak = !1;
    this._isimmutable = this.outer = null;
    this._immutable = !1;
    this._invalidate = this._validate =
        null
};
h["zpp_nape.geom.ZPP_Vec2"] = ja;
ja.__name__ = ["zpp_nape", "geom", "ZPP_Vec2"];
ja.get = function(a, b, c) {
    null == c && (c = !1);
    var d;
    null == ja.zpp_pool ? d = new ja : (d = ja.zpp_pool, ja.zpp_pool = d.next, d.next = null);
    d.weak = !1;
    d._immutable = c;
    d.x = a;
    d.y = b;
    return d
};
ja.prototype = {
    validate: function() {
        null != this._validate && this._validate()
    },
    invalidate: function() {
        null != this._invalidate && this._invalidate(this)
    },
    wrapper: function() {
        if (null == this.outer) {
            this.outer = new K;
            var a = this.outer.zpp_inner;
            null != a.outer && (a.outer.zpp_inner =
                null, a.outer = null);
            a._isimmutable = null;
            a._validate = null;
            a._invalidate = null;
            a.next = ja.zpp_pool;
            ja.zpp_pool = a;
            this.outer.zpp_inner = this
        }
        return this.outer
    },
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        a._inuse = !0;
        a.next = this.next;
        this.next = a;
        this.modified = !0;
        this.length++;
        return a
    },
    insert: function(a, b) {
        return this.inlined_insert(a, b)
    },
    inlined_insert: function(a, b) {
        b._inuse = !0;
        null == a ? (b.next = this.next, this.next = b) : (b.next = a.next, a.next = b);
        this.pushmod = this.modified = !0;
        this.length++;
        return b
    },
    erase: function(a) {
        return this.inlined_erase(a)
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.next, this.next = c = b.next, null == this.next && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        b._inuse = !1;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    reverse: function() {
        for (var a = this.next, b = null; null != a;) {
            var c = a.next;
            a.next = b;
            b = this.next = a;
            a = c
        }
        this.pushmod = this.modified = !0
    },
    iterator_at: function(a) {
        for (var b = this.next; 0 < a-- && null != b;) b = b.next;
        return b
    },
    toString: function() {
        return "{ x: " +
            this.x + " y: " + this.y + " }"
    },
    __class__: ja
};
var Ij = function() {
    this._validate = null;
    this.x = this.y = this.z = 0
};
h["zpp_nape.geom.ZPP_Vec3"] = Ij;
Ij.__name__ = ["zpp_nape", "geom", "ZPP_Vec3"];
Ij.prototype = {
    validate: function() {
        null != this._validate && this._validate()
    },
    __class__: Ij
};
var Sb = function() {};
h["zpp_nape.geom.ZPP_VecMath"] = Sb;
Sb.__name__ = ["zpp_nape", "geom", "ZPP_VecMath"];
Sb.vec_dsq = function(a, b, c, d) {
    var e = 0,
        f = 0,
        e = a - c,
        f = b - d;
    return e * e + f * f
};
var Ma = function() {
    this.userData = this.ishape = this.ibody = this.icompound =
        this.cbsets = this.group = this.cbTypes = this.cbSet = null;
    this.id = 0;
    this.outer_i = null;
    this.id = xb.Interactor();
    this.cbsets = new Xi;
    this.cbTypes = new Md
};
h["zpp_nape.phys.ZPP_Interactor"] = Ma;
Ma.__name__ = ["zpp_nape", "phys", "ZPP_Interactor"];
Ma.get = function(a, b) {
    var c;
    c = a.id < b.id ? a.id : b.id;
    var d;
    d = a.id < b.id ? b.id : a.id;
    for (var e = null, f = (a.cbsets.length < b.cbsets.length ? a.cbsets : b.cbsets).head; null != f;) {
        var g = f.elt;
        if (g.id == c && g.di == d) {
            e = g;
            break
        }
        f = f.next
    }
    return e
};
Ma.int_callback = function(a, b, c) {
    var d = a.int1;
    a = a.int2;
    b.options1.compatible(d.cbTypes) && b.options2.compatible(a.cbTypes) ? (c.int1 = d, c.int2 = a) : (c.int1 = a, c.int2 = d)
};
Ma.prototype = {
    __iaddedToSpace: function() {
        null != this.group && this.group.interactors.add(this);
        for (var a = this.cbTypes.head; null != a;) a.elt.interactors.add(this), a = a.next;
        this.alloc_cbSet()
    },
    __iremovedFromSpace: function() {
        null != this.group && this.group.interactors.remove(this);
        for (var a = this.cbTypes.head; null != a;) a.elt.interactors.remove(this), a = a.next;
        this.dealloc_cbSet()
    },
    wake: function() {
        if (null !=
            this.ishape) {
            var a = this.ishape.body;
            null != a && null != a.space && a.space.non_inlined_wake(a);
            !0
        } else null != this.ibody ? null != this.ibody.space ? this.ibody.space.non_inlined_wake(this.ibody) : !1 : (null != this.icompound.space && this.icompound.space.wakeCompound(this.icompound), !0)
    },
    insert_cbtype: function(a) {
        if (!this.cbTypes.has(a)) {
            var b;
            b = null != this.ishape ? null == this.ishape.body ? null : this.ishape.body.space : null != this.ibody ? this.ibody.space : this.icompound.space;
            null != b && (this.dealloc_cbSet(), a.interactors.add(this));
            for (var c = null, d = this.cbTypes.head; null != d && !(a.id < d.elt.id);) c = d, d = d.next;
            this.cbTypes.inlined_insert(c, a);
            null != b && (this.alloc_cbSet(), this.wake())
        }
    },
    alloc_cbSet: function() {
        var a;
        a = null != this.ishape ? null == this.ishape.body ? null : this.ishape.body.space : null != this.ibody ? this.ibody.space : this.icompound.space;
        null != (this.cbSet = a.cbsets.get(this.cbTypes)) && (this.cbSet.count++, this.cbSet.interactors.add(this), this.cbSet.validate(), a.freshInteractorType(this))
    },
    dealloc_cbSet: function() {
        var a;
        a = null != this.ishape ?
            null == this.ishape.body ? null : this.ishape.body.space : null != this.ibody ? this.ibody.space : this.icompound.space;
        null != this.cbSet && (this.cbSet.interactors.remove(this), a.nullInteractorType(this), 0 == --this.cbSet.count && (a.cbsets.remove(this.cbSet), a = this.cbSet, a.free(), a.next = ka.zpp_pool, ka.zpp_pool = a), this.cbSet = null)
    },
    immutable_midstep: function(a) {
        null != this.ibody ? null : null != this.ishape ? this.ishape.__immutable_midstep(a) : this.icompound.__imutable_midstep(a)
    },
    lookup_group: function() {
        for (var a = this; null !=
            a && null == a.group;) a = null != a.ishape ? a.ishape.body : null != a.icompound ? a.icompound.compound : a.ibody.compound;
        return null == a ? null : a.group
    },
    __class__: Ma
};
var fc = function() {
    this.wrap_localCOM = this.wrap_worldCOM = null;
    this.zip_worldCOM = !1;
    this.worldCOMx = this.worldCOMy = 0;
    this.zip_localCOM = !1;
    this.localCOMx = this.localCOMy = 0;
    this.zip_aabb = !1;
    this.aabb = null;
    this.norotate = !1;
    this.cinertia = this.iinertia = this.sinertia = 0;
    this.zip_inertia = !1;
    this.inertiaMode = this.inertia = 0;
    this.zip_gravMassScale = !1;
    this.gravMassMode =
        this.gravMassScale = 0;
    this.zip_gravMass = !1;
    this.gravMass = 0;
    this.nomove = !1;
    this.massMode = this.imass = this.smass = this.cmass = 0;
    this.zip_mass = !1;
    this.mass = 0;
    this.zip_axis = !1;
    this.forcex = this.forcey = this.kinvelx = this.kinvely = this.svelx = this.svely = this.angvel = this.torque = this.kinangvel = this.pre_rot = this.rot = this.axisx = this.axisy = 0;
    this.wrap_vel = null;
    this.velx = this.vely = 0;
    this.wrap_pos = null;
    this.pre_posx = this.pre_posy = this.posx = this.posy = 0;
    this.bullet = this.bulletEnabled = this.disableCCD = !1;
    this.sweepRadius =
        0;
    this.sweepFrozen = !1;
    this.sweepTime = this.sweep_angvel = 0;
    this.compound = this.shapes = this.wrap_shapes = this.space = this.arbiters = this.constraints = this.component = null;
    this.type = 0;
    this.world = !1;
    this.outer = null;
    Ma.call(this);
    this.ibody = this;
    this.bulletEnabled = this.world = !1;
    this.sweep_angvel = this.sweepTime = 0;
    this.disableCCD = this.norotate = this.nomove = !1;
    this.axisx = this.rot = this.posy = this.posx = 0;
    this.axisy = 1;
    this.torque = this.angvel = this.kinangvel = this.forcey = this.forcex = this.kinvely = this.kinvelx = this.vely =
        this.velx = this.svely = this.svelx = 0;
    this.pre_rot = this.pre_posy = this.pre_posx = Math.POSITIVE_INFINITY;
    this.worldCOMy = this.worldCOMx = this.localCOMy = this.localCOMx = 0;
    this.zip_aabb = !0;
    this.aabb = Va.get(0, 0, 0, 0);
    this.aabb._immutable = !0;
    this.aabb._validate = l(this, this.aabb_validate);
    this.massMode = g.id_MassMode_DEFAULT;
    this.gravMassMode = g.id_GravMassMode_DEFAULT;
    this.gravMassScale = 1;
    this.inertiaMode = g.id_InertiaMode_DEFAULT;
    this.arbiters = new Xf;
    this.constraints = new xe;
    this.shapes = new lf;
    this.wrap_shapes = te.get(this.shapes);
    this.wrap_shapes.zpp_inner.adder = l(this, this.shapes_adder);
    this.wrap_shapes.zpp_inner.subber = l(this, this.shapes_subber);
    this.wrap_shapes.zpp_inner._invalidate = l(this, this.shapes_invalidate);
    this.kinematicDelaySleep = !1
};
h["zpp_nape.phys.ZPP_Body"] = fc;
fc.__name__ = ["zpp_nape", "phys", "ZPP_Body"];
fc.__static = function() {
    var a = Tb;
    null == g.BodyType_STATIC && (g.internal = !0, g.BodyType_STATIC = new Ba, g.internal = !1);
    var a = new a(g.BodyType_STATIC),
        b = a.zpp_inner;
    b.world = !0;
    b.wrap_shapes.zpp_inner.immutable = !0;
    b.smass =
        b.imass = b.cmass = b.mass = b.gravMass = 0;
    b.sinertia = b.iinertia = b.cinertia = b.inertia = 0;
    b.cbTypes.clear();
    return a
};
fc.__super__ = Ma;
fc.prototype = v(Ma.prototype, {
    invalidate_type: function() {
        this.invalidate_mass();
        this.invalidate_inertia()
    },
    invalidate_shapes: function() {
        this.zip_worldCOM = this.zip_localCOM = this.zip_aabb = !0;
        this.invalidate_mass();
        this.invalidate_inertia()
    },
    atRest: function(a) {
        if (this.type != g.id_BodyType_DYNAMIC) return this.component.sleeping;
        var b = u.linearSleepThreshold,
            b = b * b;
        if (this.velx * this.velx +
            this.vely * this.vely > b) a = !1;
        else if (Sb.vec_dsq(this.posx, this.posy, this.pre_posx, this.pre_posy) > .25 * b * a * a) a = !1;
        else {
            var c = b = 0,
                b = this.aabb.maxx - this.aabb.minx,
                c = this.aabb.maxy - this.aabb.miny,
                b = b * b + c * c,
                c = u.angularSleepThreshold,
                c = c * c;
            if (4 * this.angvel * this.angvel * b > c) a = !1;
            else {
                var d = this.rot - this.pre_rot;
                a = d * d * b > c * a * a ? !1 : !0
            }
        }
        a || (this.component.waket = this.space.stamp);
        return this.component.waket + u.sleepDelay < this.space.stamp
    },
    refreshArbiters: function() {
        for (var a = this.arbiters.head; null != a;) a.elt.invalidated = !0, a = a.next
    },
    sweepIntegrate: function(a) {
        var b = a - this.sweepTime;
        0 != b && (this.sweepTime = a, this.posx += this.velx * b, this.posy += this.vely * b, 0 != this.angvel && this.delta_rot(this.sweep_angvel * b))
    },
    sweepValidate: function(a) {
        if (a.type == g.id_ShapeType_CIRCLE) a.worldCOMx = this.posx + (this.axisy * a.localCOMx - this.axisx * a.localCOMy), a.worldCOMy = this.posy + (a.localCOMx * this.axisx + a.localCOMy * this.axisy);
        else {
            a = a.polygon;
            for (var b = a.lverts.next, c = a.gverts.next; null != c;) {
                var d = c,
                    e = b,
                    b = b.next;
                d.x = this.posx + (this.axisy * e.x -
                    this.axisx * e.y);
                d.y = this.posy + (e.x * this.axisx + e.y * this.axisy);
                c = c.next
            }
            c = a.edges.head;
            b = d = a.gverts.next;
            for (d = d.next; null != d;) {
                var e = d,
                    f = c.elt,
                    c = c.next;
                f.gnormx = this.axisy * f.lnormx - this.axisx * f.lnormy;
                f.gnormy = f.lnormx * this.axisx + f.lnormy * this.axisy;
                f.gprojection = this.posx * f.gnormx + this.posy * f.gnormy + f.lprojection;
                f.tp0 = b.y * f.gnormx - b.x * f.gnormy;
                f.tp1 = e.y * f.gnormx - e.x * f.gnormy;
                b = e;
                d = d.next
            }
            a = a.gverts.next;
            c = c.elt;
            c.gnormx = this.axisy * c.lnormx - this.axisx * c.lnormy;
            c.gnormy = c.lnormx * this.axisx + c.lnormy *
                this.axisy;
            c.gprojection = this.posx * c.gnormx + this.posy * c.gnormy + c.lprojection;
            c.tp0 = b.y * c.gnormx - b.x * c.gnormy;
            c.tp1 = a.y * c.gnormx - a.x * c.gnormy
        }
    },
    invalidate_pos: function() {
        for (var a = this.shapes.head; null != a;) {
            var b = a.elt;
            b.type == g.id_ShapeType_POLYGON && (b.polygon.invalidate_gverts(), b.polygon.invalidate_gaxi());
            b.invalidate_worldCOM();
            a = a.next
        }
        this.zip_worldCOM = !0
    },
    pos_invalidate: function(a) {
        this.immutable_midstep("Body::position");
        if (this.posx != a.x || this.posy != a.y) this.posx = a.x, this.posy = a.y, this.invalidate_pos(),
            this.wake()
    },
    pos_validate: function() {
        this.wrap_pos.zpp_inner.x = this.posx;
        this.wrap_pos.zpp_inner.y = this.posy
    },
    vel_invalidate: function(a) {
        this.velx = a.x;
        this.vely = a.y;
        this.wake()
    },
    vel_validate: function() {
        this.wrap_vel.zpp_inner.x = this.velx;
        this.wrap_vel.zpp_inner.y = this.vely
    },
    setupPosition: function() {
        this.wrap_pos = K.get(this.posx, this.posy, null);
        this.wrap_pos.zpp_inner._inuse = !0;
        this.world ? this.wrap_pos.zpp_inner._immutable = !0 : (this.wrap_pos.zpp_inner._invalidate = l(this, this.pos_invalidate), this.wrap_pos.zpp_inner._validate =
            l(this, this.pos_validate))
    },
    setupVelocity: function() {
        this.wrap_vel = K.get(this.velx, this.vely, null);
        this.wrap_vel.zpp_inner._inuse = !0;
        this.world ? this.wrap_vel.zpp_inner._immutable = !0 : (this.wrap_vel.zpp_inner._invalidate = l(this, this.vel_invalidate), this.wrap_vel.zpp_inner._validate = l(this, this.vel_validate))
    },
    invalidate_rot: function() {
        this.zip_axis = !0;
        for (var a = this.shapes.head; null != a;) {
            var b = a.elt;
            b.type == g.id_ShapeType_POLYGON && (b.polygon.invalidate_gverts(), b.polygon.invalidate_gaxi());
            b.invalidate_worldCOM();
            a = a.next
        }
        this.zip_worldCOM = !0
    },
    validate_axis: function() {
        this.zip_axis && (this.zip_axis = !1, this.axisx = Math.sin(this.rot), this.axisy = Math.cos(this.rot), null)
    },
    delta_rot: function(a) {
        this.rot += a;
        if (1E-4 < a * a) this.axisx = Math.sin(this.rot), this.axisy = Math.cos(this.rot), null;
        else {
            var b = a * a,
                c = 1 - .5 * b,
                b = 1 - b * b / 8,
                d = (c * this.axisx + a * this.axisy) * b;
            this.axisy = (c * this.axisy - a * this.axisx) * b;
            this.axisx = d
        }
    },
    invalidate_mass: function() {
        this.zip_mass = !0;
        this.invalidate_gravMass()
    },
    validate_mass: function() {
        if (this.zip_mass) {
            this.zip_mass = !1;
            if (this.massMode == g.id_MassMode_DEFAULT) {
                this.cmass = 0;
                for (var a = this.shapes.head; null != a;) {
                    var b = a.elt;
                    b.refmaterial.density = b.material.density;
                    b.validate_area_inertia();
                    this.cmass += b.area * b.material.density;
                    a = a.next
                }
            }
            this.type != g.id_BodyType_DYNAMIC || this.nomove ? (this.mass = Math.POSITIVE_INFINITY, this.imass = this.smass = 0) : (this.mass = this.cmass, this.imass = this.smass = 1 / this.mass)
        }
    },
    invalidate_gravMass: function() {
        this.gravMassMode != g.id_GravMassMode_FIXED && (this.zip_gravMass = !0);
        this.gravMassMode !=
            g.id_GravMassMode_SCALED && (this.zip_gravMassScale = !0);
        this.wake()
    },
    validate_gravMass: function() {
        this.zip_gravMass && (this.zip_gravMass = !1, this.validate_mass(), this.gravMassMode == g.id_GravMassMode_DEFAULT ? (this.validate_mass(), this.gravMass = this.cmass) : this.gravMassMode == g.id_GravMassMode_SCALED && (this.validate_mass(), this.gravMass = this.cmass * this.gravMassScale))
    },
    invalidate_inertia: function() {
        this.zip_inertia = !0;
        this.wake()
    },
    validate_inertia: function() {
        if (this.zip_inertia) {
            this.zip_inertia = !1;
            if (this.inertiaMode ==
                g.id_InertiaMode_DEFAULT) {
                this.cinertia = 0;
                for (var a = this.shapes.head; null != a;) {
                    var b = a.elt;
                    b.refmaterial.density = b.material.density;
                    b.validate_area_inertia();
                    this.cinertia += b.inertia * b.area * b.material.density;
                    a = a.next
                }
            }
            this.type != g.id_BodyType_DYNAMIC || this.norotate ? (this.inertia = Math.POSITIVE_INFINITY, this.sinertia = this.iinertia = 0) : (this.inertia = this.cinertia, this.sinertia = this.iinertia = 1 / this.inertia)
        }
    },
    validate_aabb: function() {
        if (this.zip_aabb) {
            this.zip_aabb = !1;
            this.aabb.minx = Math.POSITIVE_INFINITY;
            this.aabb.miny = Math.POSITIVE_INFINITY;
            this.aabb.maxx = Math.NEGATIVE_INFINITY;
            this.aabb.maxy = Math.NEGATIVE_INFINITY;
            for (var a = this.shapes.head; null != a;) {
                var b = a.elt;
                b.zip_aabb && null != b.body && (b.zip_aabb = !1, b.type == g.id_ShapeType_CIRCLE ? b.circle.__validate_aabb() : b.polygon.__validate_aabb());
                this.aabb.combine(b.aabb);
                a = a.next
            }
        }
    },
    invalidate_localCOM: function() {
        this.zip_worldCOM = this.zip_localCOM = !0
    },
    validate_localCOM: function() {
        if (this.zip_localCOM) {
            this.zip_localCOM = !1;
            for (var a = 0, b = 0, c = 0, d = this.shapes.head; null !=
                d;) {
                var e = d.elt;
                e.zip_localCOM && (e.zip_localCOM = !1, e.type == g.id_ShapeType_POLYGON && e.polygon.__validate_localCOM(), null != e.wrap_localCOM && (e.wrap_localCOM.zpp_inner.x = e.localCOMx, e.wrap_localCOM.zpp_inner.y = e.localCOMy));
                e.validate_area_inertia();
                var f = e.area * e.material.density,
                    a = a + e.localCOMx * f,
                    b = b + e.localCOMy * f,
                    c = c + e.area * e.material.density,
                    d = d.next
            }
            0 != c && (d = 1 / c, this.localCOMx = a * d, this.localCOMy = b * d);
            null != this.wrap_localCOM && (this.wrap_localCOM.zpp_inner.x = this.localCOMx, this.wrap_localCOM.zpp_inner.y =
                this.localCOMy);
            this.zip_mass && this.massMode == g.id_MassMode_DEFAULT && (this.zip_mass = !1, this.cmass = c, this.type == g.id_BodyType_DYNAMIC ? (this.mass = this.cmass, this.imass = this.smass = 1 / this.mass) : (this.mass = Math.POSITIVE_INFINITY, this.imass = this.smass = 0))
        }
    },
    validate_worldCOM: function() {
        this.zip_worldCOM && (this.zip_worldCOM = !1, this.validate_localCOM(), this.zip_axis && (this.zip_axis = !1, this.axisx = Math.sin(this.rot), this.axisy = Math.cos(this.rot), null), this.worldCOMx = this.posx + (this.axisy * this.localCOMx - this.axisx *
            this.localCOMy), this.worldCOMy = this.posy + (this.localCOMx * this.axisx + this.localCOMy * this.axisy), null != this.wrap_worldCOM && (this.wrap_worldCOM.zpp_inner.x = this.worldCOMx, this.wrap_worldCOM.zpp_inner.y = this.worldCOMy))
    },
    getworldCOM: function() {
        this.validate_worldCOM()
    },
    aabb_validate: function() {
        this.validate_aabb()
    },
    shapes_adder: function(a) {
        return a.zpp_inner.body != this ? (null != a.zpp_inner.body && a.zpp_inner.body.wrap_shapes.remove(a), a.zpp_inner.body = this, a.zpp_inner.addedToBody(), null != this.space && this.space.added_shape(a.zpp_inner,
            null), a.zpp_inner.type == g.id_ShapeType_POLYGON && (a.zpp_inner.polygon.invalidate_gaxi(), a.zpp_inner.polygon.invalidate_gverts()), !0) : !1
    },
    shapes_subber: function(a) {
        null != this.space && this.space.removed_shape(a.zpp_inner);
        a.zpp_inner.body = null;
        a.zpp_inner.removedFromBody()
    },
    shapes_invalidate: function(a) {
        this.invalidate_shapes()
    },
    addedToSpace: function() {
        null == vc.zpp_pool ? this.component = new vc : (this.component = vc.zpp_pool, vc.zpp_pool = this.component.next, this.component.next = null);
        null;
        this.component.isBody = !0;
        this.component.body = this;
        this.__iaddedToSpace()
    },
    removedFromSpace: function() {
        for (; null != this.arbiters.head;) {
            var a = this.arbiters.pop_unsafe();
            a.cleared = !0;
            a.b2 == this && a.b1.arbiters.inlined_try_remove(a);
            a.b1 == this && a.b2.arbiters.inlined_try_remove(a);
            null != a.pair && (a.pair.arb = null, a.pair = null);
            a.active = !1;
            this.space.f_arbiters.modified = !0
        }
        a = this.component;
        a.body = null;
        a.constraint = null;
        null;
        a.next = vc.zpp_pool;
        vc.zpp_pool = a;
        this.component = null;
        this.__iremovedFromSpace()
    },
    __class__: fc
});
var Yi = function() {
    this.compound =
        this.space = null;
    this.depth = 0;
    this.outer = this.bodies = this.constraints = this.compounds = this.wrap_constraints = null
};
h["zpp_nape.phys.ZPP_Compound"] = Yi;
Yi.__name__ = ["zpp_nape", "phys", "ZPP_Compound"];
Yi.__super__ = Ma;
Yi.prototype = v(Ma.prototype, {
    __imutable_midstep: function(a) {},
    addedToSpace: function() {
        this.__iaddedToSpace()
    },
    removedFromSpace: function() {
        this.__iremovedFromSpace()
    },
    __class__: Yi
});
var Jj = function() {
    this.wrap_gravity = null;
    this.viscosity = this.density = this.gravityx = this.gravityy = 0;
    this.shapes =
        null
};
h["zpp_nape.phys.ZPP_FluidProperties"] = Jj;
Jj.__name__ = ["zpp_nape", "phys", "ZPP_FluidProperties"];
Jj.prototype = {
    __class__: Jj
};
var ba = function() {
    this.dynamicFriction = this.staticFriction = this.density = this.elasticity = this.rollingFriction = 0;
    this.next = this.outer = this.shapes = null;
    this.shapes = new lf;
    this.elasticity = 0;
    this.dynamicFriction = 1;
    this.staticFriction = 2;
    this.density = .001;
    this.rollingFriction = .01
};
h["zpp_nape.phys.ZPP_Material"] = ba;
ba.__name__ = ["zpp_nape", "phys", "ZPP_Material"];
ba.prototype = {
    wrapper: function() {
        if (null ==
            this.outer) {
            this.outer = new tg;
            var a = this.outer.zpp_inner;
            a.outer = null;
            a.next = ba.zpp_pool;
            ba.zpp_pool = a;
            this.outer.zpp_inner = this
        }
        return this.outer
    },
    set: function(a) {
        this.dynamicFriction = a.dynamicFriction;
        this.staticFriction = a.staticFriction;
        this.density = a.density;
        this.elasticity = a.elasticity;
        this.rollingFriction = a.rollingFriction
    },
    invalidate: function(a) {
        for (var b = this.shapes.head; null != b;) b.elt.invalidate_material(a), b = b.next
    },
    __class__: ba
};
var le = function(a) {
    this.zip_aabb = !1;
    this.sweep = this.node =
        this.pairs = this.aabb = null;
    this.fluidEnabled = this.sensorEnabled = !1;
    this.circle = this.polygon = this.refmaterial = this.material = this.filter = this.fluidProperties = null;
    this.sweepCoef = 0;
    this.zip_sweepRadius = !1;
    this.sweepRadius = 0;
    this.wrap_localCOM = null;
    this.zip_worldCOM = !1;
    this.worldCOMx = this.worldCOMy = 0;
    this.zip_localCOM = !1;
    this.localCOMx = this.localCOMy = 0;
    this.zip_angDrag = !1;
    this.inertia = this.angDrag = 0;
    this.zip_area_inertia = !1;
    this.type = this.area = 0;
    this.outer = this.body = null;
    Ma.call(this);
    this.pairs = new Zi;
    this.ishape = this;
    this.type = a;
    this.aabb = Va.get(0, 0, 0, 0);
    this.aabb._immutable = !0;
    this.aabb._validate = l(this, this.aabb_validate);
    this.zip_area_inertia = this.zip_angDrag = this.zip_localCOM = this.zip_sweepRadius = !0;
    this.worldCOMy = this.worldCOMx = this.localCOMy = this.localCOMx = 0;
    this.sensorEnabled = this.fluidEnabled = !1;
    this.body = this.fluidProperties = null;
    this.refmaterial = new ba;
    this.sweepRadius = this.sweepCoef = 0
};
h["zpp_nape.shape.ZPP_Shape"] = le;
le.__name__ = ["zpp_nape", "shape", "ZPP_Shape"];
le.__super__ = Ma;
le.prototype =
    v(Ma.prototype, {
        validate_sweepRadius: function() {
            this.zip_sweepRadius && (this.zip_sweepRadius = !1, this.type == g.id_ShapeType_CIRCLE ? this.circle.__validate_sweepRadius() : this.polygon.__validate_sweepRadius())
        },
        validate_aabb: function() {
            this.zip_aabb && null != this.body && (this.zip_aabb = !1, this.type == g.id_ShapeType_CIRCLE ? this.circle.__validate_aabb() : this.polygon.__validate_aabb())
        },
        validate_area_inertia: function() {
            this.zip_area_inertia && (this.zip_area_inertia = !1, this.type == g.id_ShapeType_CIRCLE ? this.circle.__validate_area_inertia() :
                this.polygon.__validate_area_inertia())
        },
        validate_angDrag: function() {
            if (this.zip_angDrag || this.refmaterial.dynamicFriction != this.material.dynamicFriction) this.zip_angDrag = !1, this.refmaterial.dynamicFriction = this.material.dynamicFriction, this.type == g.id_ShapeType_CIRCLE ? this.circle.__validate_angDrag() : this.polygon.__validate_angDrag()
        },
        validate_worldCOM: function() {
            this.zip_worldCOM && null != this.body && (this.zip_worldCOM = !1, this.zip_localCOM && (this.zip_localCOM = !1, this.type == g.id_ShapeType_POLYGON &&
                this.polygon.__validate_localCOM(), null != this.wrap_localCOM && (this.wrap_localCOM.zpp_inner.x = this.localCOMx, this.wrap_localCOM.zpp_inner.y = this.localCOMy)), this.body.validate_axis(), this.worldCOMx = this.body.posx + (this.body.axisy * this.localCOMx - this.body.axisx * this.localCOMy), this.worldCOMy = this.body.posy + (this.localCOMx * this.body.axisx + this.localCOMy * this.body.axisy))
        },
        invalidate_area_inertia: function() {
            this.zip_area_inertia = !0;
            null != this.body && (this.body.invalidate_localCOM(), this.body.invalidate_mass(),
                this.body.invalidate_inertia())
        },
        invalidate_angDrag: function() {
            this.zip_angDrag = !0
        },
        invalidate_localCOM: function() {
            this.zip_localCOM = !0;
            this.invalidate_area_inertia();
            this.type == g.id_ShapeType_CIRCLE && (this.zip_sweepRadius = !0);
            this.invalidate_angDrag();
            this.invalidate_worldCOM();
            null != this.body && this.body.invalidate_localCOM()
        },
        invalidate_worldCOM: function() {
            this.zip_aabb = this.zip_worldCOM = !0;
            null != this.body && (this.body.zip_aabb = !0)
        },
        invalidate_material: function(a) {
            0 != (a & ba.WAKE) && this.wake();
            0 !=
                (a & ba.ARBITERS) && null != this.body && this.body.refreshArbiters();
            0 != (a & ba.PROPS) && null != this.body && (this.body.invalidate_localCOM(), this.body.invalidate_mass(), this.body.invalidate_inertia());
            0 != (a & ba.ANGDRAG) && this.invalidate_angDrag();
            this.refmaterial.set(this.material)
        },
        invalidate_filter: function() {
            this.wake()
        },
        aabb_validate: function() {
            this.zip_aabb && null != this.body && (this.zip_aabb = !1, this.type == g.id_ShapeType_CIRCLE ? this.circle.__validate_aabb() : this.polygon.__validate_aabb())
        },
        setMaterial: function(a) {
            this.material !=
                a && (null != this.body && null != this.body.space && null != this.material && this.material.shapes.remove(this), this.material = a, null != this.body && null != this.body.space && a.shapes.add(this), this.wake(), null != this.body && this.body.refreshArbiters())
        },
        setFilter: function(a) {
            this.filter != a && (null != this.body && null != this.body.space && null != this.filter && this.filter.shapes.remove(this), this.filter = a, null != this.body && null != this.body.space && a.shapes.add(this), this.wake())
        },
        __immutable_midstep: function(a) {},
        addedToBody: function() {
            this.invalidate_worldCOM();
            this.zip_aabb = !0;
            null != this.body && (this.body.zip_aabb = !0)
        },
        removedFromBody: function() {},
        addedToSpace: function() {
            this.__iaddedToSpace();
            this.material.shapes.add(this);
            this.filter.shapes.add(this);
            null != this.fluidProperties && this.fluidProperties.shapes.add(this)
        },
        removedFromSpace: function() {
            this.__iremovedFromSpace();
            this.material.shapes.remove(this);
            this.filter.shapes.remove(this);
            null != this.fluidProperties && this.fluidProperties.shapes.remove(this)
        },
        __class__: le
    });
var $g = function() {
    this.radius = 0;
    this.outer_zn =
        null;
    le.call(this, g.id_ShapeType_CIRCLE);
    this.circle = this;
    this.zip_localCOM = !1
};
h["zpp_nape.shape.ZPP_Circle"] = $g;
$g.__name__ = ["zpp_nape", "shape", "ZPP_Circle"];
$g.__super__ = le;
$g.prototype = v(le.prototype, {
    invalidate_radius: function() {
        this.invalidate_area_inertia();
        this.invalidate_angDrag();
        this.zip_aabb = !0;
        null != this.body && (this.body.zip_aabb = !0);
        null != this.body && this.body.wake()
    },
    __validate_aabb: function() {
        this.zip_worldCOM && null != this.body && (this.zip_worldCOM = !1, this.zip_localCOM && (this.zip_localCOM = !1, this.type == g.id_ShapeType_POLYGON && this.polygon.__validate_localCOM(), null != this.wrap_localCOM && (this.wrap_localCOM.zpp_inner.x = this.localCOMx, this.wrap_localCOM.zpp_inner.y = this.localCOMy)), this.body.validate_axis(), this.worldCOMx = this.body.posx + (this.body.axisy * this.localCOMx - this.body.axisx * this.localCOMy), this.worldCOMy = this.body.posy + (this.localCOMx * this.body.axisx + this.localCOMy * this.body.axisy));
        var a = this.radius,
            b = this.radius;
        this.aabb.minx = this.worldCOMx - a;
        this.aabb.miny = this.worldCOMy -
            b;
        this.aabb.maxx = this.worldCOMx + a;
        this.aabb.maxy = this.worldCOMy + b
    },
    _force_validate_aabb: function() {
        this.worldCOMx = this.body.posx + (this.body.axisy * this.localCOMx - this.body.axisx * this.localCOMy);
        this.worldCOMy = this.body.posy + (this.localCOMx * this.body.axisx + this.localCOMy * this.body.axisy);
        this.aabb.minx = this.worldCOMx - this.radius;
        this.aabb.miny = this.worldCOMy - this.radius;
        this.aabb.maxx = this.worldCOMx + this.radius;
        this.aabb.maxy = this.worldCOMy + this.radius
    },
    __validate_sweepRadius: function() {
        this.sweepCoef =
            Math.sqrt(this.localCOMx * this.localCOMx + this.localCOMy * this.localCOMy);
        this.sweepRadius = this.sweepCoef + this.radius
    },
    __validate_area_inertia: function() {
        var a = this.radius * this.radius;
        this.area = a * Math.PI;
        this.inertia = .5 * a + (this.localCOMx * this.localCOMx + this.localCOMy * this.localCOMy)
    },
    __validate_angDrag: function() {
        var a = this.localCOMx * this.localCOMx + this.localCOMy * this.localCOMy,
            b = this.radius * this.radius;
        this.angDrag = (a + 2 * b) * this.material.dynamicFriction * u.fluidAngularDragFriction + .5 * u.fluidAngularDrag *
            (1 + u.fluidVacuumDrag) * a;
        this.angDrag /= 2 * (a + .5 * b)
    },
    __transform: function(a) {
        var b = a.zpp_inner.a * a.zpp_inner.d - a.zpp_inner.b * a.zpp_inner.c;
        0 > b && (b = -b);
        this.radius *= Math.sqrt(b);
        b = a.zpp_inner.a * this.localCOMx + a.zpp_inner.b * this.localCOMy + a.zpp_inner.tx;
        this.localCOMy = a.zpp_inner.c * this.localCOMx + a.zpp_inner.d * this.localCOMy + a.zpp_inner.ty;
        this.localCOMx = b;
        this.invalidate_radius();
        this.invalidate_localCOM()
    },
    __class__: $g
});
var hb = function() {
    this.tp0 = this.tp1 = 0;
    this.lp0 = this.gp0 = this.lp1 = this.gp1 = null;
    this.length = this.lprojection = this.gprojection = 0;
    this.wrap_gnorm = null;
    this.gnormx = this.gnormy = 0;
    this.wrap_lnorm = null;
    this.lnormx = this.lnormy = 0;
    this.next = this.polygon = this.outer = null;
    this.gprojection = this.lprojection = this.length = this.gnormy = this.gnormx = this.lnormy = this.lnormx = 0
};
h["zpp_nape.shape.ZPP_Edge"] = hb;
hb.__name__ = ["zpp_nape", "shape", "ZPP_Edge"];
hb.prototype = {
    wrapper: function() {
        null == this.outer && (hb.internal = !0, this.outer = new ri, hb.internal = !1, this.outer.zpp_inner = this);
        return this.outer
    },
    __class__: hb
};
var ah = function() {
    this.reverse_flag = this.zip_lverts = this.zip_laxi = this.zip_gverts = this.zip_gaxi = this.zip_valid = this.zip_sanitation = !1;
    this.edgeCnt = 0;
    this.outer_zn = this.lverts = this.wrap_lverts = this.gverts = this.wrap_gverts = this.edges = this.wrap_edges = null;
    le.call(this, g.id_ShapeType_POLYGON);
    this.polygon = this;
    this.lverts = new ja;
    this.gverts = new ja;
    this.edges = new $i;
    this.edgeCnt = 0
};
h["zpp_nape.shape.ZPP_Polygon"] = ah;
ah.__name__ = ["zpp_nape", "shape", "ZPP_Polygon"];
ah.__super__ = le;
ah.prototype = v(le.prototype, {
    lverts_pa_invalidate: function(a) {
        this.invalidate_lverts()
    },
    gverts_pa_validate: function() {
        this.validate_gverts()
    },
    lverts_post_adder: function(a) {
        a.zpp_inner._invalidate = l(this, this.lverts_pa_invalidate);
        for (var b = null, c = null, d = this.lverts.next; null != d && d != a.zpp_inner;) b = null == b ? this.gverts.next : b.next, c = null == c ? this.edges.head : c.next, d = d.next;
        a = ja.get(0, 0, !0);
        this.gverts.insert(b, a);
        null != this.lverts.next.next && (null == this.lverts.next.next.next ? (null == hb.zpp_pool ? c = new hb : (c = hb.zpp_pool, hb.zpp_pool =
            c.next, c.next = null), null, c.polygon = this, this.edges.add(c), null == hb.zpp_pool ? c = new hb : (c = hb.zpp_pool, hb.zpp_pool = c.next, c.next = null), null, c.polygon = this, this.edges.add(c), this.edgeCnt += 2) : (null == hb.zpp_pool ? b = new hb : (b = hb.zpp_pool, hb.zpp_pool = b.next, b.next = null), null, b.polygon = this, this.edges.insert(c, b), this.edgeCnt++));
        a._validate = l(this, this.gverts_pa_validate)
    },
    lverts_subber: function(a) {
        this.cleanup_lvert(a.zpp_inner)
    },
    lverts_invalidate: function(a) {
        this.invalidate_lverts()
    },
    lverts_validate: function() {
        this.validate_lverts()
    },
    getlverts: function() {
        this.wrap_lverts = mf.get(this.lverts);
        this.wrap_lverts.zpp_inner.post_adder = l(this, this.lverts_post_adder);
        this.wrap_lverts.zpp_inner.subber = l(this, this.lverts_subber);
        this.wrap_lverts.zpp_inner._invalidate = l(this, this.lverts_invalidate);
        this.wrap_lverts.zpp_inner._validate = l(this, this.lverts_validate);
        this.wrap_lverts.zpp_inner.reverse_flag = this.reverse_flag
    },
    invalidate_lverts: function() {
        this.invalidate_laxi();
        this.invalidate_area_inertia();
        this.invalidate_angDrag();
        this.invalidate_localCOM();
        this.invalidate_gverts();
        this.zip_sanitation = this.zip_valid = this.zip_lverts = !0;
        null != this.body && this.body.wake()
    },
    invalidate_laxi: function() {
        this.invalidate_gaxi();
        this.zip_laxi = this.zip_sweepRadius = !0
    },
    invalidate_gverts: function() {
        this.zip_aabb = !0;
        null != this.body && (this.body.zip_aabb = !0);
        this.zip_gverts = !0
    },
    invalidate_gaxi: function() {
        this.zip_gaxi = !0
    },
    validate_lverts: function() {
        this.zip_lverts && (this.zip_lverts = !1, 2 < this.lverts.length && (this.validate_area_inertia(), 0 > this.area && (this.reverse_vertices(),
            this.area = -this.area)))
    },
    cleanup_lvert: function(a) {
        for (var b = null, c = null, d = this.lverts.next; null != d && d != a;) b = null == b ? this.gverts.next : b.next, c = null == c ? this.edges.head : c.next, d = d.next;
        a = null == b ? this.gverts.next : b.next;
        this.gverts.erase(b);
        null != a.outer && (a.outer.zpp_inner = null, a.outer = null);
        a._isimmutable = null;
        a._validate = null;
        a._invalidate = null;
        a.next = ja.zpp_pool;
        ja.zpp_pool = a;
        2 == this.edgeCnt ? (c = this.edges.pop_unsafe(), c.polygon = null, c.next = hb.zpp_pool, hb.zpp_pool = c, c = this.edges.pop_unsafe(), c.polygon =
            null, c.next = hb.zpp_pool, hb.zpp_pool = c, this.edgeCnt = 0) : 0 != this.edgeCnt && (b = null == c ? this.edges.head.elt : c.next.elt, this.edges.erase(c), b.polygon = null, b.next = hb.zpp_pool, hb.zpp_pool = b, this.edgeCnt--)
    },
    splice_collinear: function() {
        this.zip_sanitation && (this.zip_sanitation = !1, this.splice_collinear_real())
    },
    splice_collinear_real: function() {
        if (null != this.lverts.next && null != this.lverts.next.next && null != this.lverts.next.next.next) {
            for (var a = null, b = this.lverts.next; null != b;) {
                var c = b,
                    d = null == b.next ? this.lverts.next :
                    b.next;
                Sb.vec_dsq(c.x, c.y, d.x, d.y) < u.epsilon * u.epsilon ? (this.cleanup_lvert(b), b = this.lverts.erase(a)) : (a = b, b = b.next)
            }
            if (null != this.lverts.next) {
                do
                    for (a = !1, b = this.lverts.next; null != b;) {
                        var c = null == b.next ? this.lverts.next : b.next,
                            e = b,
                            d = c,
                            f = null == c.next ? this.lverts.next : c.next,
                            g = 0,
                            h = 0,
                            g = d.x - e.x,
                            h = d.y - e.y,
                            n = e = 0,
                            e = f.x - d.x,
                            n = f.y - d.y,
                            d = n * g - e * h;
                        d * d >= u.epsilon * u.epsilon || (this.cleanup_lvert(c), this.lverts.erase(null == b.next ? null : b), a = !0);
                        b = b.next
                    }
                while (a)
            }
        }
    },
    reverse_vertices: function() {
        this.lverts.reverse();
        this.gverts.reverse();
        this.edges.reverse();
        var a = this.edges.iterator_at(this.edgeCnt - 1),
            b = this.edges.pop_unsafe();
        this.edges.insert(a, b);
        this.reverse_flag = !this.reverse_flag;
        null != this.wrap_lverts && (this.wrap_lverts.zpp_inner.reverse_flag = this.reverse_flag);
        null != this.wrap_gverts && (this.wrap_gverts.zpp_inner.reverse_flag = this.reverse_flag);
        null != this.wrap_edges && (this.wrap_edges.zpp_inner.reverse_flag = this.reverse_flag)
    },
    validate_laxi: function() {
        if (this.zip_laxi) {
            this.zip_laxi = !1;
            this.validate_lverts();
            for (var a = this.edges.head, b = this.lverts.next, c = b, b = b.next; null != b;) {
                var d = b,
                    e = a.elt,
                    a = a.next;
                e.lp0 = c;
                e.lp1 = d;
                var f = 0,
                    g = 0,
                    f = c.x - d.x,
                    g = c.y - d.y,
                    h = Math.sqrt(f * f + g * g);
                e.length = h;
                h = 1 / h;
                f *= h;
                g *= h;
                h = f;
                f = -g;
                g = h;
                e.lprojection = f * c.x + g * c.y;
                e.lnormx = f;
                e.lnormy = g;
                null != e.wrap_lnorm && (e.wrap_lnorm.zpp_inner.x = f, e.wrap_lnorm.zpp_inner.y = g);
                c = d;
                b = b.next
            }
            e = this.lverts.next;
            a = a.elt;
            a.lp0 = c;
            a.lp1 = e;
            d = b = 0;
            b = c.x - e.x;
            d = c.y - e.y;
            e = Math.sqrt(b * b + d * d);
            a.length = e;
            e = 1 / e;
            f = b * e;
            b = -(d * e);
            d = f;
            a.lprojection = b * c.x + d * c.y;
            a.lnormx = b;
            a.lnormy = d;
            null != a.wrap_lnorm && (a.wrap_lnorm.zpp_inner.x = b, a.wrap_lnorm.zpp_inner.y = d)
        }
    },
    validate_gverts: function() {
        if (this.zip_gverts && null != this.body) {
            this.zip_gverts = !1;
            this.validate_lverts();
            this.body.validate_axis();
            for (var a = this.lverts.next, b = this.gverts.next; null != b;) {
                var c = b,
                    d = a,
                    a = a.next;
                c.x = this.body.posx + (this.body.axisy * d.x - this.body.axisx * d.y);
                c.y = this.body.posy + (d.x * this.body.axisx + d.y * this.body.axisy);
                b = b.next
            }
        }
    },
    validate_gaxi: function() {
        if (this.zip_gaxi && null != this.body) {
            this.zip_gaxi = !1;
            this.validate_laxi();
            this.body.validate_axis();
            this.validate_gverts();
            for (var a = this.edges.head, b = this.gverts.next, c = b, b = b.next; null != b;) {
                var d = b,
                    e = a.elt,
                    a = a.next;
                e.gp0 = c;
                e.gp1 = d;
                e.gnormx = this.body.axisy * e.lnormx - this.body.axisx * e.lnormy;
                e.gnormy = e.lnormx * this.body.axisx + e.lnormy * this.body.axisy;
                e.gprojection = this.body.posx * e.gnormx + this.body.posy * e.gnormy + e.lprojection;
                null != e.wrap_gnorm && (e.wrap_gnorm.zpp_inner.x = e.gnormx, e.wrap_gnorm.zpp_inner.y = e.gnormy);
                e.tp0 = e.gp0.y * e.gnormx - e.gp0.x * e.gnormy;
                e.tp1 = e.gp1.y * e.gnormx - e.gp1.x * e.gnormy;
                c = d;
                b = b.next
            }
            b = this.gverts.next;
            a = a.elt;
            a.gp0 = c;
            a.gp1 = b;
            a.gnormx = this.body.axisy * a.lnormx - this.body.axisx * a.lnormy;
            a.gnormy = a.lnormx * this.body.axisx + a.lnormy * this.body.axisy;
            a.gprojection = this.body.posx * a.gnormx + this.body.posy * a.gnormy + a.lprojection;
            null != a.wrap_gnorm && (a.wrap_gnorm.zpp_inner.x = a.gnormx, a.wrap_gnorm.zpp_inner.y = a.gnormy);
            a.tp0 = a.gp0.y * a.gnormx - a.gp0.x * a.gnormy;
            a.tp1 = a.gp1.y * a.gnormx - a.gp1.x * a.gnormy
        }
    },
    __validate_aabb: function() {
        this.validate_gverts();
        var a = this.gverts.next;
        this.aabb.minx = a.x;
        this.aabb.miny = a.y;
        this.aabb.maxx = a.x;
        this.aabb.maxy = a.y;
        for (a = this.gverts.next.next; null != a;) {
            var b = a;
            b.x < this.aabb.minx && (this.aabb.minx = b.x);
            b.x > this.aabb.maxx && (this.aabb.maxx = b.x);
            b.y < this.aabb.miny && (this.aabb.miny = b.y);
            b.y > this.aabb.maxy && (this.aabb.maxy = b.y);
            a = a.next
        }
    },
    _force_validate_aabb: function() {
        var a = this.lverts.next,
            b = this.gverts.next,
            c = a,
            a = a.next;
        b.x = this.body.posx + (this.body.axisy * c.x - this.body.axisx * c.y);
        b.y = this.body.posy + (c.x * this.body.axisx +
            c.y * this.body.axisy);
        this.aabb.minx = b.x;
        this.aabb.miny = b.y;
        this.aabb.maxx = b.x;
        this.aabb.maxy = b.y;
        for (b = this.gverts.next.next; null != b;) {
            var c = b,
                d = a,
                a = a.next;
            c.x = this.body.posx + (this.body.axisy * d.x - this.body.axisx * d.y);
            c.y = this.body.posy + (d.x * this.body.axisx + d.y * this.body.axisy);
            c.x < this.aabb.minx && (this.aabb.minx = c.x);
            c.x > this.aabb.maxx && (this.aabb.maxx = c.x);
            c.y < this.aabb.miny && (this.aabb.miny = c.y);
            c.y > this.aabb.maxy && (this.aabb.maxy = c.y);
            b = b.next
        }
    },
    __validate_sweepRadius: function() {
        var a = 0,
            b = 0;
        this.validate_laxi();
        for (var c = this.lverts.next; null != c;) {
            var d = c,
                d = d.x * d.x + d.y * d.y;
            d > a && (a = d);
            c = c.next
        }
        for (c = this.edges.head; null != c;) {
            d = c.elt;
            if (d.lprojection < b && (b = d.lprojection, 0 > b)) break;
            c = c.next
        }
        0 > b && (b = 0);
        this.sweepRadius = Math.sqrt(a);
        this.sweepCoef = this.sweepRadius - b
    },
    __validate_area_inertia: function() {
        if (null == this.lverts.next || null == this.lverts.next.next || null == this.lverts.next.next.next) this.inertia = this.area = 0;
        else {
            for (var a = this.area = 0, b = 0, c = this.lverts.next, d = c, e = c = c.next, c = c.next; null != c;) {
                var f = c,
                    g = e.y *
                    d.x - e.x * d.y,
                    a = a + g * (e.x * e.x + e.y * e.y + (e.x * d.x + e.y * d.y) + (d.x * d.x + d.y * d.y)),
                    b = b + g;
                this.area += e.x * (f.y - d.y);
                d = e;
                e = f;
                c = c.next
            }
            g = c = this.lverts.next;
            f = e.y * d.x - e.x * d.y;
            a += f * (e.x * e.x + e.y * e.y + (e.x * d.x + e.y * d.y) + (d.x * d.x + d.y * d.y));
            this.area += e.x * (g.y - d.y);
            d = e;
            e = g;
            c = c.next;
            g = e.y * d.x - e.x * d.y;
            a += g * (e.x * e.x + e.y * e.y + (e.x * d.x + e.y * d.y) + (d.x * d.x + d.y * d.y));
            b = b + f + g;
            this.area += e.x * (c.y - d.y);
            this.inertia = a / (6 * b);
            this.area *= .5;
            0 > this.area && (this.area = -this.area, this.reverse_vertices())
        }
    },
    __validate_angDrag: function() {
        this.validate_area_inertia();
        this.validate_laxi();
        for (var a = 0, b = this.edges.head, c = 0, d = this.lverts.next, e = d, d = d.next; null != d;) {
            var f = d,
                g = b.elt,
                b = b.next,
                c = c + g.length,
                h = 0,
                n = 0,
                h = f.x - e.x,
                n = f.y - e.y,
                a = a + g.length * u.fluidAngularDragFriction * this.material.dynamicFriction * g.lprojection * g.lprojection,
                l = -(e.y * g.lnormx - e.x * g.lnormy) / (n * g.lnormx - h * g.lnormy);
            if (0 < l) {
                var m;
                m = 1 < l ? 1 : l;
                var p = 0,
                    r = 0,
                    p = e.x,
                    r = e.y,
                    t = m,
                    p = p + h * t,
                    r = r + n * t,
                    t = g.lnormy * e.x - g.lnormx * e.y,
                    p = g.lnormy * p - g.lnormx * r,
                    a = a + (p * p * p - t * t * t) / (3 * (p - t)) * m * g.length * u.fluidAngularDrag
            }
            1 > l && (l =
                0 > l ? 0 : l, p = m = 0, m = e.x, p = e.y, e = l, m += h * e, p += n * e, e = g.lnormy * m - g.lnormx * p, h = g.lnormy * f.x - g.lnormx * f.y, a += (h * h * h - e * e * e) / (3 * (h - e)) * u.fluidVacuumDrag * (1 - l) * g.length * u.fluidAngularDrag);
            e = f;
            d = d.next
        }
        d = this.lverts.next;
        b = b.elt;
        c += b.length;
        g = f = 0;
        f = d.x - e.x;
        g = d.y - e.y;
        a += b.length * u.fluidAngularDragFriction * this.material.dynamicFriction * b.lprojection * b.lprojection;
        h = -(e.y * b.lnormx - e.x * b.lnormy) / (g * b.lnormx - f * b.lnormy);
        0 < h && (n = 1 < h ? 1 : h, p = m = 0, m = e.x, p = e.y, l = b.lnormy * e.x - b.lnormx * e.y, m = b.lnormy * (m + f * n) - b.lnormx * (p + g *
            n), a += (m * m * m - l * l * l) / (3 * (m - l)) * n * b.length * u.fluidAngularDrag);
        1 > h && (h = 0 > h ? 0 : h, l = n = 0, n = e.x, l = e.y, e = b.lnormy * (n + f * h) - b.lnormx * (l + g * h), d = b.lnormy * d.x - b.lnormx * d.y, a += (d * d * d - e * e * e) / (3 * (d - e)) * u.fluidVacuumDrag * (1 - h) * b.length * u.fluidAngularDrag);
        this.angDrag = a / (this.inertia * c)
    },
    __validate_localCOM: function() {
        if (null == this.lverts.next.next) this.localCOMx = this.lverts.next.x, this.localCOMy = this.lverts.next.y;
        else if (null == this.lverts.next.next.next) this.localCOMx = this.lverts.next.x, this.localCOMy = this.lverts.next.y,
            this.localCOMx += 1 * this.lverts.next.next.x, this.localCOMy += 1 * this.lverts.next.next.y, this.localCOMx *= .5, this.localCOMy *= .5;
        else {
            for (var a = this.localCOMy = this.localCOMx = 0, b = this.lverts.next, c = b, d = b = b.next, b = b.next; null != b;) {
                var e = b,
                    a = a + d.x * (e.y - c.y),
                    c = e.y * d.x - e.x * d.y;
                this.localCOMx += (d.x + e.x) * c;
                this.localCOMy += (d.y + e.y) * c;
                c = d;
                d = e;
                b = b.next
            }
            e = b = this.lverts.next;
            a += d.x * (e.y - c.y);
            c = e.y * d.x - e.x * d.y;
            this.localCOMx += (d.x + e.x) * c;
            this.localCOMy += (d.y + e.y) * c;
            c = d;
            d = e;
            b = b.next;
            a += d.x * (b.y - c.y);
            c = b.y * d.x - b.x * d.y;
            this.localCOMx += (d.x + b.x) * c;
            this.localCOMy += (d.y + b.y) * c;
            a = 1 / (3 * a);
            this.localCOMx *= a;
            this.localCOMy *= a
        }
    },
    __transform: function(a) {
        for (var b = this.lverts.next; null != b;) {
            var c = b,
                d = a.zpp_inner.a * c.x + a.zpp_inner.b * c.y + a.zpp_inner.tx;
            c.y = a.zpp_inner.c * c.x + a.zpp_inner.d * c.y + a.zpp_inner.ty;
            c.x = d;
            b = b.next
        }
        this.invalidate_lverts()
    },
    __class__: ah
});
var ae = function() {
    this.sweep = this.dynab = this.matrix = this.circShape = null;
    this.is_sweep = !1;
    this.space = null
};
h["zpp_nape.space.ZPP_Broadphase"] = ae;
ae.__name__ = ["zpp_nape",
    "space", "ZPP_Broadphase"
];
ae.prototype = {
    insert: function(a) {
        this.is_sweep ? this.sweep.__insert(a) : this.dynab.__insert(a)
    },
    remove: function(a) {
        this.is_sweep ? this.sweep.__remove(a) : this.dynab.__remove(a)
    },
    sync: function(a) {
        this.is_sweep ? !this.sweep.space.continuous && a.zip_aabb && null != a.body && (a.zip_aabb = !1, a.type == g.id_ShapeType_CIRCLE ? a.circle.__validate_aabb() : a.polygon.__validate_aabb()) : this.dynab.__sync(a)
    },
    broadphase: function(a, b) {},
    clear: function() {},
    updateCircShape: function(a, b, c) {
        if (null == this.circShape) {
            var d =
                Tb;
            null == g.BodyType_STATIC && (g.internal = !0, g.BodyType_STATIC = new Ba, g.internal = !1);
            (new d(g.BodyType_STATIC)).zpp_inner.wrap_shapes.add(this.circShape = new xf(c, K.get(a, b, null)))
        } else d = this.circShape.zpp_inner.circle, c /= d.radius, null == this.matrix && (this.matrix = new Be), this.matrix.set_a(this.matrix.set_d(c)), this.matrix.set_b(this.matrix.set_c(0)), this.matrix.set_tx(a - c * d.localCOMx), this.matrix.set_ty(b - c * d.localCOMy), this.circShape.transform(this.matrix);
        this.circShape.zpp_inner.validate_aabb()
    },
    bodiesInCircle: function(a, b, c, d, e, f) {
        return null
    },
    rayCast: function(a, b, c) {
        return null
    },
    __class__: ae
};
var Gb = function() {
    this.synced = this.first_sync = !1;
    this.snext = null;
    this.moved = !1;
    this.next = this.mnext = null;
    this.height = this.rayt = 0;
    this.parent = this.child1 = this.child2 = null;
    this.dyn = !1;
    this.aabb = this.shape = null;
    this.height = -1
};
h["zpp_nape.space.ZPP_AABBNode"] = Gb;
Gb.__name__ = ["zpp_nape", "space", "ZPP_AABBNode"];
Gb.prototype = {
    free: function() {
        this.height = -1;
        var a = this.aabb;
        null != a.outer && (a.outer.zpp_inner =
            null, a.outer = null);
        a.wrap_min = a.wrap_max = null;
        a._invalidate = null;
        a._validate = null;
        a.next = Va.zpp_pool;
        Va.zpp_pool = a;
        this.mnext = this.snext = this.next = this.child1 = this.child2 = this.parent = null
    },
    __class__: Gb
};
var Wa = function() {
    this.arb = this.next = null;
    this.id = this.di = 0;
    this.first = this.sleeping = !1;
    this.n1 = this.n2 = null
};
h["zpp_nape.space.ZPP_AABBPair"] = Wa;
Wa.__name__ = ["zpp_nape", "space", "ZPP_AABBPair"];
Wa.prototype = {
    __class__: Wa
};
var wc = function() {
    this.root = null
};
h["zpp_nape.space.ZPP_AABBTree"] = wc;
wc.__name__ = ["zpp_nape", "space", "ZPP_AABBTree"];
wc.prototype = {
    clear: function() {
        if (null != this.root) {
            var a;
            this.root.next = null;
            for (a = this.root; null != a;) {
                var b;
                b = a;
                a = b.next;
                b.next = null;
                null == b.child1 ? (b.shape.node = null, b.shape.removedFromSpace(), b.shape = null) : (null != b.child1 && (b.child1.next = a, a = b.child1), null != b.child2 && (b.child2.next = a, a = b.child2));
                b.free();
                b.next = Gb.zpp_pool;
                Gb.zpp_pool = b
            }
            this.root = null
        }
    },
    inlined_insertLeaf: function(a) {
        if (null == this.root) this.root = a, this.root.parent = null;
        else {
            for (var b = a.aabb,
                c = this.root; null != c.child1;) {
                var d = c.child1,
                    e = c.child2,
                    f = c.aabb.perimeter();
                wc.tmpaabb.setCombine(c.aabb, b);
                var g = wc.tmpaabb.perimeter(),
                    h = 2 * g,
                    f = 2 * (g - f);
                wc.tmpaabb.setCombine(b, d.aabb);
                null == d.child1 ? g = wc.tmpaabb.perimeter() + f : (g = d.aabb.perimeter(), g = wc.tmpaabb.perimeter() - g + f);
                wc.tmpaabb.setCombine(b, e.aabb);
                if (null == e.child1) f = wc.tmpaabb.perimeter() + f;
                else var n = e.aabb.perimeter(),
                    f = wc.tmpaabb.perimeter() - n + f; if (h < g && h < f) break;
                else c = g < f ? d : e
            }
            d = c.parent;
            null == Gb.zpp_pool ? e = new Gb : (e = Gb.zpp_pool,
                Gb.zpp_pool = e.next, e.next = null);
            null == Va.zpp_pool ? e.aabb = new Va : (e.aabb = Va.zpp_pool, Va.zpp_pool = e.aabb.next, e.aabb.next = null);
            null;
            e.moved = !1;
            e.synced = !1;
            e.first_sync = !1;
            e.parent = d;
            e.aabb.setCombine(b, c.aabb);
            e.height = c.height + 1;
            null != d ? (d.child1 == c ? d.child1 = e : d.child2 = e, e.child1 = c, e.child2 = a, c.parent = e, a.parent = e) : (e.child1 = c, e.child2 = a, c.parent = e, this.root = a.parent = e);
            for (c = a.parent; null != c;) c = this.balance(c), a = c.child1, b = c.child2, d = c, e = void 0, e = a.height, h = b.height, e = e > h ? e : h, d.height = 1 + e, c.aabb.setCombine(a.aabb,
                b.aabb), c = c.parent
        }
    },
    removeLeaf: function(a) {
        this.inlined_removeLeaf(a)
    },
    inlined_removeLeaf: function(a) {
        if (a == this.root) this.root = null;
        else {
            var b = a.parent,
                c = b.parent;
            a = b.child1 == a ? b.child2 : b.child1;
            if (null != c)
                for (c.child1 == b ? c.child1 = a : c.child2 = a, a.parent = c, b.free(), b.next = Gb.zpp_pool, Gb.zpp_pool = b, b = c; null != b;) {
                    var b = this.balance(b),
                        d = b.child1;
                    a = b.child2;
                    b.aabb.setCombine(d.aabb, a.aabb);
                    var c = b,
                        e = void 0,
                        d = d.height;
                    a = a.height;
                    e = d > a ? d : a;
                    c.height = 1 + e;
                    b = b.parent
                } else this.root = a, a.parent = null, b.free(),
                    b.next = Gb.zpp_pool, Gb.zpp_pool = b
        }
    },
    balance: function(a) {
        if (null == a.child1 || 2 > a.height) return a;
        var b = a.child1,
            c = a.child2,
            d = c.height - b.height;
        if (1 < d) {
            var e = c.child1,
                f = c.child2;
            c.child1 = a;
            c.parent = a.parent;
            a.parent = c;
            null != c.parent ? c.parent.child1 == a ? c.parent.child1 = c : c.parent.child2 = c : this.root = c;
            e.height > f.height ? (c.child2 = e, a.child2 = f, f.parent = a, a.aabb.setCombine(b.aabb, f.aabb), c.aabb.setCombine(a.aabb, e.aabb), a.height = 1 + function(a) {
                a = b.height;
                var c = f.height;
                return a > c ? a : c
            }(this), c.height = 1 + function(b) {
                b =
                    a.height;
                var c = e.height;
                return b > c ? b : c
            }(this)) : (c.child2 = f, a.child2 = e, e.parent = a, a.aabb.setCombine(b.aabb, e.aabb), c.aabb.setCombine(a.aabb, f.aabb), a.height = 1 + function(a) {
                a = b.height;
                var c = e.height;
                return a > c ? a : c
            }(this), c.height = 1 + function(b) {
                b = a.height;
                var c = f.height;
                return b > c ? b : c
            }(this));
            return c
        }
        if (-1 > d) {
            var g = b.child1,
                h = b.child2;
            b.child1 = a;
            b.parent = a.parent;
            a.parent = b;
            null != b.parent ? b.parent.child1 == a ? b.parent.child1 = b : b.parent.child2 = b : this.root = b;
            g.height > h.height ? (b.child2 = g, a.child1 = h, h.parent =
                a, a.aabb.setCombine(c.aabb, h.aabb), b.aabb.setCombine(a.aabb, g.aabb), a.height = 1 + function(a) {
                    a = c.height;
                    var b = h.height;
                    return a > b ? a : b
                }(this), b.height = 1 + function(b) {
                    b = a.height;
                    var c = g.height;
                    return b > c ? b : c
                }(this)) : (b.child2 = h, a.child1 = g, g.parent = a, a.aabb.setCombine(c.aabb, g.aabb), b.aabb.setCombine(a.aabb, h.aabb), a.height = 1 + function(a) {
                a = c.height;
                var b = g.height;
                return a > b ? a : b
            }(this), b.height = 1 + function(b) {
                b = a.height;
                var c = h.height;
                return b > c ? b : c
            }(this));
            return b
        }
        return a
    },
    __class__: wc
};
var Dh = function(a) {
    this.stree =
        this.dtree = this.pairs = this.syncs = this.moves = this.treeStack = this.failed = this.openlist = null;
    ae.call(this);
    this.space = a;
    this.is_sweep = !1;
    this.dynab = this;
    this.stree = new wc;
    this.dtree = new wc
};
h["zpp_nape.space.ZPP_DynAABBPhase"] = Dh;
Dh.__name__ = ["zpp_nape", "space", "ZPP_DynAABBPhase"];
Dh.__super__ = ae;
Dh.prototype = v(ae.prototype, {
    __insert: function(a) {
        var b;
        null == Gb.zpp_pool ? b = new Gb : (b = Gb.zpp_pool, Gb.zpp_pool = b.next, b.next = null);
        null == Va.zpp_pool ? b.aabb = new Va : (b.aabb = Va.zpp_pool, Va.zpp_pool = b.aabb.next,
            b.aabb.next = null);
        null;
        b.moved = !1;
        b.synced = !1;
        b.first_sync = !1;
        b.shape = a;
        a.node = b;
        b.synced = !0;
        b.first_sync = !0;
        b.snext = this.syncs;
        this.syncs = b
    },
    __remove: function(a) {
        var b = a.node;
        b.first_sync || (b.dyn ? this.dtree.removeLeaf(b) : this.stree.removeLeaf(b));
        a.node = null;
        if (b.synced) {
            for (var c = null, d = this.syncs; null != d && d != b;) c = d, d = d.snext;
            null == c ? this.syncs = d.snext : c.snext = d.snext;
            d.snext = null;
            b.synced = !1
        }
        if (b.moved) {
            c = null;
            for (d = this.moves; null != d && d != b;) c = d, d = d.mnext;
            null == c ? this.moves = d.mnext : c.mnext = d.mnext;
            d.mnext = null;
            b.moved = !1
        }
        for (var c = null, e = this.pairs; null != e;) d = e.next, e.n1 == b || e.n2 == b ? (null == c ? this.pairs = d : c.next = d, null != e.arb && (e.arb.pair = null), e.arb = null, e.n1.shape.pairs.remove(e), e.n2.shape.pairs.remove(e), e.n1 = e.n2 = null, e.sleeping = !1, e.next = Wa.zpp_pool, Wa.zpp_pool = e) : c = e, e = d;
        for (; null != a.pairs.head;) c = a.pairs.pop_unsafe(), c.n1 == b ? c.n2.shape.pairs.remove(c) : c.n1.shape.pairs.remove(c), null != c.arb && (c.arb.pair = null), c.arb = null, c.n1 = c.n2 = null, c.sleeping = !1, c.next = Wa.zpp_pool, Wa.zpp_pool = c;
        b.free();
        b.next = Gb.zpp_pool;
        Gb.zpp_pool = b
    },
    __sync: function(a) {
        var b = a.node;
        b.synced || (!this.space.continuous && a.zip_aabb && null != a.body && (a.zip_aabb = !1, a.type == g.id_ShapeType_CIRCLE ? a.circle.__validate_aabb() : a.polygon.__validate_aabb()), b.dyn == (a.body.type == g.id_BodyType_STATIC ? !1 : !a.body.component.sleeping) && b.aabb.contains(a.aabb) || (b.synced = !0, b.snext = this.syncs, this.syncs = b))
    },
    sync_broadphase: function() {
        this.space.validation();
        if (null != this.syncs)
            if (null == this.moves) {
                for (var a = this.syncs; null != a;) {
                    var b =
                        a.shape;
                    a.first_sync ? a.first_sync = !1 : (a.dyn ? this.dtree : this.stree).inlined_removeLeaf(a);
                    var c = a.aabb;
                    !this.space.continuous && b.zip_aabb && null != b.body && (b.zip_aabb = !1, b.type == g.id_ShapeType_CIRCLE ? b.circle.__validate_aabb() : b.polygon.__validate_aabb());
                    c.setExpand(b.aabb, 3);
                    ((b.body.type == g.id_BodyType_STATIC ? a.dyn = !1 : a.dyn = !b.body.component.sleeping) ? this.dtree : this.stree).inlined_insertLeaf(a);
                    a.synced = !1;
                    a.moved = !0;
                    a.mnext = a.snext;
                    a.snext = null;
                    a = a.mnext
                }
                a = this.syncs;
                this.syncs = this.moves;
                this.moves =
                    a
            } else
                for (; null != this.syncs;) a = this.syncs, this.syncs = a.snext, a.snext = null, b = a.shape, a.first_sync ? a.first_sync = !1 : (a.dyn ? this.dtree : this.stree).inlined_removeLeaf(a), c = a.aabb, !this.space.continuous && b.zip_aabb && null != b.body && (b.zip_aabb = !1, b.type == g.id_ShapeType_CIRCLE ? b.circle.__validate_aabb() : b.polygon.__validate_aabb()), c.setExpand(b.aabb, 3), ((b.body.type == g.id_BodyType_STATIC ? a.dyn = !1 : a.dyn = !b.body.component.sleeping) ? this.dtree : this.stree).inlined_insertLeaf(a), a.synced = !1, a.moved || (a.moved = !0, a.mnext = this.moves, this.moves = a)
    },
    broadphase: function(a, b) {
        for (var c = this.syncs; null != c;) {
            var d = c.shape;
            c.first_sync ? c.first_sync = !1 : (c.dyn ? this.dtree : this.stree).inlined_removeLeaf(c);
            var e = c.aabb;
            !a.continuous && d.zip_aabb && null != d.body && (d.zip_aabb = !1, d.type == g.id_ShapeType_CIRCLE ? d.circle.__validate_aabb() : d.polygon.__validate_aabb());
            e.setExpand(d.aabb, 3);
            ((d.body.type == g.id_BodyType_STATIC ? c.dyn = !1 : c.dyn = !d.body.component.sleeping) ? this.dtree : this.stree).inlined_insertLeaf(c);
            c.synced = !1;
            c = c.snext
        }
        for (; null != this.syncs;)
            if (c = this.syncs, this.syncs = c.snext, c.snext = null, !c.moved && (c.moved = !1, d = c.shape, !d.body.component.sleeping)) {
                var e = c.aabb,
                    f = null;
                null != this.dtree.root && (this.dtree.root.next = f, f = this.dtree.root);
                for (; null != f;) {
                    var h;
                    h = f;
                    f = h.next;
                    h.next = null;
                    if (h != c)
                        if (null == h.child1) {
                            var q = h.shape;
                            if (q.body != d.body && (q.body.type != g.id_BodyType_STATIC || d.body.type != g.id_BodyType_STATIC) && e.intersect(h.aabb)) {
                                var n, l;
                                d.id < q.id ? (n = d.id, l = q.id) : (n = q.id, l = d.id);
                                for (var m = null, p = (d.pairs.length <
                                    q.pairs.length ? d : q).pairs.head; null != p;) {
                                    var r = p.elt;
                                    if (r.id == n && r.di == l) {
                                        m = r;
                                        break
                                    }
                                    p = p.next
                                }
                                null != m ? m.sleeping && (m.sleeping = !1, m.next = this.pairs, this.pairs = m, m.first = !0) : (null == Wa.zpp_pool ? m = new Wa : (m = Wa.zpp_pool, Wa.zpp_pool = m.next, m.next = null), null, m.n1 = c, m.n2 = h, m.id = n, m.di = l, m.next = this.pairs, this.pairs = m, m.first = !0, d.pairs.inlined_add(m), q.pairs.inlined_add(m))
                            }
                        } else e.intersect(h.aabb) && (null != h.child1 && (h.child1.next = f, f = h.child1), null != h.child2 && (h.child2.next = f, f = h.child2))
                }
                null != this.stree.root &&
                    (this.stree.root.next = f, f = this.stree.root);
                for (; null != f;)
                    if (h = f, f = h.next, h.next = null, h != c)
                        if (null == h.child1) {
                            if (q = h.shape, q.body != d.body && (q.body.type != g.id_BodyType_STATIC || d.body.type != g.id_BodyType_STATIC) && e.intersect(h.aabb)) {
                                d.id < q.id ? (n = d.id, l = q.id) : (n = q.id, l = d.id);
                                m = null;
                                for (p = (d.pairs.length < q.pairs.length ? d : q).pairs.head; null != p;) {
                                    r = p.elt;
                                    if (r.id == n && r.di == l) {
                                        m = r;
                                        break
                                    }
                                    p = p.next
                                }
                                null != m ? m.sleeping && (m.sleeping = !1, m.next = this.pairs, this.pairs = m, m.first = !0) : (null == Wa.zpp_pool ? m = new Wa : (m = Wa.zpp_pool,
                                    Wa.zpp_pool = m.next, m.next = null), null, m.n1 = c, m.n2 = h, m.id = n, m.di = l, m.next = this.pairs, this.pairs = m, m.first = !0, d.pairs.inlined_add(m), q.pairs.inlined_add(m))
                            }
                        } else e.intersect(h.aabb) && (null != h.child1 && (h.child1.next = f, f = h.child1), null != h.child2 && (h.child2.next = f, f = h.child2))
            }
        for (; null != this.moves;)
            if (c = this.moves, this.moves = c.mnext, c.mnext = null, c.moved = !1, d = c.shape, !d.body.component.sleeping) {
                e = c.aabb;
                f = null;
                null != this.dtree.root && (this.dtree.root.next = f, f = this.dtree.root);
                for (; null != f;)
                    if (h = f, f = h.next,
                        h.next = null, h != c)
                        if (null == h.child1) {
                            if (q = h.shape, q.body != d.body && (q.body.type != g.id_BodyType_STATIC || d.body.type != g.id_BodyType_STATIC) && e.intersect(h.aabb)) {
                                d.id < q.id ? (n = d.id, l = q.id) : (n = q.id, l = d.id);
                                m = null;
                                for (p = (d.pairs.length < q.pairs.length ? d : q).pairs.head; null != p;) {
                                    r = p.elt;
                                    if (r.id == n && r.di == l) {
                                        m = r;
                                        break
                                    }
                                    p = p.next
                                }
                                null != m ? m.sleeping && (m.sleeping = !1, m.next = this.pairs, this.pairs = m, m.first = !0) : (null == Wa.zpp_pool ? m = new Wa : (m = Wa.zpp_pool, Wa.zpp_pool = m.next, m.next = null), null, m.n1 = c, m.n2 = h, m.id = n, m.di =
                                    l, m.next = this.pairs, this.pairs = m, m.first = !0, d.pairs.inlined_add(m), q.pairs.inlined_add(m))
                            }
                        } else e.intersect(h.aabb) && (null != h.child1 && (h.child1.next = f, f = h.child1), null != h.child2 && (h.child2.next = f, f = h.child2));
                null != this.stree.root && (this.stree.root.next = f, f = this.stree.root);
                for (; null != f;)
                    if (h = f, f = h.next, h.next = null, h != c)
                        if (null == h.child1) {
                            if (q = h.shape, q.body != d.body && (q.body.type != g.id_BodyType_STATIC || d.body.type != g.id_BodyType_STATIC) && e.intersect(h.aabb)) {
                                d.id < q.id ? (n = d.id, l = q.id) : (n = q.id, l = d.id);
                                m = null;
                                for (p = (d.pairs.length < q.pairs.length ? d : q).pairs.head; null != p;) {
                                    r = p.elt;
                                    if (r.id == n && r.di == l) {
                                        m = r;
                                        break
                                    }
                                    p = p.next
                                }
                                null != m ? m.sleeping && (m.sleeping = !1, m.next = this.pairs, this.pairs = m, m.first = !0) : (null == Wa.zpp_pool ? m = new Wa : (m = Wa.zpp_pool, Wa.zpp_pool = m.next, m.next = null), null, m.n1 = c, m.n2 = h, m.id = n, m.di = l, m.next = this.pairs, this.pairs = m, m.first = !0, d.pairs.inlined_add(m), q.pairs.inlined_add(m))
                            }
                        } else e.intersect(h.aabb) && (null != h.child1 && (h.child1.next = f, f = h.child1), null != h.child2 && (h.child2.next = f, f =
                            h.child2))
            }
        c = null;
        for (d = this.pairs; null != d;) d.first || d.n1.aabb.intersect(d.n2.aabb) ? (e = d.n1.shape, f = e.body, h = d.n2.shape, q = h.body, d.first || !f.component.sleeping && f.type != g.id_BodyType_STATIC || !q.component.sleeping && q.type != g.id_BodyType_STATIC ? (d.first = !1, e.aabb.intersect(h.aabb) && (c = d.arb, d.arb = b ? a.narrowPhase(e, h, f.type != g.id_BodyType_DYNAMIC || q.type != g.id_BodyType_DYNAMIC, d.arb, !1) : a.continuousEvent(e, h, f.type != g.id_BodyType_DYNAMIC || q.type != g.id_BodyType_DYNAMIC, d.arb, !1), null == d.arb ? null != c &&
            (c.pair = null) : d.arb.pair = d), c = d) : (d.sleeping = !0, null == c ? this.pairs = d.next : c.next = d.next), d = d.next) : (null == c ? this.pairs = d.next : c.next = d.next, d.n1.shape.pairs.inlined_try_remove(d), d.n2.shape.pairs.inlined_try_remove(d), e = d.next, null != d.arb && (d.arb.pair = null), d.arb = null, d.n1 = d.n2 = null, d.sleeping = !1, d.next = Wa.zpp_pool, Wa.zpp_pool = d, d = e)
    },
    clear: function() {
        for (; null != this.syncs;) {
            var a = this.syncs.snext;
            this.syncs.snext = null;
            this.syncs.first_sync && (this.syncs.shape.node = null, this.syncs.shape.removedFromSpace(),
                this.syncs.shape = null);
            this.syncs = a
        }
        for (; null != this.moves;) a = this.moves.mnext, this.moves.mnext = null, this.moves.first_sync && (this.moves.shape.node = null, this.moves.shape.removedFromSpace(), this.moves.shape = null), this.moves = a;
        for (; null != this.pairs;) {
            a = this.pairs.next;
            null != this.pairs.arb && (this.pairs.arb.pair = null);
            this.pairs.arb = null;
            this.pairs.n1.shape.pairs.inlined_try_remove(this.pairs);
            this.pairs.n2.shape.pairs.inlined_try_remove(this.pairs);
            var b = this.pairs;
            b.n1 = b.n2 = null;
            b.sleeping = !1;
            b.next =
                Wa.zpp_pool;
            Wa.zpp_pool = b;
            this.pairs = a
        }
        this.dtree.clear();
        this.stree.clear()
    },
    bodiesInCircle: function(a, b, c, d, e, f) {
        this.sync_broadphase();
        this.updateCircShape(a, b, c);
        a = this.circShape.zpp_inner.aabb;
        f = null == f ? new Je : f;
        null == this.failed && (this.failed = new Je);
        if (null != this.stree.root)
            for (null == this.treeStack && (this.treeStack = new Yf), this.treeStack.add(this.stree.root); null != this.treeStack.head;)
                if (c = this.treeStack.pop_unsafe(), c.aabb.intersect(a))
                    if (null == c.child1) {
                        if (b = c.shape.body.outer, null == e || c.shape.filter.shouldCollide(e)) d ?
                            this.failed.has(b) || (c = C.containTest(this.circShape.zpp_inner, c.shape), !f.has(b) && c ? f.push(b) : c || (f.remove(b), this.failed.push(b))) : !f.has(b) && C.testCollide_safe(c.shape, this.circShape.zpp_inner) && f.push(b)
                    } else null != c.child1 && this.treeStack.add(c.child1), null != c.child2 && this.treeStack.add(c.child2);
        if (null != this.dtree.root)
            for (null == this.treeStack && (this.treeStack = new Yf), this.treeStack.add(this.dtree.root); null != this.treeStack.head;)
                if (c = this.treeStack.pop_unsafe(), c.aabb.intersect(a))
                    if (null ==
                        c.child1) {
                        if (b = c.shape.body.outer, null == e || c.shape.filter.shouldCollide(e)) d ? this.failed.has(b) || (c = C.containTest(this.circShape.zpp_inner, c.shape), !f.has(b) && c ? f.push(b) : c || (f.remove(b), this.failed.push(b))) : !f.has(b) && C.testCollide_safe(c.shape, this.circShape.zpp_inner) && f.push(b)
                    } else null != c.child1 && this.treeStack.add(c.child1), null != c.child2 && this.treeStack.add(c.child2);
        this.failed.clear();
        return f
    },
    rayCast: function(a, b, c) {
        null == this.openlist && (this.openlist = new Yf);
        this.sync_broadphase();
        a.validate_dir();
        var d = a.maxdist;
        if (null != this.dtree.root && a.aabbtest(this.dtree.root.aabb)) {
            var e = a.aabbsect(this.dtree.root.aabb);
            if (0 <= e && e < d) {
                this.dtree.root.rayt = e;
                for (var e = null, f = this.openlist.head; null != f && !(this.dtree.root.rayt < f.elt.rayt);) e = f, f = f.next;
                this.openlist.inlined_insert(e, this.dtree.root)
            }
        }
        if (null != this.stree.root && a.aabbtest(this.stree.root.aabb) && (e = a.aabbsect(this.stree.root.aabb), 0 <= e && e < d)) {
            this.stree.root.rayt = e;
            e = null;
            for (f = this.openlist.head; null != f && !(this.stree.root.rayt < f.elt.rayt);) e =
                f, f = f.next;
            this.openlist.inlined_insert(e, this.stree.root)
        }
        for (e = null; null != this.openlist.head;) {
            f = this.openlist.pop_unsafe();
            if (f.rayt >= d) break;
            if (null == f.child1) {
                if (f = f.shape, null == c || f.filter.shouldCollide(c)) f = f.type == g.id_ShapeType_CIRCLE ? a.circlesect(f.circle, b, d) : a.aabbtest(f.aabb) ? a.polysect(f.polygon, b, d) : null, null != f && (d = f.zpp_inner.toiDistance, null != e && e.zpp_inner.free(), e = f)
            } else {
                if (null != f.child1 && a.aabbtest(f.child1.aabb)) {
                    var h = a.aabbsect(f.child1.aabb);
                    if (0 <= h && h < d) {
                        f.child1.rayt =
                            h;
                        for (var h = null, q = this.openlist.head; null != q && !(f.child1.rayt < q.elt.rayt);) h = q, q = q.next;
                        this.openlist.inlined_insert(h, f.child1)
                    }
                }
                if (null != f.child2 && a.aabbtest(f.child2.aabb) && (h = a.aabbsect(f.child2.aabb), 0 <= h && h < d)) {
                    f.child2.rayt = h;
                    h = null;
                    for (q = this.openlist.head; null != q && !(f.child2.rayt < q.elt.rayt);) h = q, q = q.next;
                    this.openlist.inlined_insert(h, f.child2)
                }
            }
        }
        this.openlist.clear();
        return e
    },
    __class__: Dh
});
var Xa = function() {
    this.waket = 0;
    this.sleep = !1;
    this.comps = null;
    this.length = 0;
    this._inuse = this.modified =
        this.pushmod = !1;
    this.next = null;
    this.comps = new aj
};
h["zpp_nape.space.ZPP_Island"] = Xa;
Xa.__name__ = ["zpp_nape", "space", "ZPP_Island"];
Xa.prototype = {
    inlined_add: function(a) {
        a._inuse = !0;
        a.next = this.next;
        this.next = a;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.next;
        this.next = a.next;
        a._inuse = !1;
        null == this.next && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    inlined_pop_unsafe: function() {
        var a = this.next;
        this.pop();
        return a
    },
    __class__: Xa
};
var vc = function() {
    this.woken = !1;
    this.waket = 0;
    this.sleeping = !1;
    this.body = this.constraint = this.island = null;
    this.isBody = !1;
    this.rank = 0;
    this.next = this.parent = null;
    this.sleeping = !1;
    this.island = null;
    this.parent = this;
    this.rank = 0;
    this.woken = !1
};
h["zpp_nape.space.ZPP_Component"] = vc;
vc.__name__ = ["zpp_nape", "space", "ZPP_Component"];
vc.prototype = {
    __class__: vc
};
var Kb = function() {
    this.freed = this.lazydel = !1;
    this.length = 0;
    this._inuse = this.modified = this.pushmod = !1;
    this.int1 = this.int2 = this.next = null;
    this.id = this.di =
        0;
    this.arbiters = new Xf
};
h["zpp_nape.space.ZPP_CallbackSet"] = Kb;
Kb.__name__ = ["zpp_nape", "space", "ZPP_CallbackSet"];
Kb.get = function(a, b) {
    var c;
    null == Kb.zpp_pool ? c = new Kb : (c = Kb.zpp_pool, Kb.zpp_pool = c.next, c.next = null);
    c.freed = !1;
    c.lazydel = !1;
    c.COLLISIONstate = g.id_PreFlag_ACCEPT;
    c.COLLISIONstamp = 0;
    c.SENSORstate = g.id_PreFlag_ACCEPT;
    c.SENSORstamp = 0;
    c.FLUIDstate = g.id_PreFlag_ACCEPT;
    c.FLUIDstamp = 0;
    a.id < b.id ? (c.int1 = a, c.int2 = b) : (c.int1 = b, c.int2 = a);
    c.id = c.int1.id;
    c.di = c.int2.id;
    return c
};
Kb.prototype = {
    inlined_add: function(a) {
        a._inuse = !0;
        a.next = this.next;
        this.next = a;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.next;
        this.next = a.next;
        a._inuse = !1;
        null == this.next && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.next;
        this.pop();
        return a
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.next, this.next = c = b.next, null == this.next && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next =
            c, null == c && (this.pushmod = !0));
        b._inuse = !1;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    remove_arb: function(a) {
        this.arbiters.inlined_try_remove(a)
    },
    empty_arb: function(a) {
        var b;
        b = !0;
        for (var c = this.arbiters.head; null != c;)
            if (0 == (c.elt.type & a)) c = c.next;
            else {
                b = !1;
                break
            }
        return b
    },
    sleeping: function() {
        var a;
        a = !0;
        for (var b = this.arbiters.head; null != b;)
            if (b.elt.sleeping) b = b.next;
            else {
                a = !1;
                break
            }
        return a
    },
    __class__: Kb
};
var bj = function(a) {
    this.cbsets = this.space = null;
    null == jc.zpp_pool ? this.cbsets = new jc :
        (this.cbsets = jc.zpp_pool, jc.zpp_pool = this.cbsets.next, this.cbsets.next = null);
    null;
    this.cbsets.lt = ka.setlt;
    this.space = a
};
h["zpp_nape.space.ZPP_CbSetManager"] = bj;
bj.__name__ = ["zpp_nape", "space", "ZPP_CbSetManager"];
bj.prototype = {
    get: function(a) {
        if (null == a.head) return null;
        var b;
        null == ka.zpp_pool ? b = new ka : (b = ka.zpp_pool, ka.zpp_pool = b.next, b.next = null);
        null;
        var c = b.cbTypes;
        b.cbTypes = a;
        var d = this.cbsets.find_weak(b);
        null != d ? a = d.data : (a = ka.get(a), this.cbsets.insert(a), a.manager = this);
        b.cbTypes = c;
        b.free();
        b.next = ka.zpp_pool;
        ka.zpp_pool = b;
        return a
    },
    remove: function(a) {
        for (this.cbsets.remove(a); null != a.cbpairs.head;) {
            var b = a.cbpairs.pop_unsafe();
            b.a != b.b && (a == b.a ? b.b.cbpairs.remove(b) : b.a.cbpairs.remove(b));
            b.a = b.b = null;
            b.listeners.clear();
            b.next = Ea.zpp_pool;
            Ea.zpp_pool = b
        }
        a.manager = null
    },
    clear: function() {},
    validate: function() {
        if (!this.cbsets.empty()) {
            for (var a = this.cbsets.parent; null != a.prev;) a = a.prev;
            for (; null != a;)
                if (a.data.validate(), null != a.next)
                    for (a = a.next; null != a.prev;) a = a.prev;
                else {
                    for (; null !=
                        a.parent && a == a.parent.next;) a = a.parent;
                    a = a.parent
                }
        }
    },
    pair: function(a, b) {
        for (var c = null, d = (a.cbpairs.length < b.cbpairs.length ? a.cbpairs : b.cbpairs).head; null != d;) {
            var e = d.elt;
            if (e.a == a && e.b == b || e.a == b && e.b == a) {
                c = e;
                break
            }
            d = d.next
        }
        null == c && (c = Ea.get(a, b), a.cbpairs.add(c), b != a && b.cbpairs.add(c));
        c.zip_listeners && (c.zip_listeners = !1, c.__validate());
        return c
    },
    __class__: bj
};
var ti = function(a, b) {
    this.precb = this.prelisteners = null;
    this.continuous = !1;
    this.toiEvents = null;
    this.pre_dt = 0;
    this.c_arbiters_true = this.c_arbiters_false =
        this.f_arbiters = this.s_arbiters = this.live = this.wrap_live = this.live_constraints = this.wrap_livecon = this.staticsleep = this.islands = this.listeners = this.wrap_listeners = this.callbacks = this.callbackset_list = this.cbsets = null;
    this.sortcontacts = !1;
    this.time = 0;
    this.midstep = !1;
    this.global_lin_drag = this.global_ang_drag = this.stamp = 0;
    this.wrap_gravity = this.bodies = this.wrap_bodies = this.compounds = this.wrap_compounds = this.constraints = this.wrap_constraints = this.kinematics = this.bphase = this.__static = null;
    this.gravityx =
        this.gravityy = 0;
    this.outer = null;
    this.toiEvents = new cj;
    this.global_ang_drag = this.global_lin_drag = .015;
    this.precb = new Sg;
    this.precb.zpp_inner = new wd;
    this.sortcontacts = !0;
    this.pre_dt = 0;
    var c;
    (c = null == b) || (null == g.Broadphase_DYNAMIC_AABB_TREE && (g.internal = !0, g.Broadphase_DYNAMIC_AABB_TREE = new af, g.internal = !1), c = b == g.Broadphase_DYNAMIC_AABB_TREE);
    c ? this.bphase = new Dh(this) : (null == g.Broadphase_SWEEP_AND_PRUNE && (g.internal = !0, g.Broadphase_SWEEP_AND_PRUNE = new af, g.internal = !1), b == g.Broadphase_SWEEP_AND_PRUNE &&
        (this.bphase = new Eh(this)));
    this.time = 0;
    null != a ? (this.gravityx = a.x, this.gravityy = a.y) : this.gravityy = this.gravityx = 0;
    this.bodies = new Me;
    this.wrap_bodies = ie.get(this.bodies);
    this.wrap_bodies.zpp_inner.adder = l(this, this.bodies_adder);
    this.wrap_bodies.zpp_inner.subber = l(this, this.bodies_subber);
    this.compounds = new nf;
    this.wrap_compounds = Gd.get(this.compounds);
    this.wrap_compounds.zpp_inner.adder = l(this, this.compounds_adder);
    this.wrap_compounds.zpp_inner.subber = l(this, this.compounds_subber);
    this.kinematics =
        new Me;
    this.c_arbiters_true = new Fh;
    this.c_arbiters_false = new Fh;
    this.f_arbiters = new dj;
    this.s_arbiters = new ej;
    this.islands = new Xa;
    this.live = new Me;
    this.wrap_live = ie.get(this.live, !0);
    this.staticsleep = new Me;
    this.constraints = new xe;
    this.wrap_constraints = td.get(this.constraints);
    this.wrap_constraints.zpp_inner.adder = l(this, this.constraints_adder);
    this.wrap_constraints.zpp_inner.subber = l(this, this.constraints_subber);
    this.live_constraints = new xe;
    this.wrap_livecon = td.get(this.live_constraints, !0);
    this.__static =
        fc.__static();
    this.__static.zpp_inner.space = this;
    this.callbacks = new wd;
    this.midstep = !1;
    this.listeners = new Gh;
    this.wrap_listeners = se.get(this.listeners);
    this.wrap_listeners.zpp_inner.adder = l(this, this.listeners_adder);
    this.wrap_listeners.zpp_inner.subber = l(this, this.listeners_subber);
    this.callbackset_list = new Kb;
    this.mrca1 = new ke;
    this.mrca2 = new ke;
    this.prelisteners = new jf;
    this.cbsets = new bj(this)
};
h["zpp_nape.space.ZPP_Space"] = ti;
ti.__name__ = ["zpp_nape", "space", "ZPP_Space"];
ti.prototype = {
    getgravity: function() {
        this.wrap_gravity =
            K.get(this.gravityx, this.gravityy, null);
        this.wrap_gravity.zpp_inner._inuse = !0;
        this.wrap_gravity.zpp_inner._invalidate = l(this, this.gravity_invalidate);
        this.wrap_gravity.zpp_inner._validate = l(this, this.gravity_validate)
    },
    gravity_invalidate: function(a) {
        this.gravityx = a.x;
        this.gravityy = a.y;
        a = new nf;
        for (var b = this.bodies.head; null != b;) {
            var c = b.elt;
            c.world || (c.component.waket = this.stamp + (this.midstep ? 0 : 1), c.type == g.id_BodyType_KINEMATIC && (c.kinematicDelaySleep = !0), c.component.sleeping && this.really_wake(c, !1));
            b = b.next
        }
        for (b = this.compounds.head; null != b;) a.add(b.elt), b = b.next;
        for (; null != a.head;) {
            b = a.pop_unsafe();
            for (c = b.bodies.head; null != c;) {
                var d = c.elt;
                d.world || (d.component.waket = this.stamp + (this.midstep ? 0 : 1), d.type == g.id_BodyType_KINEMATIC && (d.kinematicDelaySleep = !0), d.component.sleeping && this.really_wake(d, !1));
                c = c.next
            }
            for (b = b.compounds.head; null != b;) a.add(b.elt), b = b.next
        }
    },
    gravity_validate: function() {
        this.wrap_gravity.zpp_inner.x = this.gravityx;
        this.wrap_gravity.zpp_inner.y = this.gravityy
    },
    clear: function() {
        for (; null !=
            this.listeners.head;) {
            var a = this.listeners.pop_unsafe();
            this.remListener(a)
        }
        for (; null != this.callbackset_list.next;) a = this.callbackset_list.pop_unsafe(), a.arbiters.clear(), a.int1 = a.int2 = null, a.id = a.di = -1, a.freed = !0, null, a.next = Kb.zpp_pool, Kb.zpp_pool = a;
        for (; null != this.c_arbiters_true.head;) this.c_arbiters_true.pop_unsafe().retire();
        for (; null != this.c_arbiters_false.head;) this.c_arbiters_false.pop_unsafe().retire();
        for (; null != this.s_arbiters.head;) this.s_arbiters.pop_unsafe().retire();
        for (; null != this.f_arbiters.head;) this.f_arbiters.pop_unsafe().retire();
        for (this.bphase.clear(); null != this.bodies.head;) {
            a = this.bodies.pop_unsafe();
            if (null != a.component) {
                var b = a.component.island;
                if (null != b) {
                    for (; null != b.comps.head;) {
                        var c = b.comps.pop_unsafe();
                        c.sleeping = !1;
                        c.island = null;
                        c.parent = c;
                        c.rank = 0
                    }
                    b.next = Xa.zpp_pool;
                    Xa.zpp_pool = b
                }
            }
            a.removedFromSpace();
            a.space = null
        }
        for (; null != this.constraints.head;) {
            a = this.constraints.pop_unsafe();
            if (null != a.component && (b = a.component.island, null != b)) {
                for (; null != b.comps.head;) c = b.comps.pop_unsafe(), c.sleeping = !1, c.island = null,
                    c.parent = c, c.rank = 0;
                b.next = Xa.zpp_pool;
                Xa.zpp_pool = b
            }
            a.removedFromSpace();
            a.space = null
        }
        this.kinematics.clear();
        for (a = new nf; null != this.compounds.head;) b = this.compounds.pop_unsafe(), a.add(b);
        for (; null != a.head;) {
            b = a.pop_unsafe();
            b.removedFromSpace();
            b.space = null;
            for (c = b.bodies.head; null != c;) {
                var d = c.elt;
                if (null != d.component) {
                    var e = d.component.island;
                    if (null != e) {
                        for (; null != e.comps.head;) {
                            var f = e.comps.pop_unsafe();
                            f.sleeping = !1;
                            f.island = null;
                            f.parent = f;
                            f.rank = 0
                        }
                        e.next = Xa.zpp_pool;
                        Xa.zpp_pool = e
                    }
                }
                d.removedFromSpace();
                d.space = null;
                c = c.next
            }
            for (c = b.constraints.head; null != c;) {
                d = c.elt;
                if (null != d.component && (e = d.component.island, null != e)) {
                    for (; null != e.comps.head;) f = e.comps.pop_unsafe(), f.sleeping = !1, f.island = null, f.parent = f, f.rank = 0;
                    e.next = Xa.zpp_pool;
                    Xa.zpp_pool = e
                }
                d.removedFromSpace();
                d.space = null;
                c = c.next
            }
            for (b = b.compounds.head; null != b;) a.add(b.elt), b = b.next
        }
        this.staticsleep.clear();
        this.live.clear();
        this.live_constraints.clear();
        this.time = this.stamp = 0;
        this.mrca1.clear();
        this.mrca2.clear();
        this.prelisteners.clear();
        this.cbsets.clear()
    },
    bodies_adder: function(a) {
        return a.zpp_inner.space != this ? (null != a.zpp_inner.space && a.zpp_inner.space.outer.zpp_inner.wrap_bodies.remove(a), this.addBody(a.zpp_inner), !0) : !1
    },
    bodies_subber: function(a) {
        this.remBody(a.zpp_inner)
    },
    compounds_adder: function(a) {
        return a.zpp_inner.space != this ? (null != a.zpp_inner.space && a.zpp_inner.space.wrap_compounds.remove(a), this.addCompound(a.zpp_inner), !0) : !1
    },
    compounds_subber: function(a) {
        this.remCompound(a.zpp_inner)
    },
    constraints_adder: function(a) {
        return a.zpp_inner.space !=
            this ? (null != a.zpp_inner.space && a.zpp_inner.space.outer.zpp_inner.wrap_constraints.remove(a), this.addConstraint(a.zpp_inner), !0) : !1
    },
    constraints_subber: function(a) {
        this.remConstraint(a.zpp_inner)
    },
    listeners_adder: function(a) {
        return a.zpp_inner.space != this ? (null != a.zpp_inner.space && a.zpp_inner.space.outer.zpp_inner.wrap_listeners.remove(a), this.addListener(a.zpp_inner), !0) : !1
    },
    listeners_subber: function(a) {
        this.remListener(a.zpp_inner)
    },
    addListener: function(a) {
        a.space = this;
        a.addedToSpace();
        null != a.interaction &&
            null
    },
    remListener: function(a) {
        null != a.interaction && null;
        a.removedFromSpace();
        a.space = null
    },
    add_callbackset: function(a) {
        a.int1.cbsets.inlined_add(a);
        a.int2.cbsets.inlined_add(a);
        this.callbackset_list.inlined_add(a)
    },
    remove_callbackset: function(a) {
        a.lazydel = !0;
        a.int1.cbsets.inlined_try_remove(a);
        a.int2.cbsets.inlined_try_remove(a)
    },
    transmitType: function(a, b) {
        a.world || (a.component.waket = this.stamp + (this.midstep ? 0 : 1), a.type == g.id_BodyType_KINEMATIC && (a.kinematicDelaySleep = !0), a.component.sleeping && this.really_wake(a, !1));
        a.type == g.id_BodyType_DYNAMIC ? this.live.remove(a) : a.type == g.id_BodyType_KINEMATIC ? (this.kinematics.remove(a), this.staticsleep.remove(a)) : a.type == g.id_BodyType_STATIC && this.staticsleep.remove(a);
        a.type = b;
        a.type == g.id_BodyType_KINEMATIC && this.kinematics.add(a);
        a.type == g.id_BodyType_STATIC && this.static_validation(a);
        a.component.sleeping = !0;
        a.world || (a.component.waket = this.stamp + (this.midstep ? 0 : 1), a.type == g.id_BodyType_KINEMATIC && (a.kinematicDelaySleep = !0), a.component.sleeping && this.really_wake(a, !0))
    },
    added_shape: function(a, b) {
        null == b && (b = !1);
        if (!b) {
            var c = a.body;
            c.world || (c.component.waket = this.stamp + (this.midstep ? 0 : 1), c.type == g.id_BodyType_KINEMATIC && (c.kinematicDelaySleep = !0), c.component.sleeping && this.really_wake(c, !1))
        }
        this.bphase.insert(a);
        a.addedToSpace()
    },
    removed_shape: function(a, b) {
        null == b && (b = !1);
        var c = this,
            d = a.body;
        b || d.wake();
        for (var e = null, f = d.arbiters.head; null != f;) {
            var h = [f.elt];
            if (h[0].ws1 == a || h[0].ws2 == a) {
                if (0 != h[0].present)
                    for (this.MRCA_chains(h[0].ws1, h[0].ws2), f = this.mrca1.head; null !=
                        f;) {
                        for (var q = f.elt, n = this.mrca2.head; null != n;) {
                            var l = n.elt,
                                m = q.cbSet,
                                p = l.cbSet;
                            m.validate();
                            p.validate();
                            m.manager.pair(m, p).empty_intersection() || (l = [Ma.get(q, l)], l[0].remove_arb(h[0]), h[0].present--, m.manager.pair(m, p).forall(g.id_CbEvent_END, function(a, b) {
                                return function(d) {
                                    if (0 != (d.itype & b[0].type) && a[0].empty_arb(d.itype)) {
                                        var e = c.push_callback(d);
                                        e.event = g.id_CbEvent_END;
                                        Ma.int_callback(a[0], d, e);
                                        e.set = a[0]
                                    }
                                }
                            }(l, h)), null == l[0].arbiters.head && this.remove_callbackset(l[0]));
                            n = n.next
                        }
                        f = f.next
                    }
                h[0].b1 !=
                    d && h[0].b1.type == g.id_BodyType_DYNAMIC && (f = h[0].b1, f.world || (f.component.waket = this.stamp + (this.midstep ? 0 : 1), f.type == g.id_BodyType_KINEMATIC && (f.kinematicDelaySleep = !0), f.component.sleeping && this.really_wake(f, !1)));
                h[0].b2 != d && h[0].b2.type == g.id_BodyType_DYNAMIC && (f = h[0].b2, f.world || (f.component.waket = this.stamp + (this.midstep ? 0 : 1), f.type == g.id_BodyType_KINEMATIC && (f.kinematicDelaySleep = !0), f.component.sleeping && this.really_wake(f, !1)));
                h[0].cleared = !0;
                null != d && h[0].b2 != d || h[0].b1.arbiters.inlined_try_remove(h[0]);
                null != d && h[0].b1 != d || h[0].b2.arbiters.inlined_try_remove(h[0]);
                null != h[0].pair && (h[0].pair.arb = null, h[0].pair = null);
                h[0].active = !1;
                this.f_arbiters.modified = !0;
                f = d.arbiters.erase(e)
            } else e = f, f = f.next
        }
        this.bphase.remove(a);
        a.removedFromSpace()
    },
    addConstraint: function(a) {
        a.space = this;
        a.addedToSpace();
        a.active && (a.component.sleeping = !0, this.wake_constraint(a, !0))
    },
    remConstraint: function(a) {
        a.active && (this.wake_constraint(a, !0), this.live_constraints.remove(a));
        a.removedFromSpace();
        a.space = null
    },
    addCompound: function(a) {
        a.space =
            this;
        a.addedToSpace();
        for (var b = a.bodies.head; null != b;) this.addBody(b.elt), b = b.next;
        for (b = a.constraints.head; null != b;) this.addConstraint(b.elt), b = b.next;
        for (a = a.compounds.head; null != a;) this.addCompound(a.elt), a = a.next
    },
    remCompound: function(a) {
        for (var b = a.bodies.head; null != b;) this.remBody(b.elt), b = b.next;
        for (b = a.constraints.head; null != b;) this.remConstraint(b.elt), b = b.next;
        for (b = a.compounds.head; null != b;) this.remCompound(b.elt), b = b.next;
        a.removedFromSpace();
        a.space = null
    },
    addBody: function(a, b) {
        null ==
            b && (b = -1);
        a.space = this;
        a.addedToSpace();
        a.component.sleeping = !0;
        a.world || (a.component.waket = this.stamp + (this.midstep ? 0 : 1), a.type == g.id_BodyType_KINEMATIC && (a.kinematicDelaySleep = !0), a.component.sleeping && this.really_wake(a, !0));
        for (var c = a.shapes.head; null != c;) this.added_shape(c.elt, !0), c = c.next;
        a.type == g.id_BodyType_STATIC ? this.static_validation(a) : a.type != g.id_BodyType_DYNAMIC && b != g.id_BodyType_KINEMATIC && this.kinematics.add(a)
    },
    remBody: function(a, b) {
        null == b && (b = -1);
        a.type == g.id_BodyType_STATIC ?
            (a.world || (a.component.waket = this.stamp + (this.midstep ? 0 : 1), a.type == g.id_BodyType_KINEMATIC && (a.kinematicDelaySleep = !0), a.component.sleeping && this.really_wake(a, !0)), this.staticsleep.remove(a)) : a.type == g.id_BodyType_DYNAMIC ? (a.world || (a.component.waket = this.stamp + (this.midstep ? 0 : 1), a.type == g.id_BodyType_KINEMATIC && (a.kinematicDelaySleep = !0), a.component.sleeping && this.really_wake(a, !0)), this.live.remove(a)) : (b != g.id_BodyType_KINEMATIC && this.kinematics.remove(a), a.world || (a.component.waket = this.stamp +
                (this.midstep ? 0 : 1), a.type == g.id_BodyType_KINEMATIC && (a.kinematicDelaySleep = !0), a.component.sleeping && this.really_wake(a, !0)), this.staticsleep.remove(a));
        for (var c = a.shapes.head; null != c;) this.removed_shape(c.elt, !0), c = c.next;
        a.removedFromSpace();
        a.space = null
    },
    bodiesInCircle: function(a, b, c, d, e) {
        return this.bphase.bodiesInCircle(function(b) {
            a.zpp_inner.validate();
            return a.zpp_inner.x
        }(this), function(b) {
            a.zpp_inner.validate();
            return a.zpp_inner.y
        }(this), b, c, d, e)
    },
    rayCast: function(a, b, c) {
        return this.bphase.rayCast(a.zpp_inner,
            b, null == c ? null : c.zpp_inner)
    },
    push_callback: function(a) {
        var b;
        null == wd.zpp_pool ? b = new wd : (b = wd.zpp_pool, wd.zpp_pool = b.next, b.next = null);
        null;
        this.callbacks.push(b);
        b.listener = a;
        return b
    },
    step: function(a, b, c) {
        var d = this;
        this.time += a;
        this.pre_dt = a;
        this.midstep = !0;
        this.stamp++;
        this.validation();
        this.bphase.broadphase(this, !0);
        this.prestep(a);
        if (this.sortcontacts) {
            var e = this.c_arbiters_false;
            if (null != e.head && null != e.head.next) {
                var f = e.head,
                    h = null,
                    q = null,
                    n = null,
                    l = null,
                    m = 1,
                    p, r, t;
                do {
                    p = 0;
                    q = f;
                    for (h = f = null; null !=
                        q;) {
                        p++;
                        n = q;
                        r = 0;
                        for (t = m; null != n && r < m;) r++, n = n.next;
                        for (; 0 < r || 0 < t && null != n;) 0 == r ? (l = n, n = n.next, t--) : 0 == t || null == n ? (l = q, q = q.next, r--) : (q.elt.active && n.elt.active ? q.elt.oc1.dist < n.elt.oc1.dist : 1) ? (l = q, q = q.next, r--) : (l = n, n = n.next, t--), null != h ? h.next = l : f = l, h = l;
                        q = n
                    }
                    h.next = null;
                    m <<= 1
                } while (1 < p);
                e.head = f;
                e.modified = !0;
                e.pushmod = !0
            }
        }
        this.updateVel(a);
        this.warmStart();
        this.iterateVel(b);
        for (b = this.kinematics.head; null != b;) e = b.elt, e.pre_posx = e.posx, e.pre_posy = e.posy, e.pre_rot = e.rot, b = b.next;
        for (b = this.live.head; null !=
            b;) e = b.elt, e.pre_posx = e.posx, e.pre_posy = e.posy, e.pre_rot = e.rot, b = b.next;
        this.updatePos(a);
        this.continuous = !0;
        this.continuousCollisions(a);
        this.continuous = !1;
        this.iteratePos(c);
        for (c = this.kinematics.head; null != c;) b = c.elt, e = b.pre_rot != b.rot, b.posx == b.pre_posx && b.posy == b.pre_posy || b.invalidate_pos(), e && b.invalidate_rot(), c = c.next;
        for (c = this.live.head; null != c;) b = c.elt, e = b.pre_rot != b.rot, b.posx == b.pre_posx && b.posy == b.pre_posy || b.invalidate_pos(), e && b.invalidate_rot(), c = c.next;
        c = null;
        for (b = this.staticsleep.head; null !=
            b;) e = b.elt, e.type != g.id_BodyType_KINEMATIC || 0 == e.velx && 0 == e.vely && 0 == e.angvel ? e.kinematicDelaySleep ? (e.kinematicDelaySleep = !1, b = b.next) : (e.component.sleeping = !0, b = this.staticsleep.inlined_erase(c)) : (c = b, b = b.next);
        this.doForests(a);
        this.sleepArbiters();
        this.midstep = !1;
        c = null;
        for (a = this.callbackset_list.next; null != a;) b = [a], null == b[0].arbiters.head ? (a = this.callbackset_list.inlined_erase(c), b = b[0], b.int1 = b.int2 = null, b.id = b.di = -1, b.freed = !0, null, b.next = Kb.zpp_pool, Kb.zpp_pool = b) : (c = [b[0].sleeping()], ka.find_all(b[0].int1.cbSet,
            b[0].int2.cbSet, g.id_CbEvent_ONGOING, function(a, b) {
                return function(c) {
                    if ((!a[0] || c.allowSleepingCallbacks) && !b[0].empty_arb(c.itype)) {
                        var e = d.push_callback(c);
                        e.event = g.id_CbEvent_ONGOING;
                        Ma.int_callback(b[0], c, e);
                        e.set = b[0]
                    }
                }
            }(c, b)), c = a, a = a.next);
        for (; !this.callbacks.empty();) a = this.callbacks.pop(), a.listener.type == g.id_ListenerType_BODY ? a.listener.body.handler(a.wrapper_body()) : a.listener.type == g.id_ListenerType_CONSTRAINT ? a.listener.constraint.handler(a.wrapper_con()) : a.listener.type == g.id_ListenerType_INTERACTION &&
            a.listener.interaction.handleri(a.wrapper_int()), a.int1 = a.int2 = null, a.body = null, a.constraint = null, a.listener = null, null != a.wrap_arbiters && (a.wrap_arbiters.zpp_inner.inner = null), a.set = null, a.next = wd.zpp_pool, wd.zpp_pool = a
    },
    continuousCollisions: function(a) {
        var b = 2 * Math.PI / a;
        this.bphase.broadphase(this, !1);
        for (var c = 0; 1 > c && null != this.toiEvents.head;) {
            for (var d = null, c = 2, e = !1, f = null, h = null, q = this.toiEvents.head; null != q;) {
                var n = q.elt,
                    l = n.s1.body,
                    m = n.s2.body;
                if (l.sweepFrozen && m.sweepFrozen)
                    if (0 != n.toi && C.testCollide_safe(n.s1,
                        n.s2)) n.toi = 0;
                    else {
                        q = this.toiEvents.erase(h);
                        n.next = fb.zpp_pool;
                        fb.zpp_pool = n;
                        continue
                    }
                if (n.frozen1 != l.sweepFrozen || n.frozen2 != m.sweepFrozen)
                    if (n.kinematic) {
                        q = this.toiEvents.erase(h);
                        n.next = fb.zpp_pool;
                        fb.zpp_pool = n;
                        continue
                    } else if (n.frozen1 = l.sweepFrozen, n.frozen2 = m.sweepFrozen, n.frozen1 && (l = n.s1, n.s1 = n.s2, n.s2 = l, n.frozen1 = !1, n.frozen2 = !0), jd.staticSweep(n, a, 0, u.collisionSlopCCD), 0 > n.toi) {
                    q = this.toiEvents.erase(h);
                    n.next = fb.zpp_pool;
                    fb.zpp_pool = n;
                    continue
                }
                0 <= n.toi && (n.toi < c || !e && n.kinematic) && (d =
                    n, c = n.toi, e = n.kinematic, f = h);
                h = q;
                q = q.next
            }
            if (null == d) break;
            this.toiEvents.erase(f);
            c = d.toi;
            e = d.s1.body;
            f = d.s2.body;
            e.sweepFrozen || (e.sweepIntegrate(c * a), e.sweepValidate(d.s1));
            f.sweepFrozen || (f.sweepIntegrate(c * a), f.sweepValidate(d.s2));
            h = this.narrowPhase(d.s1, d.s2, !0, d.arbiter, !0);
            null == h ? null != d.arbiter && null != d.arbiter.pair && (d.arbiter.pair.arb = null, d.arbiter.pair = null) : !this.presteparb(h, a, !0) && h.type == sa.COL && h.active && 0 != (h.immState & g.id_ImmState_ACCEPT) && (h.colarb.warmStart(), h.colarb.applyImpulseVel(),
                h.colarb.applyImpulseVel(), h.colarb.applyImpulseVel(), h.colarb.applyImpulseVel(), e.sweep_angvel = e.angvel % b, f.sweep_angvel = f.angvel % b);
            null != h && h.active && 0 != (h.immState & g.id_ImmState_ACCEPT) && h.type == sa.COL && (e.sweepFrozen || e.type == g.id_BodyType_KINEMATIC || (e.sweepFrozen = !0, e.angvel = d.failed ? e.sweep_angvel = 0 : d.slipped ? e.sweep_angvel *= u.angularCCDSlipScale : e.sweep_angvel), f.sweepFrozen || f.type == g.id_BodyType_KINEMATIC || (f.sweepFrozen = !0, f.angvel = d.failed ? f.sweep_angvel = 0 : d.slipped ? f.sweep_angvel *= u.angularCCDSlipScale :
                f.sweep_angvel))
        }
        for (; null != this.toiEvents.head;) b = this.toiEvents.pop_unsafe(), b.next = fb.zpp_pool, fb.zpp_pool = b;
        for (b = this.kinematics.head; null != b;) d = b.elt, d.sweepIntegrate(a), d.sweepTime = 0, b = b.next;
        for (b = this.live.head; null != b;) d = b.elt, d.sweepFrozen || d.sweepIntegrate(a), d.sweepTime = 0, b = b.next
    },
    continuousEvent: function(a, b, c, d, e) {
        if (a.body.sweepFrozen && b.body.sweepFrozen || a.body.disableCCD || b.body.disableCCD || null != d && null == d.colarb || 0 >= this.interactionType(a, b, a.body, b.body)) return d;
        var f = a.body,
            h = b.body;
        if (c || f.bullet || h.bullet) null == fb.zpp_pool ? e = new fb : (e = fb.zpp_pool, fb.zpp_pool = e.next, e.next = null), e.failed = !1, e.s1 = e.s2 = null, e.arbiter = null, f = f.type == g.id_BodyType_KINEMATIC || h.type == g.id_BodyType_KINEMATIC, c && !f ? (a.body.type != g.id_BodyType_DYNAMIC ? (e.s2 = a, e.s1 = b) : (e.s1 = a, e.s2 = b), e.kinematic = !1, jd.staticSweep(e, this.pre_dt, 0, u.collisionSlopCCD)) : (e.s1 = a, e.s2 = b, e.kinematic = f, e.s1.body.sweepFrozen || e.s2.body.sweepFrozen ? (e.s1.body.sweepFrozen && (a = e.s1, e.s1 = e.s2, e.s2 = a, e.frozen1 = !1, e.frozen2 = !0), jd.staticSweep(e, this.pre_dt, 0, u.collisionSlopCCD)) : jd.dynamicSweep(e, this.pre_dt, 0, u.collisionSlopCCD)), c && 0 > e.toi || e.failed ? (c = e, c.next = fb.zpp_pool, fb.zpp_pool = c) : (this.toiEvents.add(e), e.frozen1 = e.s1.body.sweepFrozen, e.frozen2 = e.s2.body.sweepFrozen, e.arbiter = null != d ? d.colarb : null);
        return d
    },
    bodyCbWake: function(a) {
        if (a.type == g.id_BodyType_DYNAMIC && null != a.cbSet)
            if (this.midstep)
                for (var b = a.cbSet.bodylisteners.head; null != b;) {
                    var c = b.elt;
                    c.event == g.id_CbEvent_WAKE && (c = this.push_callback(c), c.event =
                        g.id_CbEvent_WAKE, c.body = a);
                    b = b.next
                } else a.component.woken = !0
    },
    bodyCbSleep: function(a) {
        if (a.type == g.id_BodyType_DYNAMIC && null != a.cbSet)
            for (var b = a.cbSet.bodylisteners.head; null != b;) {
                var c = b.elt;
                c.event == g.id_CbEvent_SLEEP && (c = this.push_callback(c), c.event = g.id_CbEvent_SLEEP, c.body = a);
                b = b.next
            }
    },
    constraintCbWake: function(a) {
        if (null != a.cbSet)
            if (this.midstep)
                for (var b = a.cbSet.conlisteners.head; null != b;) {
                    var c = b.elt;
                    c.event == g.id_CbEvent_WAKE && (c = this.push_callback(c), c.event = g.id_CbEvent_WAKE, c.constraint =
                        a);
                    b = b.next
                } else a.component.woken = !0
    },
    constraintCbSleep: function(a) {
        if (null != a.cbSet)
            for (var b = a.cbSet.conlisteners.head; null != b;) {
                var c = b.elt;
                c.event == g.id_CbEvent_SLEEP && (c = this.push_callback(c), c.event = g.id_CbEvent_SLEEP, c.constraint = a);
                b = b.next
            }
    },
    constraintCbBreak: function(a) {
        if (null != a.cbSet)
            for (var b = a.cbSet.conlisteners.head; null != b;) {
                var c = b.elt;
                c.event == g.id_CbEvent_BREAK && (c = this.push_callback(c), c.event = g.id_CbEvent_BREAK, c.constraint = a);
                b = b.next
            }
    },
    nullListenerType: function(a, b) {
        for (var c =
            new ke, d = a.interactors.head; null != d;) c.add(d.elt), d = d.next;
        if (a != b)
            for (d = b.interactors.head; null != d;) c.add(d.elt), d = d.next;
        for (; null != c.head;)
            if (d = c.pop_unsafe(), null != d.icompound) {
                for (var d = d.icompound, e = d.bodies.head; null != e;) c.add(e.elt), e = e.next;
                for (d = d.compounds.head; null != d;) c.add(d.elt), d = d.next
            } else
                for (e = null != d.ibody ? d.ibody : d.ishape.body, d = null != d.ishape ? d.ishape : null, e = e.arbiters.head; null != e;) {
                    var f = e.elt;
                    if (0 != f.present && (null == d || f.ws1 == d || f.ws2 == d))
                        for (this.MRCA_chains(f.ws1, f.ws2),
                            f = this.mrca1.head; null != f;) {
                            var g = f.elt;
                            if (g.cbSet == a || g.cbSet == b)
                                for (var h = this.mrca2.head; null != h;) {
                                    var n = h.elt;
                                    if (!(g.cbSet == a && n.cbSet != b || g.cbSet == b && n.cbSet != a) && (n = Ma.get(g, n), null != n)) {
                                        for (; null != n.arbiters.head;) n.arbiters.pop_unsafe().present--;
                                        this.remove_callbackset(n)
                                    }
                                    h = h.next
                                }
                            f = f.next
                        }
                    e = e.next
                }
    },
    nullInteractorType: function(a, b) {
        null == b && (b = a);
        if (null != a.icompound) {
            for (var c = a.icompound, d = c.bodies.head; null != d;) this.nullInteractorType(d.elt, b), d = d.next;
            for (c = c.compounds.head; null != c;) this.nullInteractorType(c.elt,
                b), c = c.next
        } else
            for (d = null != a.ibody ? a.ibody : a.ishape.body, c = null != a.ishape ? a.ishape : null, d = d.arbiters.head; null != d;) {
                var e = d.elt;
                if (0 != e.present && (null == c || e.ws1 == c || e.ws2 == c)) {
                    this.MRCA_chains(e.ws1, e.ws2);
                    for (var f = this.mrca1.head; null != f;) {
                        for (var g = f.elt, h = this.mrca2.head; null != h;) {
                            var n = h.elt;
                            if (g == b || n == b) n = Ma.get(g, n), null != n && (e.present--, n.remove_arb(e), null == n.arbiters.head && this.remove_callbackset(n));
                            h = h.next
                        }
                        f = f.next
                    }
                }
                d = d.next
            }
    },
    freshListenerType: function(a, b) {
        for (var c = new ke, d = a.interactors.head; null !=
            d;) c.add(d.elt), d = d.next;
        if (a != b)
            for (d = b.interactors.head; null != d;) c.add(d.elt), d = d.next;
        for (; null != c.head;)
            if (d = c.pop_unsafe(), null != d.icompound) {
                for (var d = d.icompound, e = d.bodies.head; null != e;) c.add(e.elt), e = e.next;
                for (d = d.compounds.head; null != d;) c.add(d.elt), d = d.next
            } else
                for (e = null != d.ibody ? d.ibody : d.ishape.body, d = null != d.ishape ? d.ishape : null, e = e.arbiters.head; null != e;) {
                    var f = e.elt;
                    if (f.presentable && (null == d || f.ws1 == d || f.ws2 == d)) {
                        this.MRCA_chains(f.ws1, f.ws2);
                        for (var g = this.mrca1.head; null != g;) {
                            var h =
                                g.elt;
                            if (h.cbSet == a || h.cbSet == b)
                                for (var n = this.mrca2.head; null != n;) {
                                    var l = n.elt;
                                    if (!(h.cbSet == a && l.cbSet != b || h.cbSet == b && l.cbSet != a)) {
                                        var m = Ma.get(h, l);
                                        null == m && (m = Kb.get(h, l), this.add_callbackset(m));
                                        m.arbiters.inlined_has(f) ? m = !1 : (l = void 0, m.arbiters.inlined_add(f), m = l = !0);
                                        m && f.present++
                                    }
                                    n = n.next
                                }
                            g = g.next
                        }
                    }
                    e = e.next
                }
    },
    freshInteractorType: function(a, b) {
        null == b && (b = a);
        if (null != a.icompound) {
            for (var c = a.icompound, d = c.bodies.head; null != d;) this.freshInteractorType(d.elt, b), d = d.next;
            for (c = c.compounds.head; null !=
                c;) this.freshInteractorType(c.elt, b), c = c.next
        } else
            for (d = null != a.ibody ? a.ibody : a.ishape.body, c = null != a.ishape ? a.ishape : null, d = d.arbiters.head; null != d;) {
                var e = d.elt;
                if (e.presentable && (null == c || e.ws1 == c || e.ws2 == c)) {
                    this.MRCA_chains(e.ws1, e.ws2);
                    for (var f = this.mrca1.head; null != f;) {
                        for (var g = f.elt, h = this.mrca2.head; null != h;) {
                            var l = h.elt;
                            if (g == b || l == b) {
                                var p = g.cbSet,
                                    m = l.cbSet;
                                p.validate();
                                m.validate();
                                p.manager.pair(p, m).empty_intersection() || (p = Ma.get(g, l), null == p && (p = Kb.get(g, l), this.add_callbackset(p)),
                                    p.arbiters.inlined_has(e) ? l = !1 : (l = void 0, p.arbiters.inlined_add(e), l = !0), l && e.present++)
                            }
                            h = h.next
                        }
                        f = f.next
                    }
                }
                d = d.next
            }
    },
    wakeCompound: function(a) {
        for (var b = a.bodies.head; null != b;) {
            var c = b.elt;
            c.world || (c.component.waket = this.stamp + (this.midstep ? 0 : 1), c.type == g.id_BodyType_KINEMATIC && (c.kinematicDelaySleep = !0), c.component.sleeping && this.really_wake(c, !1));
            b = b.next
        }
        for (b = a.constraints.head; null != b;) this.wake_constraint(b.elt), b = b.next;
        for (a = a.compounds.head; null != a;) this.wakeCompound(a.elt), a = a.next
    },
    wakeIsland: function(a) {
        for (; null != a.comps.head;) {
            var b = a.comps.pop_unsafe();
            b.waket = this.stamp + (this.midstep ? 0 : 1);
            if (b.isBody) {
                var c = b.body;
                this.live.add(c);
                for (var d = c.arbiters.head; null != d;) {
                    var e = d.elt;
                    e.sleeping && (e.sleeping = !1, e.up_stamp += this.stamp - e.sleep_stamp, e.type == sa.COL ? (e = e.colarb, e.stat ? this.c_arbiters_true.inlined_add(e) : this.c_arbiters_false.inlined_add(e)) : e.type == sa.FLUID ? this.f_arbiters.inlined_add(e.fluidarb) : this.s_arbiters.inlined_add(e.sensorarb));
                    d = d.next
                }
                this.bodyCbWake(c);
                b.sleeping = !1;
                b.island = null;
                b.parent = b;
                b.rank = 0;
                if (c.type != g.id_BodyType_STATIC)
                    for (b = c.shapes.head; null != b;) c = b.elt, null != c.node && this.bphase.sync(c), b = b.next
            } else c = b.constraint, this.live_constraints.inlined_add(c), this.constraintCbWake(c), b.sleeping = !1, b.island = null, b.parent = b, b.rank = 0
        }
        a.next = Xa.zpp_pool;
        Xa.zpp_pool = a
    },
    non_inlined_wake: function(a, b) {
        null == b && (b = !1);
        a.world || (a.component.waket = this.stamp + (this.midstep ? 0 : 1), a.type == g.id_BodyType_KINEMATIC && (a.kinematicDelaySleep = !0), a.component.sleeping &&
            this.really_wake(a, b))
    },
    really_wake: function(a, b) {
        null == b && (b = !1);
        if (null == a.component.island) {
            a.component.sleeping = !1;
            a.type == g.id_BodyType_KINEMATIC || a.type == g.id_BodyType_STATIC ? this.staticsleep.inlined_add(a) : this.live.inlined_add(a);
            for (var c = a.constraints.head; null != c;) {
                var d = c.elt;
                d.space == this && this.wake_constraint(d);
                c = c.next
            }
            for (c = a.arbiters.head; null != c;) {
                d = c.elt;
                if (d.sleeping)
                    if (d.sleeping = !1, d.up_stamp += this.stamp + (this.midstep ? 0 : 1) - d.sleep_stamp, d.type == sa.COL) {
                        var e = d.colarb;
                        e.stat ?
                            this.c_arbiters_true.inlined_add(e) : this.c_arbiters_false.inlined_add(e)
                    } else d.type == sa.FLUID ? this.f_arbiters.inlined_add(d.fluidarb) : this.s_arbiters.inlined_add(d.sensorarb);
                d.type != sa.SENSOR && !d.cleared && d.up_stamp >= this.stamp && 0 != (d.immState & g.id_ImmState_ACCEPT) && (d.b1.type == g.id_BodyType_DYNAMIC && d.b1.component.sleeping && (e = d.b1, e.world || (e.component.waket = this.stamp + (this.midstep ? 0 : 1), e.type == g.id_BodyType_KINEMATIC && (e.kinematicDelaySleep = !0), e.component.sleeping && this.really_wake(e, !1))),
                    d.b2.type == g.id_BodyType_DYNAMIC && d.b2.component.sleeping && (d = d.b2, d.world || (d.component.waket = this.stamp + (this.midstep ? 0 : 1), d.type == g.id_BodyType_KINEMATIC && (d.kinematicDelaySleep = !0), d.component.sleeping && this.really_wake(d, !1))));
                c = c.next
            }
            b || a.type != g.id_BodyType_DYNAMIC || this.bodyCbWake(a);
            if (!b && !this.bphase.is_sweep && a.type != g.id_BodyType_STATIC)
                for (c = a.shapes.head; null != c;) d = c.elt, null != d.node && this.bphase.sync(d), c = c.next
        } else this.wakeIsland(a.component.island)
    },
    wake_constraint: function(a,
        b) {
        null == b && (b = !1);
        return a.active && (a.component.waket = this.stamp + (this.midstep ? 0 : 1), a.component.sleeping) ? (null == a.component.island ? (a.component.sleeping = !1, this.live_constraints.inlined_add(a), a.wake_connected(), b || this.constraintCbWake(a)) : this.wakeIsland(a.component.island), !0) : !1
    },
    doForests: function(a) {
        for (var b = this.c_arbiters_false.head; null != b;) {
            var c = b.elt;
            if (!c.cleared && c.up_stamp == this.stamp && 0 != (c.immState & g.id_ImmState_ACCEPT) && c.b1.type == g.id_BodyType_DYNAMIC && c.b2.type == g.id_BodyType_DYNAMIC) {
                var d;
                if (c.b1.component == c.b1.component.parent) d = c.b1.component;
                else {
                    d = c.b1.component;
                    for (var e = null; d != d.parent;) {
                        var f = d.parent;
                        d.parent = e;
                        e = d;
                        d = f
                    }
                    for (; null != e;) f = e.parent, e.parent = d, e = f
                } if (c.b2.component == c.b2.component.parent) c = c.b2.component;
                else {
                    c = c.b2.component;
                    for (e = null; c != c.parent;) f = c.parent, c.parent = e, e = c, c = f;
                    for (; null != e;) f = e.parent, e.parent = c, e = f
                }
                d != c && (d.rank < c.rank ? d.parent = c : d.rank > c.rank ? c.parent = d : (c.parent = d, d.rank++))
            }
            b = b.next
        }
        for (b = this.f_arbiters.head; null != b;) {
            c = b.elt;
            if (!c.cleared &&
                c.up_stamp == this.stamp && 0 != (c.immState & g.id_ImmState_ACCEPT) && c.b1.type == g.id_BodyType_DYNAMIC && c.b2.type == g.id_BodyType_DYNAMIC) {
                if (c.b1.component == c.b1.component.parent) d = c.b1.component;
                else {
                    d = c.b1.component;
                    for (e = null; d != d.parent;) f = d.parent, d.parent = e, e = d, d = f;
                    for (; null != e;) f = e.parent, e.parent = d, e = f
                } if (c.b2.component == c.b2.component.parent) c = c.b2.component;
                else {
                    c = c.b2.component;
                    for (e = null; c != c.parent;) f = c.parent, c.parent = e, e = c, c = f;
                    for (; null != e;) f = e.parent, e.parent = c, e = f
                }
                d != c && (d.rank < c.rank ? d.parent =
                    c : d.rank > c.rank ? c.parent = d : (c.parent = d, d.rank++))
            }
            b = b.next
        }
        for (b = this.live_constraints.head; null != b;) b.elt.forest(), b = b.next;
        for (; null != this.live.head;) {
            d = this.live.inlined_pop_unsafe();
            b = d.component;
            if (b == b.parent) c = b;
            else {
                c = b;
                for (e = null; c != c.parent;) f = c.parent, c.parent = e, e = c, c = f;
                for (; null != e;) f = e.parent, e.parent = c, e = f
            }
            null == c.island && (null == Xa.zpp_pool ? c.island = new Xa : (c.island = Xa.zpp_pool, Xa.zpp_pool = c.island.next, c.island.next = null), c.island.waket = 0, this.islands.inlined_add(c.island), c.island.sleep = !0);
            b.island = c.island;
            b.island.comps.inlined_add(b);
            d = d.atRest(a);
            b.island.sleep = b.island.sleep && d;
            b.waket > b.island.waket && (b.island.waket = b.waket)
        }
        for (; null != this.live_constraints.head;) {
            a = this.live_constraints.inlined_pop_unsafe().component;
            if (a == a.parent) b = a;
            else {
                b = a;
                for (d = null; b != b.parent;) c = b.parent, b.parent = d, d = b, b = c;
                for (; null != d;) c = d.parent, d.parent = b, d = c
            }
            a.island = b.island;
            a.island.comps.inlined_add(a);
            a.waket > a.island.waket && (a.island.waket = a.waket)
        }
        for (; null != this.islands.next;)
            if (a = this.islands.inlined_pop_unsafe(),
                a.sleep)
                for (a = a.comps.head; null != a;) {
                    d = a.elt;
                    if (d.isBody) {
                        b = d.body;
                        b.velx = 0;
                        b.vely = 0;
                        b.angvel = 0;
                        d.sleeping = !0;
                        for (d = b.shapes.head; null != d;) this.bphase.sync(d.elt), d = d.next;
                        this.bodyCbSleep(b)
                    } else this.constraintCbSleep(d.constraint), d.sleeping = !0;
                    a = a.next
                } else {
                    for (; null != a.comps.head;) b = a.comps.inlined_pop_unsafe(), b.waket = a.waket, b.isBody ? this.live.inlined_add(b.body) : this.live_constraints.inlined_add(b.constraint), b.sleeping = !1, b.island = null, b.parent = b, b.rank = 0;
                    a.next = Xa.zpp_pool;
                    Xa.zpp_pool = a
                }
    },
    sleepArbiters: function() {
        var a = null,
            b = this.c_arbiters_true,
            c = b.head,
            d = null != this.c_arbiters_false;
        d && null == c && (d = !1, c = this.c_arbiters_false.head, b = this.c_arbiters_false, a = null);
        for (; null != c;) {
            var e = c.elt;
            e.b1.component.sleeping && e.b2.component.sleeping ? (e.sleep_stamp = this.stamp, e.sleeping = !0, c = b.inlined_erase(a)) : (a = c, c = c.next);
            d && null == c && (d = !1, c = this.c_arbiters_false.head, b = this.c_arbiters_false, a = null)
        }
        a = null;
        b = this.f_arbiters;
        c = b.head;
        d = !1;
        for (; null != c;) e = c.elt, e.b1.component.sleeping && e.b2.component.sleeping ?
            (e.sleep_stamp = this.stamp, e.sleeping = !0, c = b.inlined_erase(a)) : (a = c, c = c.next), d && null == c && (d = !1, c = null.begin(), a = b = null);
        a = null;
        b = this.s_arbiters;
        c = b.head;
        d = !1;
        for (; null != c;) e = c.elt, e.b1.component.sleeping && e.b2.component.sleeping ? (e.sleep_stamp = this.stamp, e.sleeping = !0, c = b.inlined_erase(a)) : (a = c, c = c.next), d && null == c && (d = !1, c = null.begin(), a = b = null)
    },
    static_validation: function(a) {
        null != a.shapes.head && a.validate_aabb();
        a.validate_mass();
        a.validate_inertia();
        for (var b = a.shapes.head; null != b;) {
            var c = b.elt;
            c.type == g.id_ShapeType_POLYGON && (c.polygon.splice_collinear(), c.polygon.validate_gaxi());
            b = b.next
        }
        a.sweepFrozen = !0
    },
    validation: function() {
        this.cbsets.validate();
        for (var a = this.live.head; null != a;) {
            var b = a.elt;
            b.sweepRadius = 0;
            for (var c = b.shapes.head; null != c;) {
                var d = c.elt;
                d.type == g.id_ShapeType_POLYGON && (d.polygon.splice_collinear(), d.polygon.validate_gaxi());
                d.validate_sweepRadius();
                d.sweepRadius > b.sweepRadius && (b.sweepRadius = d.sweepRadius);
                c = c.next
            }
            b.validate_mass();
            b.validate_inertia();
            null != b.shapes.head &&
                (b.validate_aabb(), b.validate_worldCOM());
            b.validate_gravMass();
            b.zip_axis && (b.zip_axis = !1, b.axisx = Math.sin(b.rot), b.axisy = Math.cos(b.rot), null);
            if (b.component.woken && null != b.cbSet)
                for (c = b.cbSet.bodylisteners.head; null != c;) d = c.elt, d.event == g.id_CbEvent_WAKE && (d = this.push_callback(d), d.event = g.id_CbEvent_WAKE, d.body = b), c = c.next;
            b.component.woken = !1;
            for (b = b.shapes.head; null != b;) this.bphase.sync(b.elt), b = b.next;
            a = a.next
        }
        for (a = this.kinematics.head; null != a;) {
            b = a.elt;
            b.sweepRadius = 0;
            for (c = b.shapes.head; null !=
                c;) d = c.elt, d.type == g.id_ShapeType_POLYGON && (d.polygon.splice_collinear(), d.polygon.validate_gaxi()), d.validate_sweepRadius(), d.sweepRadius > b.sweepRadius && (b.sweepRadius = d.sweepRadius), c = c.next;
            b.validate_mass();
            b.validate_inertia();
            null != b.shapes.head && (b.validate_aabb(), b.validate_worldCOM());
            b.validate_gravMass();
            b.zip_axis && (b.zip_axis = !1, b.axisx = Math.sin(b.rot), b.axisy = Math.cos(b.rot), null);
            for (b = b.shapes.head; null != b;) this.bphase.sync(b.elt), b = b.next;
            a = a.next
        }
        for (a = this.live_constraints.head; null !=
            a;) {
            b = a.elt;
            if (b.active) {
                if (b.component.woken && null != b.cbSet)
                    for (c = b.cbSet.conlisteners.head; null != c;) d = c.elt, d.event == g.id_CbEvent_WAKE && (d = this.push_callback(d), d.event = g.id_CbEvent_WAKE, d.constraint = b), c = c.next;
                b.component.woken = !1
            }
            a = a.next
        }
    },
    updateVel: function(a) {
        for (var b = 1 - a * this.global_lin_drag, c = 1 - a * this.global_ang_drag, d = this.live.head; null != d;) {
            var e = d.elt;
            if (0 != e.smass) {
                var f = a * e.imass;
                e.velx = b * e.velx + (e.forcex + this.gravityx * e.gravMass) * f;
                e.vely = b * e.vely + (e.forcey + this.gravityy * e.gravMass) *
                    f
            }
            if (0 != e.sinertia) {
                var g = f = 0,
                    f = e.worldCOMx - e.posx,
                    g = e.worldCOMy - e.posy;
                e.angvel = c * e.angvel + (e.torque + (this.gravityy * f - this.gravityx * g) * e.gravMass) * a * e.iinertia
            }
            d = d.next
        }
    },
    updatePos: function(a) {
        for (var b = 2 * Math.PI / a, c = this.live.head; null != c;) {
            var d = c.elt;
            d.pre_posx = d.posx;
            d.pre_posy = d.posy;
            d.pre_rot = d.rot;
            d.sweepTime = 0;
            d.sweep_angvel = d.angvel % b;
            d.sweepIntegrate(a);
            if (d.disableCCD) d.sweepFrozen = !0, d.bullet = !1;
            else {
                var e = u.staticCCDLinearThreshold * d.sweepRadius,
                    f = u.staticCCDAngularThreshold;
                if ((d.velx *
                    d.velx + d.vely * d.vely) * a * a > e * e || d.angvel * d.angvel * a * a > f * f || d.type == g.id_BodyType_KINEMATIC) {
                    e = d.sweep_angvel;
                    0 > e && (e = -e);
                    for (var f = 1 / e, h = d.shapes.head; null != h;) {
                        var l = h.elt,
                            n = l.aabb,
                            p = n.minx,
                            m = n.miny,
                            r = n.maxx,
                            t = n.maxy,
                            v = e * a * l.sweepCoef * .008333333333333333 | 0;
                        8 < v && (v = 8);
                        var w = e * a / v;
                        d.sweepIntegrate(a);
                        l.type == g.id_ShapeType_CIRCLE ? l.circle._force_validate_aabb() : l.polygon._force_validate_aabb();
                        p < n.minx ? n.minx = p : p = n.minx;
                        m < n.miny ? n.miny = m : m = n.miny;
                        r > n.maxx ? n.maxx = r : r = n.maxx;
                        t > n.maxy ? n.maxy = t : t = n.maxy;
                        for (var z = 1; z < v;) {
                            var A = z++;
                            d.sweepIntegrate(w * A * f);
                            l.type == g.id_ShapeType_CIRCLE ? l.circle._force_validate_aabb() : l.polygon._force_validate_aabb();
                            p < n.minx ? n.minx = p : p = n.minx;
                            m < n.miny ? n.miny = m : m = n.miny;
                            r > n.maxx ? n.maxx = r : r = n.maxx;
                            t > n.maxy ? n.maxy = t : t = n.maxy
                        }
                        this.bphase.sync(l);
                        h = h.next
                    }
                    d.sweepFrozen = !1;
                    d.type == g.id_BodyType_DYNAMIC && d.bulletEnabled && (e = u.bulletCCDLinearThreshold * d.sweepRadius, f = u.bulletCCDAngularThreshold, (d.velx * d.velx + d.vely * d.vely) * a * a > e * e || d.angvel * d.angvel * a * a > f * f) && (d.bullet = !0)
                } else d.sweepFrozen = !0, d.bullet = !1
            }
            c = c.next
        }
        for (c = this.kinematics.head; null != c;) {
            d = c.elt;
            d.pre_posx = d.posx;
            d.pre_posy = d.posy;
            d.pre_rot = d.rot;
            d.sweepTime = 0;
            d.sweep_angvel = d.angvel % b;
            d.sweepIntegrate(a);
            if (d.disableCCD) d.sweepFrozen = !0, d.bullet = !1;
            else if (e = u.staticCCDLinearThreshold * d.sweepRadius, f = u.staticCCDAngularThreshold, (d.velx * d.velx + d.vely * d.vely) * a * a > e * e || d.angvel * d.angvel * a * a > f * f || d.type == g.id_BodyType_KINEMATIC) {
                e = d.sweep_angvel;
                0 > e && (e = -e);
                f = 1 / e;
                for (h = d.shapes.head; null != h;) {
                    l = h.elt;
                    n = l.aabb;
                    p = n.minx;
                    m = n.miny;
                    r = n.maxx;
                    t = n.maxy;
                    v = e * a * l.sweepCoef * .008333333333333333 | 0;
                    8 < v && (v = 8);
                    w = e * a / v;
                    d.sweepIntegrate(a);
                    l.type == g.id_ShapeType_CIRCLE ? l.circle._force_validate_aabb() : l.polygon._force_validate_aabb();
                    p < n.minx ? n.minx = p : p = n.minx;
                    m < n.miny ? n.miny = m : m = n.miny;
                    r > n.maxx ? n.maxx = r : r = n.maxx;
                    t > n.maxy ? n.maxy = t : t = n.maxy;
                    for (z = 1; z < v;) A = z++, d.sweepIntegrate(w * A * f), l.type == g.id_ShapeType_CIRCLE ? l.circle._force_validate_aabb() : l.polygon._force_validate_aabb(), p < n.minx ? n.minx = p : p = n.minx, m < n.miny ? n.miny = m : m = n.miny, r > n.maxx ?
                        n.maxx = r : r = n.maxx, t > n.maxy ? n.maxy = t : t = n.maxy;
                    this.bphase.sync(l);
                    h = h.next
                }
                d.sweepFrozen = !1;
                d.type == g.id_BodyType_DYNAMIC && d.bulletEnabled && (e = u.bulletCCDLinearThreshold * d.sweepRadius, f = u.bulletCCDAngularThreshold, (d.velx * d.velx + d.vely * d.vely) * a * a > e * e || d.angvel * d.angvel * a * a > f * f) && (d.bullet = !0)
            } else d.sweepFrozen = !0, d.bullet = !1;
            c = c.next
        }
    },
    presteparb: function(a, b, c) {
        null == c && (c = !1);
        var d = this;
        if (!a.cleared && a.b1.component.sleeping && a.b2.component.sleeping) return a.sleep_stamp = this.stamp, a.sleeping = !0;
        if (!a.cleared || 0 != a.present || a.intchange) {
            var e = !c && a.up_stamp == this.stamp - 1 && !a.cleared && !a.intchange;
            c = a.fresh && !a.cleared && !a.intchange;
            e && (a.endGenerated = this.stamp);
            if (c || e || a.cleared || a.intchange)
                for (this.inlined_MRCA_chains(a.ws1, a.ws2), e = this.mrca1.head; null != e;) {
                    for (var f = e.elt, h = this.mrca2.head; null != h;) {
                        var l = h.elt,
                            n = f.cbSet,
                            p = l.cbSet;
                        if (!n.manager.pair(n, p).empty_intersection()) {
                            var m = [Ma.get(f, l)];
                            c || a.intchange ? (null == m[0] && (m[0] = Kb.get(f, l), this.add_callbackset(m[0])), n.manager.pair(n,
                                p).forall(g.id_CbEvent_BEGIN, function(b) {
                                return function(c) {
                                    if (0 != (c.itype & a.type) && b[0].empty_arb(c.itype)) {
                                        var e = d.push_callback(c);
                                        e.event = g.id_CbEvent_BEGIN;
                                        Ma.int_callback(b[0], c, e);
                                        e.set = b[0]
                                    }
                                }
                            }(m)), m[0].arbiters.inlined_has(a) ? l = 0 : (m[0].arbiters.inlined_add(a), l = !0), l && a.present++) : (a.present--, m[0].remove_arb(a), n.manager.pair(n, p).forall(g.id_CbEvent_END, function(b) {
                                return function(c) {
                                    if (0 != (c.itype & a.type) && b[0].empty_arb(c.itype)) {
                                        var e = d.push_callback(c);
                                        e.event = g.id_CbEvent_END;
                                        Ma.int_callback(b[0],
                                            c, e);
                                        e.set = b[0]
                                    }
                                }
                            }(m)), null == m[0].arbiters.head && this.remove_callbackset(m[0]))
                        }
                        h = h.next
                    }
                    e = e.next
                }
            a.fresh = !1;
            a.intchange = !1
        }
        if (a.cleared || a.up_stamp + (a.type == sa.COL ? u.arbiterExpirationDelay : 0) < this.stamp) return a.type == sa.SENSOR ? a.sensorarb.retire() : a.type == sa.FLUID ? a.fluidarb.retire() : a.colarb.retire(), !0;
        c = a.active;
        a.active = a.presentable = a.up_stamp == this.stamp;
        0 != (a.immState & g.id_ImmState_ACCEPT) ? a.active && a.type != sa.SENSOR && (null != a.colarb ? a.colarb.preStep(b) && (a.active = !1) : a.fluidarb.preStep(this,
            b)) : null != a.colarb && a.colarb.cleanupContacts() && (a.active = !1);
        c != a.active && (a.b1.arbiters.modified = !0, a.b2.arbiters.modified = !0, this.c_arbiters_true.modified = this.c_arbiters_false.modified = !0, this.s_arbiters.modified = this.f_arbiters.modified = !0);
        return !1
    },
    prestep: function(a) {
        for (var b = null, c = this.live_constraints.head; null != c;) {
            var d = c.elt;
            d.preStep(a) ? (c = this.live_constraints.erase(b), d.broken(), this.constraintCbBreak(d), d.removeOnBreak ? (d.component.sleeping = !0, this.midstep = !1, null != d.compound ? d.compound.wrap_constraints.remove(d.outer) :
                this.wrap_constraints.remove(d.outer), this.midstep = !0) : d.active = !1, d.clearcache()) : (b = c, c = c.next)
        }
        var b = null,
            c = this.c_arbiters_true,
            d = c.head,
            e = null != this.c_arbiters_false;
        e && null == d && (e = !1, d = this.c_arbiters_false.head, c = this.c_arbiters_false, b = null);
        for (; null != d;) this.presteparb(d.elt, a) ? d = c.inlined_erase(b) : (b = d, d = d.next), e && null == d && (e = !1, d = this.c_arbiters_false.head, c = this.c_arbiters_false, b = null);
        b = null;
        c = this.f_arbiters;
        d = c.head;
        e = !1;
        for (; null != d;) this.presteparb(d.elt, a) ? d = c.inlined_erase(b) :
            (b = d, d = d.next), e && null == d && (e = !1, d = null.begin(), b = c = null);
        b = null;
        c = this.s_arbiters;
        d = c.head;
        e = !1;
        for (; null != d;) this.presteparb(d.elt, a) ? d = c.inlined_erase(b) : (b = d, d = d.next), e && null == d && (e = !1, d = null.begin(), b = c = null)
    },
    warmStart: function() {
        for (var a = this.f_arbiters.head; null != a;) {
            var b = a.elt;
            b.active && 0 != (b.immState & g.id_ImmState_ACCEPT) && b.warmStart();
            a = a.next
        }
        a = this.c_arbiters_false.head;
        b = !0;
        null == a && (a = this.c_arbiters_true.head, b = !1);
        for (; null != a;) {
            var c = a.elt;
            c.active && 0 != (c.immState & g.id_ImmState_ACCEPT) &&
                c.warmStart();
            a = a.next;
            b && null == a && (a = this.c_arbiters_true.head, b = !1)
        }
        for (a = this.live_constraints.head; null != a;) a.elt.warmStart(), a = a.next
    },
    iterateVel: function(a) {
        for (var b = 0; b < a;) {
            b++;
            for (var c = this.f_arbiters.head; null != c;) {
                var d = c.elt;
                d.active && 0 != (d.immState & g.id_ImmState_ACCEPT) && d.applyImpulseVel();
                c = c.next
            }
            c = null;
            for (d = this.live_constraints.head; null != d;) {
                var e = d.elt;
                e.applyImpulseVel() ? (d = this.live_constraints.erase(c), e.broken(), this.constraintCbBreak(e), e.removeOnBreak ? (e.component.sleeping = !0, this.midstep = !1, null != e.compound ? e.compound.wrap_constraints.remove(e.outer) : this.wrap_constraints.remove(e.outer), this.midstep = !0) : e.active = !1, e.clearcache()) : (c = d, d = d.next)
            }
            c = this.c_arbiters_false.head;
            d = !0;
            null == c && (c = this.c_arbiters_true.head, d = !1);
            for (; null != c;) e = c.elt, e.active && 0 != (e.immState & g.id_ImmState_ACCEPT) && e.applyImpulseVel(), c = c.next, d && null == c && (c = this.c_arbiters_true.head, d = !1)
        }
    },
    iteratePos: function(a) {
        for (var b = 0; b < a;) {
            b++;
            for (var c = null, d = this.live_constraints.head; null != d;) {
                var e =
                    d.elt;
                !e.__velocity && e.stiff && e.applyImpulsePos() ? (d = this.live_constraints.erase(c), e.broken(), this.constraintCbBreak(e), e.removeOnBreak ? (e.component.sleeping = !0, this.midstep = !1, null != e.compound ? e.compound.wrap_constraints.remove(e.outer) : this.wrap_constraints.remove(e.outer), this.midstep = !0) : e.active = !1, e.clearcache()) : (c = d, d = d.next)
            }
            c = this.c_arbiters_false.head;
            d = !0;
            null == c && (c = this.c_arbiters_true.head, d = !1);
            for (; null != c;) e = c.elt, e.active && 0 != (e.immState & g.id_ImmState_ACCEPT) && e.applyImpulsePos(),
                c = c.next, d && null == c && (c = this.c_arbiters_true.head, d = !1)
        }
    },
    group_ignore: function(a, b) {
        var c = a.lookup_group();
        if (null == c) return !1;
        var d = b.lookup_group();
        if (null == d) return !1;
        for (var e = !1; null != c && null != d;) {
            if (c == d) {
                e = c.ignore;
                break
            }
            c.depth < d.depth ? d = d.group : c = c.group
        }
        return e
    },
    interactionType: function(a, b, c, d) {
        var e;
        e = !1;
        for (var f = c.constraints.head; null != f;) {
            var g = f.elt;
            if (g.ignore && g.pair_exists(c.id, d.id)) {
                e = !0;
                break
            }
            f = f.next
        }
        return e || this.group_ignore(a, b) ? -1 : (a.sensorEnabled || b.sensorEnabled) &&
            a.filter.shouldSense(b.filter) ? 2 : !a.fluidEnabled && !b.fluidEnabled || !a.filter.shouldFlow(b.filter) || 0 == c.imass && 0 == d.imass && 0 == c.iinertia && 0 == d.iinertia ? !a.filter.shouldCollide(b.filter) || 0 == c.imass && 0 == d.imass && 0 == c.iinertia && 0 == d.iinertia ? -1 : 1 : 0
    },
    narrowPhase: function(a, b, c, d, e) {
        var f = this,
            h = null,
            l = a.body,
            n = b.body,
            p = this.interactionType(a, b, l, n);
        if (-1 != p) {
            var m, r;
            a.type > b.type ? (m = b, r = a) : a.type == b.type ? a.id < b.id ? (m = a, r = b) : (r = a, m = b) : (m = a, r = b);
            var t = m == b;
            if (0 == p) {
                var u;
                if (null == d) {
                    for (var v = null, w = (l.arbiters.length <
                        n.arbiters.length ? l : n).arbiters.head; null != w;) {
                        var z = w.elt;
                        if (z.id == m.id && z.di == r.id) {
                            v = z;
                            break
                        }
                        w = w.next
                    }
                    u = v
                } else u = d;
                var A = null == u,
                    x, D = !1;
                A ? (null == nb.zpp_pool ? x = new nb : (x = nb.zpp_pool, nb.zpp_pool = x.next, x.next = null), null) : null == u.fluidarb ? (u.cleared = !0, u.b1.arbiters.inlined_try_remove(u), u.b2.arbiters.inlined_try_remove(u), null != u.pair && (u.pair.arb = null, u.pair = null), u.active = !1, this.f_arbiters.modified = !0, null == nb.zpp_pool ? x = new nb : (x = nb.zpp_pool, nb.zpp_pool = x.next, x.next = null), null, D = A = x.intchange = !0) : x = u.fluidarb;
                var E = g.id_InteractionType_FLUID;
                if (A || x.stamp != this.stamp || e)
                    if (x.stamp = this.stamp, C.flowCollide(m, r, x)) {
                        A ? (x.b1 = a.body, x.ws1 = a, x.b2 = b.body, x.ws2 = b, x.id = m.id, x.di = r.id, x.b1.arbiters.inlined_add(x), x.b2.arbiters.inlined_add(x), x.active = !0, x.present = 0, x.cleared = !1, x.sleeping = !1, x.fresh = !1, x.presentable = !1, x.nx = 0, x.ny = 1, x.dampx = 0, x.dampy = 0, x.adamp = 0, this.f_arbiters.inlined_add(x), x.fresh = !D) : x.fresh = x.up_stamp < this.stamp - 1 || x.endGenerated == this.stamp && e;
                        x.up_stamp = x.stamp;
                        if (x.fresh ||
                            0 == (x.immState & g.id_ImmState_ALWAYS)) {
                            x.immState = g.id_ImmState_ACCEPT;
                            var G = !1;
                            this.inlined_MRCA_chains(x.ws1.id > x.ws2.id ? x.ws2 : x.ws1, x.ws1.id > x.ws2.id ? x.ws1 : x.ws2);
                            for (var F = this.mrca1.head; null != F;) {
                                for (var H = F.elt, J = this.mrca2.head; null != J;) {
                                    var K = J.elt,
                                        L = H.cbSet,
                                        N = K.cbSet;
                                    if (!L.manager.pair(L, N).empty_intersection()) {
                                        var M = null,
                                            O = null;
                                        this.prelisteners.inlined_clear();
                                        L.manager.pair(L, N).forall(g.id_CbEvent_PRE, function(a) {
                                            return function(b) {
                                                0 != (b.itype & E) && (a[0] = f.prelisteners.inlined_insert(a[0],
                                                    b), G = G || !b.pure)
                                            }
                                        }([null]));
                                        if (null != this.prelisteners.head)
                                            if (M = Ma.get(H, K), null == M && (O = Kb.get(H, K), this.add_callbackset(O)), null == M || (M.FLUIDstamp != this.stamp || e) && 0 == (M.FLUIDstate & g.id_ImmState_ALWAYS)) {
                                                null != O && (M = O);
                                                if (null != M)
                                                    for (var P = this.prelisteners.head; null != P;) P.elt.itype == g.id_InteractionType_ANY && (M.COLLISIONstamp = this.stamp, M.SENSORstamp = this.stamp), M.FLUIDstamp = this.stamp, P = P.next;
                                                var S = x.active;
                                                x.active = !0;
                                                this.precb.zpp_inner.pre_arbiter = x;
                                                this.precb.zpp_inner.set = M;
                                                for (var Q = this.prelisteners.head; null !=
                                                    Q;) {
                                                    var U = Q.elt;
                                                    this.precb.zpp_inner.listener = U;
                                                    Ma.int_callback(M, U, this.precb.zpp_inner);
                                                    this.precb.zpp_inner.pre_swapped = H != this.precb.zpp_inner.int1;
                                                    var T = U.handlerp(this.precb);
                                                    if (null != T) {
                                                        var X = T;
                                                        null == g.PreFlag_ACCEPT && (g.internal = !0, g.PreFlag_ACCEPT = new pb, g.internal = !1);
                                                        if (X == g.PreFlag_ACCEPT) x.immState = g.id_ImmState_ACCEPT | g.id_ImmState_ALWAYS;
                                                        else {
                                                            var Y = T;
                                                            null == g.PreFlag_ACCEPT_ONCE && (g.internal = !0, g.PreFlag_ACCEPT_ONCE = new pb, g.internal = !1);
                                                            if (Y == g.PreFlag_ACCEPT_ONCE) x.immState = g.id_ImmState_ACCEPT;
                                                            else {
                                                                var Z = T;
                                                                null == g.PreFlag_IGNORE && (g.internal = !0, g.PreFlag_IGNORE = new pb, g.internal = !1);
                                                                Z == g.PreFlag_IGNORE ? x.immState = g.id_ImmState_IGNORE | g.id_ImmState_ALWAYS : x.immState = g.id_ImmState_IGNORE
                                                            }
                                                        }
                                                    }
                                                    Q = Q.next
                                                }
                                                x.active = S;
                                                if (null != M)
                                                    for (var ca = this.prelisteners.head; null != ca;) ca.elt.itype == g.id_InteractionType_ANY && (M.COLLISIONstate = x.immState, M.SENSORstate = x.immState), M.FLUIDstate = x.immState, ca = ca.next
                                            } else null == M ? 0 == (x.immState & g.id_ImmState_ALWAYS) && (x.immState = g.id_ImmState_ACCEPT) : x.immState = M.FLUIDstate
                                    }
                                    J =
                                        J.next
                                }
                                F = F.next
                            }
                            if (G && 0 == (x.immState & g.id_ImmState_ALWAYS)) {
                                if (x.b1.type == g.id_BodyType_DYNAMIC) {
                                    var aa = x.b1;
                                    aa.world || (aa.component.waket = this.stamp + (this.midstep ? 0 : 1), aa.type == g.id_BodyType_KINEMATIC && (aa.kinematicDelaySleep = !0), aa.component.sleeping && this.really_wake(aa, !1))
                                }
                                if (x.b1.type == g.id_BodyType_DYNAMIC) {
                                    var ba = x.b2;
                                    ba.world || (ba.component.waket = this.stamp + (this.midstep ? 0 : 1), ba.type == g.id_BodyType_KINEMATIC && (ba.kinematicDelaySleep = !0), ba.component.sleeping && this.really_wake(ba, !1))
                                }
                            }
                        }
                        if (0 !=
                            (x.immState & g.id_ImmState_ACCEPT)) {
                            if (x.b1.type == g.id_BodyType_DYNAMIC && x.b1.component.sleeping) {
                                var da = x.b1;
                                da.world || (da.component.waket = this.stamp + (this.midstep ? 0 : 1), da.type == g.id_BodyType_KINEMATIC && (da.kinematicDelaySleep = !0), da.component.sleeping && this.really_wake(da, !1))
                            }
                            if (x.b2.type == g.id_BodyType_DYNAMIC && x.b2.component.sleeping) {
                                var fa = x.b2;
                                fa.world || (fa.component.waket = this.stamp + (this.midstep ? 0 : 1), fa.type == g.id_BodyType_KINEMATIC && (fa.kinematicDelaySleep = !0), fa.component.sleeping && this.really_wake(fa, !1))
                            }
                        }
                        x.sleeping && (x.sleeping = !1, this.f_arbiters.inlined_add(x));
                        h = x
                    } else if (A) {
                    var ha = x;
                    ha.next = nb.zpp_pool;
                    nb.zpp_pool = ha;
                    h = null
                } else h = x;
                else h = x
            } else if (1 == p) {
                var ga;
                ga = c ? this.c_arbiters_true : this.c_arbiters_false;
                var W;
                if (null == d) {
                    for (var ka = null, ia = (l.arbiters.length < n.arbiters.length ? l : n).arbiters.head; null != ia;) {
                        var la = ia.elt;
                        if (la.id == m.id && la.di == r.id) {
                            ka = la;
                            break
                        }
                        ia = ia.next
                    }
                    W = ka
                } else W = d;
                var ja = null == W,
                    I, na = !1;
                ja ? (null == qb.zpp_pool ? I = new qb : (I = qb.zpp_pool, qb.zpp_pool = I.next, I.next = null),
                    null, I.stat = c) : null == W.colarb ? (W.cleared = !0, W.b1.arbiters.inlined_try_remove(W), W.b2.arbiters.inlined_try_remove(W), null != W.pair && (W.pair.arb = null, W.pair = null), W.active = !1, this.f_arbiters.modified = !0, null == qb.zpp_pool ? I = new qb : (I = qb.zpp_pool, qb.zpp_pool = I.next, I.next = null), null, I.intchange = !0, I.stat = c, na = ja = !0) : (I = W.colarb, t = m != I.s1, I.stat != c && (I.stat = c, I.sleeping || ((c ? this.c_arbiters_false : this.c_arbiters_true).remove(I), ga.add(I))));
                var ta = g.id_InteractionType_COLLISION;
                if (ja || I.stamp != this.stamp ||
                    e)
                    if (I.stamp = this.stamp, C.contactCollide(m, r, I, t)) {
                        ja ? (I.b1 = a.body, I.ws1 = a, I.b2 = b.body, I.ws2 = b, I.id = m.id, I.di = r.id, I.b1.arbiters.inlined_add(I), I.b2.arbiters.inlined_add(I), I.active = !0, I.present = 0, I.cleared = !1, I.sleeping = !1, I.fresh = !1, I.presentable = !1, I.s1 = a, I.s2 = b, I.userdef_restitution || (I.restitution = I.s1.material.elasticity <= Math.NEGATIVE_INFINITY || I.s2.material.elasticity <= Math.NEGATIVE_INFINITY ? 0 : I.s1.material.elasticity >= Math.POSITIVE_INFINITY || I.s2.material.elasticity >= Math.POSITIVE_INFINITY ?
                                1 : (I.s1.material.elasticity + I.s2.material.elasticity) / 2, 0 > I.restitution && (I.restitution = 0), 1 < I.restitution && (I.restitution = 1)), I.userdef_dyn_fric || (I.dyn_fric = Math.sqrt(I.s1.material.dynamicFriction * I.s2.material.dynamicFriction)), I.userdef_stat_fric || (I.stat_fric = Math.sqrt(I.s1.material.staticFriction * I.s2.material.staticFriction)), I.userdef_rfric || (I.rfric = Math.sqrt(I.s1.material.rollingFriction * I.s2.material.rollingFriction)), ga.inlined_add(I), I.fresh = !na) : I.fresh = I.up_stamp < this.stamp - 1 || I.endGenerated ==
                            this.stamp && e;
                        I.up_stamp = I.stamp;
                        if (I.fresh || 0 == (I.immState & g.id_ImmState_ALWAYS)) {
                            I.immState = g.id_ImmState_ACCEPT;
                            var pa = !1;
                            this.inlined_MRCA_chains(I.ws1.id > I.ws2.id ? I.ws2 : I.ws1, I.ws1.id > I.ws2.id ? I.ws1 : I.ws2);
                            for (var oa = this.mrca1.head; null != oa;) {
                                for (var ra = oa.elt, sa = this.mrca2.head; null != sa;) {
                                    var ua = sa.elt,
                                        va = ra.cbSet,
                                        za = ua.cbSet;
                                    if (!va.manager.pair(va, za).empty_intersection()) {
                                        var ea = null,
                                            wa = null;
                                        this.prelisteners.inlined_clear();
                                        va.manager.pair(va, za).forall(g.id_CbEvent_PRE, function(a) {
                                            return function(b) {
                                                0 !=
                                                    (b.itype & ta) && (a[0] = f.prelisteners.inlined_insert(a[0], b), pa = pa || !b.pure)
                                            }
                                        }([null]));
                                        if (null != this.prelisteners.head)
                                            if (ea = Ma.get(ra, ua), null == ea && (wa = Kb.get(ra, ua), this.add_callbackset(wa)), null == ea || (ea.COLLISIONstamp != this.stamp || e) && 0 == (ea.COLLISIONstate & g.id_ImmState_ALWAYS)) {
                                                null != wa && (ea = wa);
                                                if (null != ea)
                                                    for (var xa = this.prelisteners.head; null != xa;) xa.elt.itype == g.id_InteractionType_ANY ? (ea.COLLISIONstamp = this.stamp, ea.SENSORstamp = this.stamp, ea.FLUIDstamp = this.stamp) : ea.COLLISIONstamp = this.stamp,
                                                        xa = xa.next;
                                                var Ga = I.active;
                                                I.active = !0;
                                                I.cleanupContacts();
                                                this.precb.zpp_inner.pre_arbiter = I;
                                                this.precb.zpp_inner.set = ea;
                                                for (var ya = this.prelisteners.head; null != ya;) {
                                                    var Ca = ya.elt;
                                                    this.precb.zpp_inner.listener = Ca;
                                                    Ma.int_callback(ea, Ca, this.precb.zpp_inner);
                                                    this.precb.zpp_inner.pre_swapped = ra != this.precb.zpp_inner.int1;
                                                    var Aa = Ca.handlerp(this.precb);
                                                    if (null != Aa) {
                                                        var Ha = Aa;
                                                        null == g.PreFlag_ACCEPT && (g.internal = !0, g.PreFlag_ACCEPT = new pb, g.internal = !1);
                                                        if (Ha == g.PreFlag_ACCEPT) I.immState = g.id_ImmState_ACCEPT |
                                                            g.id_ImmState_ALWAYS;
                                                        else {
                                                            var Ja = Aa;
                                                            null == g.PreFlag_ACCEPT_ONCE && (g.internal = !0, g.PreFlag_ACCEPT_ONCE = new pb, g.internal = !1);
                                                            if (Ja == g.PreFlag_ACCEPT_ONCE) I.immState = g.id_ImmState_ACCEPT;
                                                            else {
                                                                var Ka = Aa;
                                                                null == g.PreFlag_IGNORE && (g.internal = !0, g.PreFlag_IGNORE = new pb, g.internal = !1);
                                                                Ka == g.PreFlag_IGNORE ? I.immState = g.id_ImmState_IGNORE | g.id_ImmState_ALWAYS : I.immState = g.id_ImmState_IGNORE
                                                            }
                                                        }
                                                    }
                                                    ya = ya.next
                                                }
                                                I.active = Ga;
                                                if (null != ea)
                                                    for (var Ia = this.prelisteners.head; null != Ia;) Ia.elt.itype == g.id_InteractionType_ANY ?
                                                        (ea.COLLISIONstate = I.immState, ea.SENSORstate = I.immState, ea.FLUIDstate = I.immState) : ea.COLLISIONstate = I.immState, Ia = Ia.next
                                            } else null == ea ? 0 == (I.immState & g.id_ImmState_ALWAYS) && (I.immState = g.id_ImmState_ACCEPT) : I.immState = ea.COLLISIONstate
                                    }
                                    sa = sa.next
                                }
                                oa = oa.next
                            }
                            if (pa && 0 == (I.immState & g.id_ImmState_ALWAYS)) {
                                if (I.b1.type == g.id_BodyType_DYNAMIC) {
                                    var Da = I.b1;
                                    Da.world || (Da.component.waket = this.stamp + (this.midstep ? 0 : 1), Da.type == g.id_BodyType_KINEMATIC && (Da.kinematicDelaySleep = !0), Da.component.sleeping && this.really_wake(Da, !1))
                                }
                                if (I.b1.type == g.id_BodyType_DYNAMIC) {
                                    var Ea = I.b2;
                                    Ea.world || (Ea.component.waket = this.stamp + (this.midstep ? 0 : 1), Ea.type == g.id_BodyType_KINEMATIC && (Ea.kinematicDelaySleep = !0), Ea.component.sleeping && this.really_wake(Ea, !1))
                                }
                            }
                        }
                        if (0 != (I.immState & g.id_ImmState_ACCEPT)) {
                            if (I.b1.type == g.id_BodyType_DYNAMIC && I.b1.component.sleeping) {
                                var Pa = I.b1;
                                Pa.world || (Pa.component.waket = this.stamp + (this.midstep ? 0 : 1), Pa.type == g.id_BodyType_KINEMATIC && (Pa.kinematicDelaySleep = !0), Pa.component.sleeping && this.really_wake(Pa, !1))
                            }
                            if (I.b2.type == g.id_BodyType_DYNAMIC && I.b2.component.sleeping) {
                                var Fa = I.b2;
                                Fa.world || (Fa.component.waket = this.stamp + (this.midstep ? 0 : 1), Fa.type == g.id_BodyType_KINEMATIC && (Fa.kinematicDelaySleep = !0), Fa.component.sleeping && this.really_wake(Fa, !1))
                            }
                        }
                        I.sleeping && (I.sleeping = !1, ga.inlined_add(I));
                        h = I
                    } else if (ja) {
                    var Ba = I;
                    Ba.userdef_dyn_fric = !1;
                    Ba.userdef_stat_fric = !1;
                    Ba.userdef_restitution = !1;
                    Ba.userdef_rfric = !1;
                    Ba.__ref_edge1 = Ba.__ref_edge2 = null;
                    Ba.next = qb.zpp_pool;
                    qb.zpp_pool = Ba;
                    h = null
                } else h = I;
                else h =
                    I
            } else {
                var qa;
                if (null == d) {
                    for (var Va = null, Oa = (l.arbiters.length < n.arbiters.length ? l : n).arbiters.head; null != Oa;) {
                        var Ra = Oa.elt;
                        if (Ra.id == m.id && Ra.di == r.id) {
                            Va = Ra;
                            break
                        }
                        Oa = Oa.next
                    }
                    qa = Va
                } else qa = d;
                var Na = null == qa,
                    V, $a = !1;
                Na ? (null == gb.zpp_pool ? V = new gb : (V = gb.zpp_pool, gb.zpp_pool = V.next, V.next = null), null) : null == qa.sensorarb ? (qa.cleared = !0, qa.b1.arbiters.inlined_try_remove(qa), qa.b2.arbiters.inlined_try_remove(qa), null != qa.pair && (qa.pair.arb = null, qa.pair = null), qa.active = !1, this.f_arbiters.modified = !0, null ==
                    gb.zpp_pool ? V = new gb : (V = gb.zpp_pool, gb.zpp_pool = V.next, V.next = null), null, $a = Na = V.intchange = !0) : V = qa.sensorarb;
                var db = g.id_InteractionType_SENSOR;
                if (Na || V.stamp != this.stamp || e)
                    if (V.stamp = this.stamp, C.testCollide(m, r)) {
                        Na ? (V.b1 = a.body, V.ws1 = a, V.b2 = b.body, V.ws2 = b, V.id = m.id, V.di = r.id, V.b1.arbiters.inlined_add(V), V.b2.arbiters.inlined_add(V), V.active = !0, V.present = 0, V.cleared = !1, V.sleeping = !1, V.fresh = !1, V.presentable = !1, this.s_arbiters.inlined_add(V), V.fresh = !$a) : V.fresh = V.up_stamp < this.stamp - 1 || V.endGenerated ==
                            this.stamp && e;
                        V.up_stamp = V.stamp;
                        if (V.fresh || 0 == (V.immState & g.id_ImmState_ALWAYS)) {
                            V.immState = g.id_ImmState_ACCEPT;
                            var Xa = !1;
                            this.inlined_MRCA_chains(V.ws1.id > V.ws2.id ? V.ws2 : V.ws1, V.ws1.id > V.ws2.id ? V.ws1 : V.ws2);
                            for (var Qa = this.mrca1.head; null != Qa;) {
                                for (var Sa = Qa.elt, Ta = this.mrca2.head; null != Ta;) {
                                    var Za = Ta.elt,
                                        Ua = Sa.cbSet,
                                        cb = Za.cbSet;
                                    if (!Ua.manager.pair(Ua, cb).empty_intersection()) {
                                        var ma = null,
                                            Wa = null;
                                        this.prelisteners.inlined_clear();
                                        Ua.manager.pair(Ua, cb).forall(g.id_CbEvent_PRE, function(a) {
                                            return function(b) {
                                                0 !=
                                                    (b.itype & db) && (a[0] = f.prelisteners.inlined_insert(a[0], b), Xa = Xa || !b.pure)
                                            }
                                        }([null]));
                                        if (null != this.prelisteners.head)
                                            if (ma = Ma.get(Sa, Za), null == ma && (Wa = Kb.get(Sa, Za), this.add_callbackset(Wa)), null == ma || (ma.SENSORstamp != this.stamp || e) && 0 == (ma.SENSORstate & g.id_ImmState_ALWAYS)) {
                                                null != Wa && (ma = Wa);
                                                if (null != ma)
                                                    for (var Ya = this.prelisteners.head; null != Ya;) Ya.elt.itype == g.id_InteractionType_ANY ? (ma.COLLISIONstamp = this.stamp, ma.SENSORstamp = this.stamp, ma.FLUIDstamp = this.stamp) : ma.SENSORstamp = this.stamp, Ya = Ya.next;
                                                var La = V.active;
                                                V.active = !0;
                                                this.precb.zpp_inner.pre_arbiter = V;
                                                this.precb.zpp_inner.set = ma;
                                                for (var ab = this.prelisteners.head; null != ab;) {
                                                    var fb = ab.elt;
                                                    this.precb.zpp_inner.listener = fb;
                                                    Ma.int_callback(ma, fb, this.precb.zpp_inner);
                                                    this.precb.zpp_inner.pre_swapped = Sa != this.precb.zpp_inner.int1;
                                                    var bb = fb.handlerp(this.precb);
                                                    if (null != bb) {
                                                        var kb = bb;
                                                        null == g.PreFlag_ACCEPT && (g.internal = !0, g.PreFlag_ACCEPT = new pb, g.internal = !1);
                                                        if (kb == g.PreFlag_ACCEPT) V.immState = g.id_ImmState_ACCEPT | g.id_ImmState_ALWAYS;
                                                        else {
                                                            var lb =
                                                                bb;
                                                            null == g.PreFlag_ACCEPT_ONCE && (g.internal = !0, g.PreFlag_ACCEPT_ONCE = new pb, g.internal = !1);
                                                            if (lb == g.PreFlag_ACCEPT_ONCE) V.immState = g.id_ImmState_ACCEPT;
                                                            else {
                                                                var mb = bb;
                                                                null == g.PreFlag_IGNORE && (g.internal = !0, g.PreFlag_IGNORE = new pb, g.internal = !1);
                                                                mb == g.PreFlag_IGNORE ? V.immState = g.id_ImmState_IGNORE | g.id_ImmState_ALWAYS : V.immState = g.id_ImmState_IGNORE
                                                            }
                                                        }
                                                    }
                                                    ab = ab.next
                                                }
                                                V.active = La;
                                                if (null != ma)
                                                    for (var hb = this.prelisteners.head; null != hb;) hb.elt.itype == g.id_InteractionType_ANY ? (ma.COLLISIONstate = V.immState,
                                                        ma.SENSORstate = V.immState, ma.FLUIDstate = V.immState) : ma.SENSORstate = V.immState, hb = hb.next
                                            } else null == ma ? 0 == (V.immState & g.id_ImmState_ALWAYS) && (V.immState = g.id_ImmState_ACCEPT) : V.immState = ma.SENSORstate
                                    }
                                    Ta = Ta.next
                                }
                                Qa = Qa.next
                            }
                            if (Xa && 0 == (V.immState & g.id_ImmState_ALWAYS)) {
                                if (V.b1.type != g.id_BodyType_STATIC) {
                                    var ib = V.b1;
                                    ib.world || (ib.component.waket = this.stamp + (this.midstep ? 0 : 1), ib.type == g.id_BodyType_KINEMATIC && (ib.kinematicDelaySleep = !0), ib.component.sleeping && this.really_wake(ib, !1))
                                }
                                if (V.b2.type != g.id_BodyType_STATIC) {
                                    var jb =
                                        V.b2;
                                    jb.world || (jb.component.waket = this.stamp + (this.midstep ? 0 : 1), jb.type == g.id_BodyType_KINEMATIC && (jb.kinematicDelaySleep = !0), jb.component.sleeping && this.really_wake(jb, !1))
                                }
                            }
                        }
                        V.sleeping && (V.sleeping = !1, this.s_arbiters.inlined_add(V));
                        h = V
                    } else if (Na) {
                    var ob = V;
                    ob.next = gb.zpp_pool;
                    gb.zpp_pool = ob;
                    h = null
                } else h = V;
                else h = V
            }
        }
        return h
    },
    MRCA_chains: function(a, b) {
        this.inlined_MRCA_chains(a, b)
    },
    inlined_MRCA_chains: function(a, b) {
        this.mrca1.inlined_clear();
        this.mrca2.inlined_clear();
        null != a.cbSet && this.mrca1.inlined_add(a);
        null != a.body.cbSet && this.mrca1.inlined_add(a.body);
        null != b.cbSet && this.mrca2.inlined_add(b);
        null != b.body.cbSet && this.mrca2.inlined_add(b.body);
        for (var c = a.body.compound, d = b.body.compound; c != d;)(null == c ? 0 : c.depth) < (null == d ? 0 : d.depth) ? (null != d.cbSet && this.mrca2.inlined_add(d), d = d.compound) : (null != c.cbSet && this.mrca1.inlined_add(c), c = c.compound)
    },
    __class__: ti
};
var me = function() {
    this.next = this.prev = this.shape = this.aabb = null
};
h["zpp_nape.space.ZPP_SweepData"] = me;
me.__name__ = ["zpp_nape", "space", "ZPP_SweepData"];
me.prototype = {
    __class__: me
};
var Eh = function(a) {
    this.list = this.failed = null;
    ae.call(this);
    this.space = a;
    this.is_sweep = !0;
    this.sweep = this
};
h["zpp_nape.space.ZPP_SweepPhase"] = Eh;
Eh.__name__ = ["zpp_nape", "space", "ZPP_SweepPhase"];
Eh.__super__ = ae;
Eh.prototype = v(ae.prototype, {
    __insert: function(a) {
        var b;
        null == me.zpp_pool ? b = new me : (b = me.zpp_pool, me.zpp_pool = b.next, b.next = null);
        null;
        a.sweep = b;
        b.shape = a;
        b.aabb = a.aabb;
        b.next = this.list;
        null != this.list && (this.list.prev = b);
        this.list = b
    },
    __remove: function(a) {
        var b =
            a.sweep;
        null == b.prev ? this.list = b.next : b.prev.next = b.next;
        null != b.next && (b.next.prev = b.prev);
        a.sweep = null;
        b.prev = null;
        b.shape = null;
        b.aabb = null;
        b.next = me.zpp_pool;
        me.zpp_pool = b
    },
    sync_broadphase: function() {
        this.space.validation();
        null != this.list && this.sync_broadphase_fast()
    },
    sync_broadphase_fast: function() {
        for (var a = this.list.next; null != a;) {
            var b = a.next,
                c = a.prev;
            if (!(a.aabb.minx > c.aabb.minx)) {
                for (; null != c.prev && c.prev.aabb.minx > a.aabb.minx;) c = c.prev;
                var d = a.prev;
                d.next = a.next;
                null != a.next && (a.next.prev =
                    d);
                null == c.prev ? (a.prev = null, this.list = a, a.next = c, c.prev = a) : (a.prev = c.prev, c.prev = a, a.prev.next = a, a.next = c)
            }
            a = b
        }
    },
    broadphase: function(a, b) {
        if (null != this.list) {
            this.sync_broadphase_fast();
            for (var c = this.list; null != c;) {
                for (var d = c.next, e = c.shape, f = e.body, h = c.aabb.maxx; null != d && !(d.aabb.minx > h);) {
                    var l = d.shape,
                        n = l.body;
                    n == f || f.type == g.id_BodyType_STATIC && n.type == g.id_BodyType_STATIC || f.component.sleeping && n.component.sleeping || e.aabb.intersectY(l.aabb) && (b ? a.narrowPhase(e, l, f.type != g.id_BodyType_DYNAMIC ||
                        n.type != g.id_BodyType_DYNAMIC, null, !1) : a.continuousEvent(e, l, f.type != g.id_BodyType_DYNAMIC || n.type != g.id_BodyType_DYNAMIC, null, !1));
                    d = d.next
                }
                c = c.next
            }
        }
    },
    clear: function() {
        for (; null != this.list;) this.list.shape.removedFromSpace(), this.__remove(this.list.shape)
    },
    bodiesInCircle: function(a, b, c, d, e, f) {
        this.sync_broadphase();
        this.updateCircShape(a, b, c);
        a = this.circShape.zpp_inner.aabb;
        f = null == f ? new Je : f;
        null == this.failed && (this.failed = new Je);
        for (b = this.list; null != b && b.aabb.maxx < a.minx;) b = b.next;
        for (; null !=
            b && b.aabb.minx <= a.maxx;) {
            if (b.aabb.intersect(a)) {
                var g = b.shape;
                c = g.body.outer;
                if (null == e || g.filter.shouldCollide(e)) d ? this.failed.has(c) || (g = C.containTest(this.circShape.zpp_inner, g), !f.has(c) && g ? f.push(c) : g || (f.remove(c), this.failed.push(c))) : !f.has(c) && C.testCollide_safe(g, this.circShape.zpp_inner) && f.push(c)
            }
            b = b.next
        }
        this.failed.clear();
        return f
    },
    rayCast: function(a, b, c) {
        this.sync_broadphase();
        a.validate_dir();
        var d = a.rayAABB(),
            e = a.maxdist,
            f = null;
        if (0 == a.dirx)
            for (var h = this.list; null != h && h.aabb.minx <=
                d.minx;) {
                if (h.aabb.intersect(d) && (null == c || h.shape.filter.shouldCollide(c))) {
                    var l = a.aabbsect(h.aabb);
                    0 <= l && l < e && (l = h.shape.type == g.id_ShapeType_CIRCLE ? a.circlesect(h.shape.circle, b, e) : a.polysect(h.shape.polygon, b, e), null != l && (e = l.zpp_inner.toiDistance, null != f && f.zpp_inner.free(), f = l))
                }
                h = h.next
            } else if (0 > a.dirx) {
                h = this.list;
                for (l = null; null != h && h.aabb.minx <= d.maxx;) l = h, h = h.next;
                for (h = l; null != h;) h.aabb.intersect(d) && (null == c || h.shape.filter.shouldCollide(c)) && (l = a.aabbsect(h.aabb), 0 <= l && l < e && (l = h.shape.type ==
                    g.id_ShapeType_CIRCLE ? a.circlesect(h.shape.circle, b, e) : a.polysect(h.shape.polygon, b, e), null != l && (e = l.zpp_inner.toiDistance, null != f && f.zpp_inner.free(), f = l))), h = h.prev
            } else
                for (h = this.list; null != h && h.aabb.minx <= d.maxx && h.aabb.minx < a.originx + a.dirx * e;) h.aabb.intersect(d) && (null == c || h.shape.filter.shouldCollide(c)) && (l = a.aabbsect(h.aabb), 0 <= l && l < e && (l = h.shape.type == g.id_ShapeType_CIRCLE ? a.circlesect(h.shape.circle, b, e) : a.polysect(h.shape.polygon, b, e), null != l && (e = l.zpp_inner.toiDistance, null != f && f.zpp_inner.free(),
                    f = l))), h = h.next;
        null != d.outer && (d.outer.zpp_inner = null, d.outer = null);
        d.wrap_min = d.wrap_max = null;
        d._invalidate = null;
        d._validate = null;
        d.next = Va.zpp_pool;
        Va.zpp_pool = d;
        return f
    },
    __class__: Eh
});
var Xi = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_CallbackSet"] = Xi;
Xi.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_CallbackSet"];
Xi.prototype = {
    inlined_add: function(a) {
        var b;
        null == kc.zpp_pool ? b = new kc : (b = kc.zpp_pool, kc.zpp_pool = b.next, b.next = null);
        null;
        b.elt =
            a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = kc.zpp_pool;
        kc.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    __class__: Xi
};
var lf =
    function() {
        this.length = 0;
        this.modified = this.pushmod = !1;
        this.head = null
    };
h["zpp_nape.util.ZNPList_ZPP_Shape"] = lf;
lf.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_Shape"];
lf.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == xc.zpp_pool ? b = new xc : (b = xc.zpp_pool, xc.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    insert: function(a, b) {
        return this.inlined_insert(a, b)
    },
    inlined_insert: function(a, b) {
        var c;
        null ==
            xc.zpp_pool ? c = new xc : (c = xc.zpp_pool, xc.zpp_pool = c.next, c.next = null);
        null;
        c.elt = b;
        null == a ? (c.next = this.head, this.head = c) : (c.next = a.next, a.next = c);
        this.pushmod = this.modified = !0;
        this.length++;
        return c
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b =
            a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = xc.zpp_pool;
        xc.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    iterator_at: function(a) {
        for (var b = this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: lf
};
var Me = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_Body"] = Me;
Me.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_Body"];
Me.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == Vb.zpp_pool ? b = new Vb : (b = Vb.zpp_pool, Vb.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    insert: function(a, b) {
        return this.inlined_insert(a, b)
    },
    inlined_insert: function(a, b) {
        var c;
        null == Vb.zpp_pool ? c = new Vb : (c = Vb.zpp_pool, Vb.zpp_pool = c.next, c.next = null);
        null;
        c.elt = b;
        null == a ? (c.next = this.head, this.head = c) : (c.next = a.next, a.next = c);
        this.pushmod = this.modified = !0;
        this.length++;
        return c
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a =
            this.head;
        this.head = a.next;
        a.elt = null;
        a.next = Vb.zpp_pool;
        Vb.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    erase: function(a) {
        return this.inlined_erase(a)
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = Vb.zpp_pool;
        Vb.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    clear: function() {
        for (; null != this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    has: function(a) {
        return this.inlined_has(a)
    },
    inlined_has: function(a) {
        var b;
        b = !1;
        for (var c = this.head; null != c;) {
            if (c.elt == a) {
                b = !0;
                break
            }
            c = c.next
        }
        return b
    },
    iterator_at: function(a) {
        for (var b =
            this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: Me
};
var nf = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_Compound"] = nf;
nf.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_Compound"];
nf.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == kd.zpp_pool ? b = new kd : (b = kd.zpp_pool, kd.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = kd.zpp_pool;
        kd.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b,
            c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = kd.zpp_pool;
        kd.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    iterator_at: function(a) {
        for (var b = this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: nf
};
var Xf = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_Arbiter"] = Xf;
Xf.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_Arbiter"];
Xf.prototype = {
    inlined_add: function(a) {
        var b;
        null == ld.zpp_pool ? b = new ld : (b = ld.zpp_pool, ld.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = ld.zpp_pool;
        ld.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    erase: function(a) {
        return this.inlined_erase(a)
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = ld.zpp_pool;
        ld.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    clear: function() {
        for (; null !=
            this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    inlined_has: function(a) {
        var b;
        b = !1;
        for (var c = this.head; null != c;) {
            if (c.elt == a) {
                b = !0;
                break
            }
            c = c.next
        }
        return b
    },
    __class__: Xf
};
var Ui = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_CbSetPair"] = Ui;
Ui.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_CbSetPair"];
Ui.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == yc.zpp_pool ? b = new yc : (b = yc.zpp_pool, yc.zpp_pool = b.next, b.next =
            null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = yc.zpp_pool;
        yc.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b =
            null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = yc.zpp_pool;
        yc.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    __class__: Ui
};
var Zi = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_AABBPair"] =
    Zi;
Zi.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_AABBPair"];
Zi.prototype = {
    inlined_add: function(a) {
        var b;
        null == Rc.zpp_pool ? b = new Rc : (b = Rc.zpp_pool, Rc.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = Rc.zpp_pool;
        Rc.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = Rc.zpp_pool;
        Rc.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    __class__: Zi
};
var $i = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_Edge"] = $i;
$i.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_Edge"];
$i.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == zc.zpp_pool ? b = new zc : (b = zc.zpp_pool, zc.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    insert: function(a, b) {
        return this.inlined_insert(a,
            b)
    },
    inlined_insert: function(a, b) {
        var c;
        null == zc.zpp_pool ? c = new zc : (c = zc.zpp_pool, zc.zpp_pool = c.next, c.next = null);
        null;
        c.elt = b;
        null == a ? (c.next = this.head, this.head = c) : (c.next = a.next, a.next = c);
        this.pushmod = this.modified = !0;
        this.length++;
        return c
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = zc.zpp_pool;
        zc.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    erase: function(a) {
        return this.inlined_erase(a)
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = zc.zpp_pool;
        zc.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    reverse: function() {
        for (var a = this.head, b = null; null != a;) {
            var c = a.next;
            a.next = b;
            b = this.head = a;
            a = c
        }
        this.pushmod = this.modified = !0
    },
    iterator_at: function(a) {
        for (var b = this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: $i
};
var Yf = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_AABBNode"] = Yf;
Yf.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_AABBNode"];
Yf.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == md.zpp_pool ? b = new md : (b = md.zpp_pool, md.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    inlined_insert: function(a, b) {
        var c;
        null == md.zpp_pool ? c = new md : (c = md.zpp_pool, md.zpp_pool = c.next, c.next = null);
        null;
        c.elt = b;
        null == a ? (c.next = this.head, this.head = c) : (c.next = a.next, a.next = c);
        this.pushmod = this.modified = !0;
        this.length++;
        return c
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = md.zpp_pool;
        md.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    clear: function() {
        for (; null != this.head;) this.inlined_pop();
        this.pushmod = !0
    },
    __class__: Yf
};
var aj = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_Component"] = aj;
aj.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_Component"];
aj.prototype = {
    inlined_add: function(a) {
        var b;
        null == lc.zpp_pool ? b = new lc : (b = lc.zpp_pool, lc.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = lc.zpp_pool;
        lc.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    __class__: aj
};
var Kj = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_InteractionGroup"] = Kj;
Kj.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_InteractionGroup"];
Kj.prototype = {
    iterator_at: function(a) {
        for (var b = this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: Kj
};
var Fh = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_ColArbiter"] = Fh;
Fh.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_ColArbiter"];
Fh.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == mc.zpp_pool ? b = new mc : (b = mc.zpp_pool, mc.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = mc.zpp_pool;
        mc.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c =
            this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = mc.zpp_pool;
        mc.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    __class__: Fh
};
var dj = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_FluidArbiter"] =
    dj;
dj.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_FluidArbiter"];
dj.prototype = {
    inlined_add: function(a) {
        var b;
        null == zd.zpp_pool ? b = new zd : (b = zd.zpp_pool, zd.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = zd.zpp_pool;
        zd.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = zd.zpp_pool;
        zd.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    __class__: dj
};
var ej = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_SensorArbiter"] = ej;
ej.__name__ = ["zpp_nape",
    "util", "ZNPList_ZPP_SensorArbiter"
];
ej.prototype = {
    inlined_add: function(a) {
        var b;
        null == Ad.zpp_pool ? b = new Ad : (b = Ad.zpp_pool, Ad.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = Ad.zpp_pool;
        Ad.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a =
            this.head.elt;
        this.pop();
        return a
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = Ad.zpp_pool;
        Ad.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    __class__: ej
};
var Gh = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_Listener"] = Gh;
Gh.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_Listener"];
Gh.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == Sc.zpp_pool ? b = new Sc : (b = Sc.zpp_pool, Sc.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    insert: function(a, b) {
        return this.inlined_insert(a, b)
    },
    inlined_insert: function(a, b) {
        var c;
        null == Sc.zpp_pool ? c = new Sc : (c = Sc.zpp_pool, Sc.zpp_pool = c.next, c.next = null);
        null;
        c.elt = b;
        null == a ? (c.next = this.head, this.head = c) : (c.next = a.next, a.next = c);
        this.pushmod = this.modified = !0;
        this.length++;
        return c
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = Sc.zpp_pool;
        Sc.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    remove: function(a) {
        this.inlined_try_remove(a)
    },
    inlined_try_remove: function(a) {
        for (var b = null, c = this.head, d = !1; null != c;) {
            if (c.elt == a) {
                this.inlined_erase(b);
                d = !0;
                break
            }
            b = c;
            c = c.next
        }
        return d
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = Sc.zpp_pool;
        Sc.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    iterator_at: function(a) {
        for (var b = this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: Gh
};
var cj = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_ToiEvent"] =
    cj;
cj.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_ToiEvent"];
cj.prototype = {
    add: function(a) {
        return this.inlined_add(a)
    },
    inlined_add: function(a) {
        var b;
        null == Od.zpp_pool ? b = new Od : (b = Od.zpp_pool, Od.zpp_pool = b.next, b.next = null);
        null;
        b.elt = a;
        b.next = this.head;
        this.head = b;
        this.modified = !0;
        this.length++;
        return a
    },
    pop: function() {
        this.inlined_pop()
    },
    inlined_pop: function() {
        var a = this.head;
        this.head = a.next;
        a.elt = null;
        a.next = Od.zpp_pool;
        Od.zpp_pool = a;
        null == this.head && (this.pushmod = !0);
        this.modified = !0;
        this.length--
    },
    pop_unsafe: function() {
        return this.inlined_pop_unsafe()
    },
    inlined_pop_unsafe: function() {
        var a = this.head.elt;
        this.pop();
        return a
    },
    erase: function(a) {
        return this.inlined_erase(a)
    },
    inlined_erase: function(a) {
        var b, c;
        null == a ? (b = this.head, this.head = c = b.next, null == this.head && (this.pushmod = !0)) : (b = a.next, c = b.next, a.next = c, null == c && (this.pushmod = !0));
        a = b;
        a.elt = null;
        a.next = Od.zpp_pool;
        Od.zpp_pool = a;
        this.modified = !0;
        this.length--;
        this.pushmod = !0;
        return c
    },
    __class__: cj
};
var Lj = function() {
    this.length = 0;
    this.modified =
        this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ConvexResult"] = Lj;
Lj.__name__ = ["zpp_nape", "util", "ZNPList_ConvexResult"];
Lj.prototype = {
    iterator_at: function(a) {
        for (var b = this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: Lj
};
var Mj = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_ZPP_GeomPoly"] = Mj;
Mj.__name__ = ["zpp_nape", "util", "ZNPList_ZPP_GeomPoly"];
Mj.prototype = {
    iterator_at: function(a) {
        for (var b = this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: Mj
};
var Nj = function() {
    this.length = 0;
    this.modified = this.pushmod = !1;
    this.head = null
};
h["zpp_nape.util.ZNPList_RayResult"] = Nj;
Nj.__name__ = ["zpp_nape", "util", "ZNPList_RayResult"];
Nj.prototype = {
    iterator_at: function(a) {
        for (var b = this.head; 0 < a-- && null != b;) b = b.next;
        return b
    },
    __class__: Nj
};
var ic = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_CbType"] = ic;
ic.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_CbType"];
ic.prototype = {
    __class__: ic
};
var kc = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_CallbackSet"] =
    kc;
kc.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_CallbackSet"];
kc.prototype = {
    __class__: kc
};
var xc = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_Shape"] = xc;
xc.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_Shape"];
xc.prototype = {
    __class__: xc
};
var Vb = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_Body"] = Vb;
Vb.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_Body"];
Vb.prototype = {
    __class__: Vb
};
var Ub = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_Constraint"] = Ub;
Ub.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_Constraint"];
Ub.prototype = {
    __class__: Ub
};
var kd = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_Compound"] = kd;
kd.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_Compound"];
kd.prototype = {
    __class__: kd
};
var ld = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_Arbiter"] = ld;
ld.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_Arbiter"];
ld.prototype = {
    __class__: ld
};
var Jb = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_InteractionListener"] =
    Jb;
Jb.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_InteractionListener"];
Jb.prototype = {
    __class__: Jb
};
var xd = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_CbSet"] = xd;
xd.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_CbSet"];
xd.prototype = {
    __class__: xd
};
var hd = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_Interactor"] = hd;
hd.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_Interactor"];
hd.prototype = {
    __class__: hd
};
var Nd = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_BodyListener"] =
    Nd;
Nd.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_BodyListener"];
Nd.prototype = {
    __class__: Nd
};
var yc = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_CbSetPair"] = yc;
yc.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_CbSetPair"];
yc.prototype = {
    __class__: yc
};
var gd = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_ConstraintListener"] = gd;
gd.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_ConstraintListener"];
gd.prototype = {
    __class__: gd
};
var Rc = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_AABBPair"] =
    Rc;
Rc.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_AABBPair"];
Rc.prototype = {
    __class__: Rc
};
var ub = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_Vec2"] = ub;
ub.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_Vec2"];
ub.prototype = {
    __class__: ub
};
var zc = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_Edge"] = zc;
zc.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_Edge"];
zc.prototype = {
    __class__: zc
};
var md = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_AABBNode"] = md;
md.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_AABBNode"];
md.prototype = {
    __class__: md
};
var lc = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_Component"] = lc;
lc.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_Component"];
lc.prototype = {
    __class__: lc
};
var Oj = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_InteractionGroup"] = Oj;
Oj.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_InteractionGroup"];
Oj.prototype = {
    __class__: Oj
};
var mc = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_ColArbiter"] =
    mc;
mc.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_ColArbiter"];
mc.prototype = {
    __class__: mc
};
var zd = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_FluidArbiter"] = zd;
zd.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_FluidArbiter"];
zd.prototype = {
    __class__: zd
};
var Ad = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_SensorArbiter"] = Ad;
Ad.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_SensorArbiter"];
Ad.prototype = {
    __class__: Ad
};
var Sc = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_Listener"] =
    Sc;
Sc.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_Listener"];
Sc.prototype = {
    __class__: Sc
};
var Od = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_ToiEvent"] = Od;
Od.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_ToiEvent"];
Od.prototype = {
    __class__: Od
};
var Pj = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ConvexResult"] = Pj;
Pj.__name__ = ["zpp_nape", "util", "ZNPNode_ConvexResult"];
Pj.prototype = {
    __class__: Pj
};
var Qj = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_ZPP_GeomPoly"] =
    Qj;
Qj.__name__ = ["zpp_nape", "util", "ZNPNode_ZPP_GeomPoly"];
Qj.prototype = {
    __class__: Qj
};
var Rj = function() {
    this.next = this.elt = null
};
h["zpp_nape.util.ZNPNode_RayResult"] = Rj;
Rj.__name__ = ["zpp_nape", "util", "ZNPNode_RayResult"];
Rj.prototype = {
    __class__: Rj
};
var mf = function() {
    this.at_index = 0;
    this.at_ite = null;
    this.zip_length = !1;
    this._length = 0;
    this.inner = null;
    Ie.call(this);
    this.at_ite = null;
    this.at_index = 0;
    this.zip_length = !0;
    this._length = 0
};
h["zpp_nape.util.ZPP_MixVec2List"] = mf;
mf.__name__ = ["zpp_nape", "util",
    "ZPP_MixVec2List"
];
mf.get = function(a, b) {
    null == b && (b = !1);
    var c = new mf;
    c.inner = a;
    c.zpp_inner.immutable = b;
    return c
};
mf.__super__ = Ie;
mf.prototype = v(Ie.prototype, {
    zpp_gl: function() {
        this.zpp_vm();
        if (this.zip_length) {
            this._length = 0;
            for (var a = this.inner.next; null != a;) this._length++, a = a.next;
            this.zip_length = !1
        }
        return this._length
    },
    zpp_vm: function() {
        this.zpp_inner.validate();
        this.inner.modified && (this.zip_length = !0, this._length = 0, this.at_ite = null)
    },
    at: function(a) {
        this.zpp_vm();
        this.zpp_inner.reverse_flag &&
            (a = this.zpp_gl() - 1 - a);
        if (a < this.at_index || null == this.at_ite)
            for (this.at_index = 0, this.at_ite = this.inner.next;;) break;
        for (; this.at_index != a;)
            for (this.at_index++, this.at_ite = this.at_ite.next;;) break;
        return this.at_ite.wrapper()
    },
    push: function(a) {
        this.zpp_inner.modify_test();
        this.zpp_vm();
        var b;
        if (b = null != this.zpp_inner.adder ? this.zpp_inner.adder(a) : !0) {
            if (this.zpp_inner.reverse_flag) this.inner.add(a.zpp_inner);
            else {
                var c = this.inner.iterator_at(this.zpp_gl() - 1);
                this.inner.insert(c, a.zpp_inner)
            }
            this.zpp_inner.invalidate();
            null != this.zpp_inner.post_adder && this.zpp_inner.post_adder(a)
        }
        return b
    },
    __class__: mf
});
var td = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.dontremove = this.reverse_flag = !1;
    this._invalidate = this._validate = this.adder = this.post_adder = this.subber = null;
    this.immutable = this._invalidated = !1;
    this.outer = this.inner = null;
    this.inner = new xe;
    this._invalidated = !0
};
h["zpp_nape.util.ZPP_ConstraintList"] = td;
td.__name__ = ["zpp_nape", "util", "ZPP_ConstraintList"];
td.get =
    function(a, b) {
        null == b && (b = !1);
        var c = new ji;
        c.zpp_inner.inner = a;
        b && (c.zpp_inner.immutable = !0);
        c.zpp_inner.zip_length = !0;
        return c
    };
td.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    modify_test: function() {},
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    invalidate: function() {
        this._invalidated = !0;
        null != this._invalidate &&
            this._invalidate(this)
    },
    __class__: td
};
var ie = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.dontremove = this.reverse_flag = !1;
    this._invalidate = this._validate = this.adder = this.post_adder = this.subber = null;
    this.immutable = this._invalidated = !1;
    this.outer = this.inner = null;
    this.inner = new Me;
    this._invalidated = !0
};
h["zpp_nape.util.ZPP_BodyList"] = ie;
ie.__name__ = ["zpp_nape", "util", "ZPP_BodyList"];
ie.get = function(a, b) {
    null == b && (b = !1);
    var c = new Je;
    c.zpp_inner.inner =
        a;
    b && (c.zpp_inner.immutable = !0);
    c.zpp_inner.zip_length = !0;
    return c
};
ie.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    modify_test: function() {},
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    invalidate: function() {
        this._invalidated = !0;
        null != this._invalidate && this._invalidate(this)
    },
    __class__: ie
};
var Of =
    function() {
        this.user_length = 0;
        this.zip_length = !1;
        this.at_ite = this.push_ite = null;
        this.at_index = 0;
        this.reverse_flag = !1;
        this._validate = null;
        this._invalidated = !1;
        this.inner = null
    };
h["zpp_nape.util.ZPP_InteractorList"] = Of;
Of.__name__ = ["zpp_nape", "util", "ZPP_InteractorList"];
Of.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    validate: function() {
        this._invalidated &&
            (this._invalidated = !1, null != this._validate && this._validate())
    },
    __class__: Of
};
var Gd = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.dontremove = this.reverse_flag = !1;
    this._invalidate = this._validate = this.adder = this.subber = null;
    this.immutable = this._invalidated = !1;
    this.outer = this.inner = null;
    this.inner = new nf;
    this._invalidated = !0
};
h["zpp_nape.util.ZPP_CompoundList"] = Gd;
Gd.__name__ = ["zpp_nape", "util", "ZPP_CompoundList"];
Gd.get = function(a, b) {
    null == b && (b = !1);
    var c = new qi;
    c.zpp_inner.inner = a;
    b && (c.zpp_inner.immutable = !0);
    c.zpp_inner.zip_length = !0;
    return c
};
Gd.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    modify_test: function() {},
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    invalidate: function() {
        this._invalidated = !0;
        null != this._invalidate && this._invalidate(this)
    },
    __class__: Gd
};
var se = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.dontremove = this.reverse_flag = !1;
    this._invalidate = this._validate = this.adder = this.post_adder = this.subber = null;
    this.immutable = this._invalidated = !1;
    this.outer = this.inner = null;
    this.inner = new Gh;
    this._invalidated = !0
};
h["zpp_nape.util.ZPP_ListenerList"] = se;
se.__name__ = ["zpp_nape", "util", "ZPP_ListenerList"];
se.get = function(a, b) {
    null == b && (b = !1);
    var c = new hi;
    c.zpp_inner.inner = a;
    b && (c.zpp_inner.immutable = !0);
    c.zpp_inner.zip_length = !0;
    return c
};
se.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    modify_test: function() {},
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    invalidate: function() {
        this._invalidated = !0;
        null != this._invalidate && this._invalidate(this)
    },
    __class__: se
};
var ge = function() {
    this.user_length =
        0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.reverse_flag = !1;
    this._validate = null;
    this.immutable = this._invalidated = !1;
    this.outer = this.inner = null;
    this.inner = new Md;
    this._invalidated = !0
};
h["zpp_nape.util.ZPP_CbTypeList"] = ge;
ge.__name__ = ["zpp_nape", "util", "ZPP_CbTypeList"];
ge.get = function(a, b) {
    null == b && (b = !1);
    var c = new Og;
    c.zpp_inner.inner = a;
    b && (c.zpp_inner.immutable = !0);
    c.zpp_inner.zip_length = !0;
    return c
};
ge.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified &&
            (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    __class__: ge
};
var Ze = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.reverse_flag = !1;
    this._invalidate = this._validate = this.adder = this.post_adder = this.subber = null;
    this.immutable = this._invalidated = !1;
    this.outer = this.inner = null;
    this.inner = new Wf;
    this._invalidated = !0
};
h["zpp_nape.util.ZPP_Vec2List"] = Ze;
Ze.__name__ = ["zpp_nape", "util", "ZPP_Vec2List"];
Ze.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    modify_test: function() {},
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    invalidate: function() {
        this._invalidated = !0;
        null != this._invalidate &&
            this._invalidate(this)
    },
    __class__: Ze
};
var Kf = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.reverse_flag = !1;
    this._validate = null;
    this._invalidated = !1;
    this.inner = null
};
h["zpp_nape.util.ZPP_GeomPolyList"] = Kf;
Kf.__name__ = ["zpp_nape", "util", "ZPP_GeomPolyList"];
Kf.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    __class__: Kf
};
var Lf = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.reverse_flag = !1;
    this._validate = null;
    this._invalidated = !1;
    this.inner = null
};
h["zpp_nape.util.ZPP_RayResultList"] = Lf;
Lf.__name__ = ["zpp_nape", "util", "ZPP_RayResultList"];
Lf.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null),
            this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    __class__: Lf
};
var Jf = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.reverse_flag = !1;
    this._validate = null;
    this._invalidated = !1;
    this.inner = null
};
h["zpp_nape.util.ZPP_ConvexResultList"] = Jf;
Jf.__name__ = ["zpp_nape", "util", "ZPP_ConvexResultList"];
Jf.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    __class__: Jf
};
var Pf = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.reverse_flag = !1;
    this._validate = null;
    this._invalidated = !1;
    this.inner = null
};
h["zpp_nape.util.ZPP_EdgeList"] = Pf;
Pf.__name__ = ["zpp_nape",
    "util", "ZPP_EdgeList"
];
Pf.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    __class__: Pf
};
var te = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.dontremove = this.reverse_flag = !1;
    this._invalidate = this._validate =
        this.adder = this.post_adder = this.subber = null;
    this.immutable = this._invalidated = !1;
    this.outer = this.inner = null;
    this.inner = new lf;
    this._invalidated = !0
};
h["zpp_nape.util.ZPP_ShapeList"] = te;
te.__name__ = ["zpp_nape", "util", "ZPP_ShapeList"];
te.get = function(a, b) {
    null == b && (b = !1);
    var c = new si;
    c.zpp_inner.inner = a;
    b && (c.zpp_inner.immutable = !0);
    c.zpp_inner.zip_length = !0;
    return c
};
te.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    modify_test: function() {},
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    invalidate: function() {
        this._invalidated = !0;
        null != this._invalidate && this._invalidate(this)
    },
    __class__: te
};
var If = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.reverse_flag = !1;
    this._validate = null;
    this._invalidated = !1;
    this.inner = null
};
h["zpp_nape.util.ZPP_InteractionGroupList"] =
    If;
If.__name__ = ["zpp_nape", "util", "ZPP_InteractionGroupList"];
If.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    __class__: If
};
var Wd = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.reverse_flag = !1;
    this._validate =
        null;
    this.immutable = this._invalidated = !1;
    this.outer = this.inner = null;
    this.inner = new Xf;
    this._invalidated = !0
};
h["zpp_nape.util.ZPP_ArbiterList"] = Wd;
Wd.__name__ = ["zpp_nape", "util", "ZPP_ArbiterList"];
Wd.get = function(a, b) {
    null == b && (b = !1);
    var c = new ki;
    c.zpp_inner.inner = a;
    b && (c.zpp_inner.immutable = !0);
    c.zpp_inner.zip_length = !0;
    return c
};
Wd.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite = null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    __class__: Wd
};
var Hf = function() {
    this.user_length = 0;
    this.zip_length = !1;
    this.at_ite = this.push_ite = null;
    this.at_index = 0;
    this.reverse_flag = !1;
    this._validate = null;
    this._invalidated = !1;
    this.inner = null
};
h["zpp_nape.util.ZPP_ContactList"] = Hf;
Hf.__name__ = ["zpp_nape", "util", "ZPP_ContactList"];
Hf.prototype = {
    valmod: function() {
        this.validate();
        this.inner.modified && (this.inner.pushmod && (this.push_ite =
            null), this.at_ite = null, this.inner.modified = !1, this.inner.pushmod = !1, this.zip_length = !0)
    },
    validate: function() {
        this._invalidated && (this._invalidated = !1, null != this._validate && this._validate())
    },
    __class__: Hf
};
var Vf = function() {};
h["zpp_nape.util.ZPP_Math"] = Vf;
Vf.__name__ = ["zpp_nape", "util", "ZPP_Math"];
Vf.sqr = function(a) {
    return a * a
};
var Ye = function() {};
h["zpp_nape.util.ZPP_PubPool"] = Ye;
Ye.__name__ = ["zpp_nape", "util", "ZPP_PubPool"];
var db = function() {
    this.colour = 0;
    this.lt = this.swapped = this.data = this.prev =
        this.next = this.parent = null
};
h["zpp_nape.util.ZPP_Set_ZPP_CbSetPair"] = db;
db.__name__ = ["zpp_nape", "util", "ZPP_Set_ZPP_CbSetPair"];
db.prototype = {
    clear_with: function(a) {
        if (null != this.parent) {
            for (var b = this.parent; null != b;) b = null != b.prev ? b.prev : null != b.next ? b.next : this.clear_node(b, a);
            this.parent = null
        }
    },
    clear_node: function(a, b) {
        b(a.data);
        var c = a.parent;
        null != c && (a == c.prev ? c.prev = null : c.next = null, a.parent = null);
        a.data = null;
        a.lt = null;
        a.swapped = null;
        a.next = db.zpp_pool;
        db.zpp_pool = a;
        return c
    },
    __fix_dbl_red: function(a) {
        for (;;) {
            var b =
                a.parent,
                c = b.parent;
            if (null == c) {
                b.colour = 1;
                break
            }
            var d, e, f, g, h, l, p;
            b == c.prev ? (f = c, p = c.next, a == b.prev ? (d = a, e = b, g = a.prev, h = a.next, l = b.next) : (d = b, e = a, g = b.prev, h = a.prev, l = a.next)) : (d = c, g = c.prev, a == b.prev ? (e = a, f = b, h = a.prev, l = a.next, p = b.next) : (e = b, f = a, h = b.prev, l = a.prev, p = a.next));
            a = c.parent;
            null == a ? this.parent = e : a.prev == c ? a.prev = e : a.next = e;
            null != e && (e.parent = a);
            d.prev = g;
            null != g && (g.parent = d);
            d.next = h;
            null != h && (h.parent = d);
            e.prev = d;
            null != d && (d.parent = e);
            e.next = f;
            null != f && (f.parent = e);
            f.prev = l;
            null != l && (l.parent =
                f);
            f.next = p;
            null != p && (p.parent = f);
            e.colour = c.colour - 1;
            d.colour = 1;
            f.colour = 1;
            if (e == this.parent) this.parent.colour = 1;
            else if (0 == e.colour && 0 == e.parent.colour) {
                a = e;
                continue
            }
            break
        }
    },
    try_insert: function(a) {
        var b = null,
            c = null;
        if (null == this.parent) null == db.zpp_pool ? b = new db : (b = db.zpp_pool, db.zpp_pool = b.next, b.next = null), null, b.data = a, this.parent = b;
        else
            for (c = this.parent;;)
                if (this.lt(a, c.data))
                    if (null == c.prev) {
                        null == db.zpp_pool ? b = new db : (b = db.zpp_pool, db.zpp_pool = b.next, b.next = null);
                        null;
                        b.data = a;
                        c.prev = b;
                        b.parent = c;
                        break
                    } else c = c.prev;
        else if (this.lt(c.data, a))
            if (null == c.next) {
                null == db.zpp_pool ? b = new db : (b = db.zpp_pool, db.zpp_pool = b.next, b.next = null);
                null;
                b.data = a;
                c.next = b;
                b.parent = c;
                break
            } else c = c.next;
        else break; if (null == b) return c;
        null == b.parent ? b.colour = 1 : (b.colour = 0, 0 == b.parent.colour && this.__fix_dbl_red(b));
        return b
    },
    __class__: db
};
var jc = function() {
    this.colour = 0;
    this.lt = this.swapped = this.data = this.prev = this.next = this.parent = null
};
h["zpp_nape.util.ZPP_Set_ZPP_CbSet"] = jc;
jc.__name__ = ["zpp_nape",
    "util", "ZPP_Set_ZPP_CbSet"
];
jc.prototype = {
    empty: function() {
        return null == this.parent
    },
    find: function(a) {
        for (var b = this.parent; null != b && b.data != a;) b = this.lt(a, b.data) ? b.prev : b.next;
        return b
    },
    find_weak: function(a) {
        for (var b = this.parent; null != b;)
            if (this.lt(a, b.data)) b = b.prev;
            else if (this.lt(b.data, a)) b = b.next;
        else break;
        return b
    },
    remove: function(a) {
        a = this.find(a);
        this.remove_node(a)
    },
    remove_node: function(a) {
        if (null != a.next && null != a.prev) {
            for (var b = a.next; null != b.prev;) b = b.prev;
            var c = a.data;
            a.data = b.data;
            b.data = c;
            null != this.swapped && this.swapped(a.data, b.data);
            a = b
        }
        b = null == a.prev ? a.next : a.prev;
        if (1 == a.colour)
            if (null != a.prev || null != a.next) b.colour = 1;
            else if (null != a.parent)
            for (c = a.parent;;) {
                c.colour++;
                c.prev.colour--;
                c.next.colour--;
                var d = c.prev;
                if (-1 == d.colour) {
                    this.__fix_neg_red(d);
                    break
                } else if (0 == d.colour) {
                    if (null != d.prev && 0 == d.prev.colour) {
                        this.__fix_dbl_red(d.prev);
                        break
                    }
                    if (null != d.next && 0 == d.next.colour) {
                        this.__fix_dbl_red(d.next);
                        break
                    }
                }
                d = c.next;
                if (-1 == d.colour) {
                    this.__fix_neg_red(d);
                    break
                } else if (0 ==
                    d.colour) {
                    if (null != d.prev && 0 == d.prev.colour) {
                        this.__fix_dbl_red(d.prev);
                        break
                    }
                    if (null != d.next && 0 == d.next.colour) {
                        this.__fix_dbl_red(d.next);
                        break
                    }
                }
                if (2 == c.colour)
                    if (null == c.parent) c.colour = 1;
                    else {
                        c = c.parent;
                        continue
                    }
                break
            }
        c = a.parent;
        null == c ? this.parent = b : c.prev == a ? c.prev = b : c.next = b;
        null != b && (b.parent = c);
        a.parent = a.prev = a.next = null;
        a.data = null;
        a.lt = null;
        a.swapped = null;
        a.next = jc.zpp_pool;
        jc.zpp_pool = a
    },
    __fix_neg_red: function(a) {
        var b = a.parent;
        if (b.prev == a) {
            var c = a.prev,
                d = a.next,
                e = d.prev,
                f = d.next;
            c.colour =
                0;
            a.colour = b.colour = 1;
            a.next = e;
            null != e && (e.parent = a);
            a = b.data;
            b.data = d.data;
            d.data = a;
            null != this.swapped && this.swapped(b.data, d.data);
            d.prev = f;
            null != f && (f.parent = d);
            d.next = b.next;
            null != b.next && (b.next.parent = d);
            b.next = d
        } else c = a.next, d = a.prev, e = d.next, f = d.prev, c.colour = 0, a.colour = b.colour = 1, a.prev = e, null != e && (e.parent = a), a = b.data, b.data = d.data, d.data = a, null != this.swapped && this.swapped(b.data, d.data), d.next = f, null != f && (f.parent = d), d.prev = b.prev, null != b.prev && (b.prev.parent = d), b.prev = d;
        null != d && (d.parent =
            b);
        b = c;
        null != b.prev && 0 == b.prev.colour ? this.__fix_dbl_red(b.prev) : null != b.next && 0 == b.next.colour && this.__fix_dbl_red(b.next)
    },
    __fix_dbl_red: function(a) {
        for (;;) {
            var b = a.parent,
                c = b.parent;
            if (null == c) {
                b.colour = 1;
                break
            }
            var d, e, f, g, h, l, p;
            b == c.prev ? (f = c, p = c.next, a == b.prev ? (d = a, e = b, g = a.prev, h = a.next, l = b.next) : (d = b, e = a, g = b.prev, h = a.prev, l = a.next)) : (d = c, g = c.prev, a == b.prev ? (e = a, f = b, h = a.prev, l = a.next, p = b.next) : (e = b, f = a, h = b.prev, l = a.prev, p = a.next));
            a = c.parent;
            null == a ? this.parent = e : a.prev == c ? a.prev = e : a.next = e;
            null != e && (e.parent = a);
            d.prev = g;
            null != g && (g.parent = d);
            d.next = h;
            null != h && (h.parent = d);
            e.prev = d;
            null != d && (d.parent = e);
            e.next = f;
            null != f && (f.parent = e);
            f.prev = l;
            null != l && (l.parent = f);
            f.next = p;
            null != p && (p.parent = f);
            e.colour = c.colour - 1;
            d.colour = 1;
            f.colour = 1;
            if (e == this.parent) this.parent.colour = 1;
            else if (0 == e.colour && 0 == e.parent.colour) {
                a = e;
                continue
            }
            break
        }
    },
    insert: function(a) {
        var b;
        null == jc.zpp_pool ? b = new jc : (b = jc.zpp_pool, jc.zpp_pool = b.next, b.next = null);
        null;
        b.data = a;
        if (null == this.parent) this.parent = b;
        else
            for (a =
                this.parent;;)
                if (this.lt(b.data, a.data))
                    if (null == a.prev) {
                        a.prev = b;
                        b.parent = a;
                        break
                    } else a = a.prev;
        else if (null == a.next) {
            a.next = b;
            b.parent = a;
            break
        } else a = a.next;
        null == b.parent ? b.colour = 1 : (b.colour = 0, 0 == b.parent.colour && this.__fix_dbl_red(b));
        return b
    },
    __class__: jc
};
var Gg, qk = 0;
Array.prototype.indexOf && (J.indexOf = function(a, b, c) {
    return Array.prototype.indexOf.call(a, b, c)
});
Math.NaN = Number.NaN;
Math.NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY;
Math.POSITIVE_INFINITY = Number.POSITIVE_INFINITY;
h.Math = Math;
Math.isFinite = function(a) {
    return isFinite(a)
};
Math.isNaN = function(a) {
    return isNaN(a)
};
String.prototype.__class__ = h.String = String;
String.__name__ = ["String"];
h.Array = Array;
Array.__name__ = ["Array"];
Date.prototype.__class__ = h.Date = Date;
Date.__name__ = ["Date"];
var rk = h.Int = {
        __name__: ["Int"]
    },
    sk = h.Dynamic = {
        __name__: ["Dynamic"]
    },
    Zj = h.Float = Number;
Zj.__name__ = ["Float"];
var Vj = h.Bool = Boolean;
Vj.__ename__ = ["Bool"];
var tk = h.Class = {
        __name__: ["Class"]
    },
    uk = {};
M.Element = "element";
M.PCData = "pcdata";
M.CData = "cdata";
M.Comment = "comment";
M.DocType = "doctype";
M.ProcessingInstruction = "processingInstruction";
M.Document = "document";
ze.content = [{
    name: "__ASSET__:bitmap_GameLogo",
    data: "aVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQXpvQUFBRG9DQU1BQUFBUWNXRS9BQUFBZFZCTVZFVUFBQURYMU5QWDFOTHA0Yzd5NnREdzU4bnQ1TXpYMWRQWDE5TFgxTlByNGM3c3JJL0x4c1gvOHNiLzhjYlcwOVAvOGNiLzhjYi84TWIvOGNlY2xwU2RsWlhYMU5PY2xwVEVKU1dxcGFPNnRyVEl4TU9obTVuTnlzbkN2cjJ5cmF2TVFUdi83OFRhY1dIaWkzWDUyclRVVzAvMHlLVUdUc2JkQUFBQUZuUlNUbE1BNzVkYUN4OUdmei9NTC81MGFJQzJtT2ZKcmM5THFaUVhhQUFBTEs1SlJFRlVlTnJzbmR1V295b1FRRnU1cUJBSTRscXVlUVJFLy84VGp6R1pJWUltVWR1Y1hOaFBNK2ZZNmVsWjdvRXFxb3FmU0dReDhNelNyL21KUkw0YmhCbGpBR09DRUlTUGFZUEk4SGkwSi9MTlFFQXA3YlF1SzhFQmZrQUhpQUN2eWxJS2hxTThrUzhHY2ZPblI3V0dkbFp5RE8rWmc0VnVqRkttNlNRajBaM0kxMEprKytjZmJTTk9Oc0NlZVhPb3VqeHRMSS91Ukw0VmlNdmVCQWRsQ0JHQ01TYlRrUS9pMUQyc09vNStJcEd2QkdJOVVxZVRYRlN5TEdVMUdmbEFJczBmaDdJZ0xqdVI3d1F5KytjYWF5azFyV3BiUTdYa2dUd1FqQjl2UkZ4Mkl0L0plUVBtYU4wdmxlbEtqcUduVGpkNlhKVTRManVScndTSjVzODhwcXNBOGxlZEVUYXFFL2xPWE93eWlXcEtodUIxYUNUYnVPcEVJa0dXSU1SbzUwNjR3V3NsK1lsRXZoQ1hKWmpGbEF4ZHUxWmR1ME5qZGpyeW5TQkIvOXpEdUUwWlJJZ0FTZFcvQkp1TSs3WElWK0tPYVc1QkJmbjdPT09jTWFHcFVVTWdKT094VHVRN2dTQU1kVlQ0WHl5RGYrdmRETlZTaUtyVXRyTWx4M0c3RnZsRmlqSFpYMERlODFyL1NpUFcrUmsxcTNYWGVQWTBGWEZGTy8wakozc0VqNVhUa1ZXUVEzWXNrcm8rL3ZqVWl5Z3VIQWU3bnB5dlFsVXpQaEMxa2dQR3BXM0hRbWtBcjNNS2hscGRDaDdWaVN3QjV2a2hTNjllL1ZDZFRUeFRIb2pMZHJ3ekU3ME9FR0h1N2VNb1IxNWlXaG5hVlRIU2lUeEVubWRwdjg0NGRsSG4rQk9Ddk4vdmxacW1GUjVrZ01STHZKbUtURlFlS0lHR25sRVkyNjBqTnlEMU5HbW96alorUWk0N3V6VERlVTcyUzAwcnplQjArcUF0OFVRNlRsVUVRZ0lZQTVnZ2hLSkFFWS9iUm1SUFVDZnhGcWJza0tNZDltdnVBS2UzcEJsTGhXRlllZEFJQkJHbnA4QkhDczRZanNGUDVNWFVLZXFRcEYrRU5nb0VnYjlmKy9kNXhNc2ZXTkNyNDZmakxJTVF5M04zZGtNN3F5V1BKNlNSLzArZC9JWTZJU2VCOGw5cU9LRENxU1BINm1nQWc4b0RJekVjMmFkVUcrdHl2Z1V5cE11SzRkVjhUM1hPRk1VaGg1dExDUnBKWEZXbzhUZHN3ZU9VSTM4bFVyMU5QVEZ2OExtZ0hKeU1LZW9MNzY3T21TSWptMG9KMnRQYU1vQ1lEVHJhL01mVnNCTHhidndKREFQV0F6Q0pjYytuUWJKalVrK1F2TDg2SjQ0SHRIUy81cURpa3B6RzNuN05TQUw5eW9PbVFzRm5HTjFqdTY2elpSVW5UWDBhV1QxTmNlOVVwNTRHLzdZNjJUcDFIRWw2Mng0L0ZlQm9yUUFFSVlTckxzeWwrYWM2SFlQQlVZOXBqRkovajB4WmpIcytDN3hSbmZ1TFJQSnNkVUtTREs3cWNsT2RyamdYWlYrSTQ0YzFmaWE3TFRHODJXU3FST3lDK3l6eTNkVXAvbjkxZWxLeW9QVFQwVGEwbzY3ODA0VTFRZVdCUUtGK1lRWENRTXdjZkFSekNody9USjMrSjBJTFNqOXYwbFFFK3BHUlpYRElOSGlQaGcya3czQjNBTUFERTk0aGlqUGdYNWc1QmJKWFVTZmRxbzRqaFhkS0NSNmtZME5xT3R5dmVUNkYxZGJ3UE54ZFc2djFaY0k3dlBGSDRvS0RLTStya3IyNk9zVjJkUnlIdFZNSndyTlByYno5V3BCcENJY2I5dUlJVFUyclRpNHBRN3RTTUhKam5MVlJWQXVBNHQ3dUpma3VkZW9Fclo5SzRKcEVVYkMrZEF3R0sxZXdvVU5ZMkVaNXJYUmlabDI1SEsrZTVHSHhVT2dWK1RKMTZoby8xcXB6Y3pRQjdOZVhZTDhXckZ6K0E4aE5BSEVvT2t4Mmd4RE9KY3Q3ZWFyWWdmbzgwQ0hCbTlUSlAxV2RPcDBwL1J5UGFRL1dvTkhVRzdkZmMrZWhOME9kUmhBRXltWnVzaHNpMklVOXdaMExLdDdkOHl3UVByMWN4ODlRcC80Sk9OYWJTT0hkVWdLbGRhZW1IU2dCQ2lYcEdMbzlUNmZqeEprVHVNT1pvRklBQW1lREx4TW52TzBQeVFyM3p0Mm5lRU4xc25vYlIzaXY5Tk9VWE5nSkR4U1Z3T1VEdlBSWlVBU25qRkgvSGdCeVBvV2d0Zmx6eVFqTUJsODBOakRzQ1FGcDRyM0Z6MVlIdm9FNjRZSWNKc3dJWVdVUW1SZ3JNSnA0M0VneWtabzJXcGZhMHZiMHl3cjRhWWhnZStqSjQ4bXM0blRFZlNCNWpsUC9IYzIycUFOWHF2UHpEdXJVMlozU1Qxc25HY0JDVSsrU2tFdkVnWGdYSEhlR1M1RVZBQU1tU3RzWXlyaVRMZVNVcmI3SXd6SDZKM084dVdkdlVESVRZRzlSNStjTzRLM1ZxZk9iZDRNb2ZhNGI1VnhhMmhqVG50bytyYnVhNmlSSldFcUF0Zkw3c3lGRUNEUE9BWGl3VnFHbEVremEyYkc0NlB3K2VUM0RudXBrNzYyT3Q2cVNhdnpXNi9wQ3dibW9wSlNWNElDY3hYR1NlS1VFTEZ5S1RwejBRY3g5eFIyTUlCQWg0b1ZHYmJ4OVpBK3lMVFBNa2k5VnAvQTJiTzNvclI4OWVTQ1lFT1J5eDA2U2NXcDZJblZ3QVlZSHJxcHRwMlZTRkJNZ3F0SUx2dUoremZFRWRRN3JSd3drdjZkTytwTHExR0NjSnBDMHZRNTF4cVFINUczdnd0VDBWQmZDYklHY291Y1VncHFxTGNXTXRvWjZIc2J4aUh0UTFET2s2OVVwN3FyenRCY2Q3cUJPOExrSTg5SlNveTU5MFZNTmM5ZmJ1M1lpTmMyNm1hRWc0Zjh6V2pDTUFhdDBNMUd4ZzNzelBVek1yKzFDUFVmeUVlcmtPNm1UZWdYK21BbXBoOTZjNXM1UGhzUlVhbG9FVlcyemQ3OXBUbUFQSWt3M29TUVRsWEJVeGtxY0hjanJXVkJVeDNIdmIrZjBLZ05lNm83YWUrb0EyYlJlUGlBb2d0TVlYaTFUeHErQ3UvaktkQnVVSFV5a0ZJWXlOaEpMcURleEtKYkFxOVZKdjBDZDhHZnM3UUgzWTY2aGQ2RHNtbmFVbW1ZMnVFakVxU1BiWUNEdkFDUVY5YStNODVZb2Q1bEN4VUVzWlB0VmtnVXZSd0NxcDhtK1FKMGFMVnJEeDRwaEppN0JVVnQ1WFc3aHJhSzRWS1A5MmxVQ2dWdi95L0JNSlp4cXFCVXg1UGxGWUYxdkNIYnliMVluWGF5T0E2SnpjTlJSeXRCRTNZd0djRTRkYzUxN1k5cjdNZ1RtajREaU9ORmZCZGMzZUxvNnhUdXBVOE9WNnJpMUJ6QjJManZETWlnbENOVUp0WUxNZXRzOEJPaU5OcnZSYkJDRTRvVUsrNFE2UFdTdE92Z3IxQUhyMUhHNDBUYWtDa3JPdkZqSDBYRTBVeC9kTVFTQmQ5cmpmYXhMYVREZXcyTDZZSWRRcHlkYnEwNytESFhTZkhRNzNEQzlOM21tT3NjTjZvU3pxQm8xR2VxRWhRYU5CdTdpbnRhTGdpQmlKVFh6YmRxRE9BUndxUzA5WWJVVXNZbDBEZWoydS9ISzZzd3NpZVNrMEpWQllJRTZTVEdRTE4yeGJWY0hJbGJwd1o0dzFBbHpDQklnMklPQXBGT3pQMG9iV3VPMmdjTzNvcTF5ZHpGYUdTOHlYYzZocnJma0NjQVQxRm4zTFJDNExFSFp3NStZd212OWl2bytZS3M2RG9qcldrcDl6bG0zMVkyT3o4dXNEb3dCTHpzMXNhZ2c0WW9Qd2dvRmhJVnVsSis3TG1NSDlsS085VTNReWtRWjNGMmQ1TEZMZnJQaXNQcDdreXhadkdPRDY5UngwcDFLMHhyS2tEZG53UGp2K2xERTFnU3pQNEw5bmFlV0d3NHl4dGdLeCt6Ykl1cmI0TFU1NXQzVk9XNm9kMzA4MTR6U3BiV2xHOVVaS0RtR04xdnBYT2wwZUl3YUZwSmVxK1dHZzB6MGZrZDNObGZoT05LOTFEaytuSmZJbG1jd3RtdnJnTW1DOU4xbWRSeEZsaStkTFVvNW1pZ1diYldsUmdWamRVS2FNcFpYYjM2TEhNVmU2aFR2b3M0UHZCWDBaTHVwMDVPa3c3dnNOMzNlbkswYjlqVFFrZ3VwVC9aUWh0eE5QeE0wc2I1NmU4T0JZOTJwVUxLL09tQUhkWllmZlIzM1VzZnBRL3piclc2Tk9aeFlvVHFPRUFaY2xwUVJmSHRHS1JVeFY3QzFDc2VScnpLZzJGK2RmQWQxVnVSUzlsWEhiWm9oS00zZEN4VGNmczIvYUg2NEg4SDFhZCthNlhzTmpGZVp6b0hyZXh5K1J4MFgxeTJJZDlDKzZyaXZSRXlidTZITzFQbHBSZjVaNE0vY2FUcEx6V3hMM09BYllJeUJlSlhwbXVibDR3ZXFreStPbnZMSFYrVmlKM1VnWW1WelA5UnhNME9jVURQSFE2MlZuQXROVlZEajQzcjNTdDExMXVxeVlwOFRCdVdIN0F3Z08xVGhPSkpWSDVCK21EcnpRbVJQVXFjbk9KRlJhaUxVUWF6emhacWVpYUNzd0FpZFBqVG9XQjNFNGFYOWU1V3BhZzM5aUg0RmhOUEVqeVRYZ2VyN29GWDNVSCthT3JjQ2tmM1ZjWGROWFpXbnRWUWJMOVJ4TTk2QzVwNXdQYUlsUUVNeHoraGo3SG5wSXF5azQzVDQrMThERFBPa0Rrbnd5aXFjKzRDdlVTZGZzejRYNjlWWkhpVkJCQzVERVJ0cXkxSzMvczVzZWhEaTlIQVFxemsrMzY5Ti9VK0JoRnNUREQxNDYydUFJWmdOVGhLeVI2alRrejVWbmZ4VjFVbnJhWkpucWVNaUVDNHFYUXFHV2FsR0tnRG8rOUhUYW9iZ1pJT0NHWXFtT1dPeTg5Y3V4TSsxY1o4eWp3cUNvdmJZNms3ZHN5bllnVitqRG43VWlPT2U2bHlHZ1pMelpFU2hnbEFuTE5taEpSc3U3SFhYWVRtVW9aM1ZtbDUvakNSd3VDd280RjJ2R1VHSCt4SDlZbmRJL1Fod1RjL0J4Nm1ESGpVaTIxa2Q5MmhTU05vb3I0c05DZDhQYXN2ejJGNWNxdW11YTNYOXV4SjdPV3kzSHIzaGpnM2k0OEtYZkh1bzQ4aWpPcmRlN1B4L1VzZlZXUnQxTmJjTlZTWnd3elNVZGdMUER5MFlxNE5PaTA2SWVyK3gxYzZiZXlSd2U4TkJTQmJWT1pHOHBEbzlwN01YYWhxQnZRSTJEOE1lVldmdVhrYjdYc0VPU1pPMUkxcnVVei9FY1JkMTZuZFRwM2hWZFhwS0tmNjJLU0JHNTJvTkhsTEhTREpuSDMyamUwWVFTT3Bsa0RXaHpvWUtVQkRWT2J5QU9pZFNnQzUxb21hbVBBMWN4enFOVVhPRFAzeDFGTzFzUjlzL3pidXNPdkJRMUl0SnRvYzZJV1JGejhIKzZoeGVSQjEvUHd1ZXJZNGpTZjlqNzJ5M0U0V0JNRXcrQ0NSTFlhM254S1BXbHJyVis3L0VUWkE5V3h5SVRBSkszSDEvMnhKSkhtY21tWmtJYTNhK1RyM1dSSWpYVStlMlJYTkFkS3FoYWJsR3B6YjVPaSttYnVGSEdVZGFkVTYxbDBSd3dRRVVXeVE2MlVMUnllK0tEaHdOVDhzK2RzNWxGNG42ODdVczEwMllkS3E3ZXdIVzU3dktPakFTVVRUK1NEUHRLeGtjNmtEUlJhSlRQUjA2aU1OVU1vaE9tMFJUOTlUeWRFOUxmMzJXUXRpN1NqdjhtTU1ia0xCelNXdUxvUEtBTTZrRHBFSVhFQlJaSkRwa0ladlRkMEFIbVkxcXU4Ri9kb3NKV2lSV3B5dDJVaU1sbUMwanRmeTBTWjVkaiszNEdjZW1OR0pIRFdjaVFycHFjanc2dmxzVTZmaG5wSk9uZno0Sk9nMDg1ZXBiS0ZQYk9oeDRUYzk1VlRLaGxHSEh4REttL3VDbnllN2g4UGJyY3d4cEJJem9VQkZjcUJONEtFcW43bFdOd0RPN0t6cDVUT2kwdVc3R0ZmczZtM29iay9IR1VsaDYzYlNrV3IydTEydmJDWFROVkpxMjRZenFaTHNkRjM4V3lqTUF6cXdlbXg2dExMVFNEZW1GNGJ0L3pvOE8xUU1TaTBTbnJmRTA5c1NJaVJZSm1OWlpuMzRaMlkzcVgyWDdvZmpNVHFhblVSRmFXdzBsUGRIQnIwU0tlVEZFZWFPRDkzWEpXSlBNRjRKT1gyc0JiZ3NNb09EMThHb2RqOWxSZWlwVndRVUhVTk9qUThaem56a0NPNUhuYVc2VkFVa2pJcVVhajQ1RTBPWUl1UmFFRGhCbnByR09vNVg3dDFMc09wYWthYTRuVTNCdE5aU2FIQjFFVkJWbWpoRWNFSy9BTUprTW5XcCtkQkxZd2hEeUFXOVFPQzQ2YVZwUEp1N1BxaHlZRW9aRngzdVg0SkhvYU82UmVDSDkwUWtvVjZpOGo4U3ZlaEZjOGNIVFZtVW4yS2tYdlQrdGc0UlA3bUs5MWtVaG93QTU3ZjNWY25KMENNWTdacGlYMVlvK0JKM01mL0pUdGo2ZmhvSWRaVTVJZjVaTm41eDRrcWIxWkdMZW9RNFpjdU1JRWgzaTZadlFBSFF3RU9NY1UxNjQzblpzNk5qbUlHMERLVmh1OEhKc2Fudk90b1R1dTg3L0JqcVpkNmhEQnpjUE9ESUU4UHkyNHNIb2FOb3pBa1cwUXlvNmROcHNBMmg1WGxWYS9nMkUva1YwcUhjYktUWG95K1JJZEZLL0psWjhjblF5OU11V1ZaYnpiL0Z5ZGNNaGpBK2RDenlyY3pkdittaHlwanZwQnY5Z3JDTVJvUTVjQmdTeEFyMXZYR05ENjNBQjZGeEU1RVg2aG1pVTZMUzlQVmVmcGkvVnFhN3JrNzBUOGFYcDU5Ri81clBvUmxKM1JvY09MUU9LK3AvTXRXTHhCNkxMUVNjZ3NDUys2TEJaMFlId3BEYnZjLzI2V3Bsa25OTGV4TnRtNnNUV0RPZk82QkFOcFJ4SkJzaE5adXAxcGlTbVJ5ZWYveVFnUFA3RHAvQUlYM1JnWHlwaHBWTE9yMXExUlpOTmNIczJxMHpralFRTlIwZHBLT0k2bTFXNFlST3Y4MThlSFRvMGVRdzZlUkE2TUZubmUwTjNvUHE4N0o2NTJpVlNjT0R3QktGVERDOERndHJ4Smo3bnNtS0l0K2pRU2VOSHgwcFZqQ2REblEzcTh3TXZyRXJ6aXhRV0hjaE5LeGFJVHFXaGhBdExpc3lFRThoUVoyK2ZNUU02YWxaMFpQSWM2TmgvSjFudmZiLzE4YXQ4akx1V0ZwM2FOWmxoMFNFNU5sMVVldG80N3FLU2hPd1R1RTNWZnJmZGJMWVd0eG5RbVRld3pKOElIYU1xdDduVngvcDdZOTJ2OVV1QXpSR1pVYUh3WmpDakdraW1xTm1rdmxsVitGREhEU1hIbmRESVc2YzZoNTNWZHJ1NTZOMnVrTmpRa2Nsem9kUGNOMk9QUzMvOE1yTHRxRjlMNW4rZkc4OTBLNUp4VklzQmdrcVVRZjk0a3dCME10ZWpjSFBpMjd6dFk5T1JIWGQwNk9UZWVYMjRZU0VTN1ZWd3lRdWh0bldVVWZuQzJwMDNQd25TV1Y1OExEY1Z0dUVUZXFPS0JhQWpYZXRBb2lDdUhNdks5U2R2SFhLc3YxYTQwTmt2RUIyWjNBa2Q3RWZ4dWg1cm9WS2pvQ1k0ek9NS3FMU1FIdnN5K0xJMXJTZWRJMmZrajdjSmhmdnBoMDFIMWw5VHJpZFl2SFlIUFY0SDE2aDF1SVlIWE1XUGpwR2tMQWtSMDBDVSsxN200VFltK0pQRnlqdjlVemhudHBqa1VMUnlPOVk3NEsrUnhJMk8xZHQyTjRLZncvdUhzV243dWRHaGp2Rk9pZzY1Tnpwd1V3dXZxb2NEa29iM3VoVUpFSjZDd2hzZDZ2eXJmSkpEVWUxKytoYjRhM1FFT244QStuamZRdyt1Z1diM3NXMWR3ZG5SNGZkQ1I5NExIYWdrUklJQ2RwUWZOKzZYZ1Q4ZHliM1JJZTdZQkZjR0pMRUJLK24zMTVnTG5mMm1SOXV1T3RIVENIUTJXNFBnSWNEb1BCSWRFZ0U2Um96Y1hoVjVGZWdtVDllUHN2Q3FyUWJURXVDZjdGM0RVRDMrbWwzQTNJME9XZ2ZIb0hYSEI3UVdEQy94VUhSa0hPZ1llTnl2VFZHTlZEWWpPcmxQaHE2OEdVU1IwY1p2dTNsM0JEdEZ2NzhtazRuUmNWbGdEWDFBRTBYZElPaXczKzJNUDdqOU00UC8wUmtsTGdFN1FYY1NrSEdERDdvWURSL3F1T2QrbkExNzM3NWRXTkN1VVc4NjJ0a0JQQTRkd0JCUXh4M2NnZ21jQ2gzNWpPaUFGNklTSzFWVTJrOThQblI0WUtpVENCeVNST3Q5SXh1anR3dlFVZWpmOEFWOUszVnZkQTRiaENEcC85SHhiaGtwQ2lxMXYvTDUwUEdxclI2Ukg1Y05HN0h0NWtyN3dXQ0g5ZmhyN2xIVGhqVzBYQUdKeHRJSVVKZlBoUTRaZVBMaUduUWFGYk9oUTdBRkIvQWQ0ZDZqc0ZIL2xUNEdnNTJxMzErajdxKzUyNkRsc3BSNGRHRHV3MlBSb1JoMC9KKzh2T2EyUFQvaEhpT1hmbCszMGxBMHdKenhIdWZuYmZEenV0OWZFekdoMDhDZVB4U2RMQzUwRXFZbms1d05IZXJqMStZUUxxaDAyTnEvQVo5bVlIR0pJWDh0S25TYzBWbitRSFRrVXRGSjZHem9LSStSRTRjcmlMU2RmTXk4aU9HMzhqRTJsS2I5L2xvVkdUb043cWtEbmJmZjdKM2JrdG93REladHg4UjJKalBjTEdhYzQvdS9aVHZRZHJkSVNpUTdnU3l0YmpjTEJ2eEYwbTlKbWFmLzZJQzMyQVVkbjdGeVNvQ1FwenA2emJ1TzQ0SS9xMEVJUmgvVmFEeGVhemRISjIyTkRxeC8wRFE2NDIwSmQzcjZ2aC8vby9PcFRoMEFIUnRSeS9tVzNNcGlwcHRyQ0FzTFFXLzZGdi8rRW5VRHB4YzhaNktqRkN2aGt0dEFhNDRlY2psL1UzVE9TbUFDZVdwL2RFeEdVNkV1VFhVZ2xHTmFTVWcwSWs5UGFJVFg0dkdhWG90TFV5azZFT0R1V21RZEpKNUdwMk4ySUI0TkhhZlU4VUkyRmpvdWcyS1QwOFdMNEpYU2ZEL25uRzhTd0xEa0d4d2hUeHR1dk9iV1dFLzRvWDhQN1Y0c2t5QTZzTzJoM08wRUpqclQ1dWkwM3hBZG1HWFRnMWYxcnVpY3M1NXo0RGllS3NETkdwYzFKU2hQWTY5cmlYak5TOUZKa1dHN29uT2RxSVY3K09MOTV1ajRiZEV4REhUMlY5bUNjLzRFQmh2c2dFNWVHWTdtZUNvRFU0RitDY3RJeU5NblROMUhBaDhsUmFkN1BUcDN0L01tNkxoU2RNcVZndEFDSjdVWE9uVldxbU5abnNxQkhiNTg1SDhtNU9rS1hJZkdhMGFNVHY5NmRPNXJhRmpveFAvb0xMc2QzVnIyb2d3SGhFb2VyN1hDM3VyYjhZUEZya29Da2FnbDVHbUR4V3Z3M2wydm9vUHBkN3IxM3Y2WkVmbHB6amtUd2lvNmN5azZpVWd0UFh4eGVodkNPMWJxajROT3E1N2lkb0tYSEZ4V25MVjcrU3BPSXU2N0FVd0ZBRGRPenBsL1E4blRDTGVBeUpVZzB5UG9ET3Q2U0dQMEFqcTRhUGR4K2JLU3krWFN0aCtyelhUSXE4UDdnd0NkNGVmbGMzOFFkTHg2aHR0cFpVNnFLVVhIY0lWNENQS3ZucTZiZHBiSVo4VDBBcDFBUlVLZWJ0WnFvRWV3YUE0NkNmQ09tYTNkWXJjZHNJdUNkbW1YOWVtYWdVN2lvdlA1bitsM285QWtRdWQ4Y0hUUUFZREN3amRWaEk3ZzZXdlFWMDJQKzlzVFFaS2dTTk5nOGpUNFdvaDRyUktqMDVYRkVvNUFoL0IrbHc5MnhGYU9UZ2MrcWdRZDl3M1JxV1FIS2VkQ2RLek9iemhJSUtxQ0Z1RGVtcForbVlvalQ5Y1JYRFdESUpPTGp0c2VuUTk2MGhFM1lpdEhaM3JrOCszUnFXWG9WRHgwcEZKRnhZblhIbi9VTTZGQkpNR0orSW1TcCszRG9qdDRpVmFyNlBSUTNQSjdvZ1BaRVJ6dGVQQmRkQUowZW9pT2VSOTBEUFltTW5Sc0dUcUdTaEtsOFZwSFpHa08xd2swelNRaFQ5ZnI4WnFSNzZleEhCMUkrclZWdEFGMmFHL2lnWmVVb0RQQzkzRFVEV1hjR3gyMXRRV01CUkU2aGdlREZjcmpuaE92emFDdGhvZk9zUGd4RFNWUHI4ZHJqUnlkS0VjSGRqNkkwTEc4VTlGeWRDSWZuZTZheG0rR2poTzlTY3ZhNDRHLzhsT0l1QmtXOUFPUzZuRFU2ZXNpbkRXVjdJQjREWmJ1aTlFWkN0RUpPRG9YdFdBWGRyTGpOa1ZuV0VEbjF0and4dWdZTEpzdlFLZU5sRm5PN01LSk5RRE5SN3dVeDlFdlRRejNhTmJPUTQwY25mUUNkTlFIbGV3MEVuVGtPUmp4bnpkMHZ1clk4eHhqckw0Zk9scFVORmJsbzRNK3RXY0VTZ1d0azgrc1djODE4QkJyM1p5QlNIYmF0WGl0WmtSWDNRSFF3ZHpPREg3Tlo2RmppVy9sKzZFVEpBY3dtcGsvYVdUK05iUit2azZZM2szb1pnT3NNeU56SGJoUDlGSmMyaSsyaXA0amdHdGl0ZWJCcGN5dlFFZHhkUUlYWTc4N092NFo2SVJub0dNa21rSk5YVWFYSEp3cVo3QkxwdlNuQXQreUJ0V052TWt1bWlyMFYrSmFIUHNsWGh1d2VFMk9UbGVJanNiN3ExZUttRDZZT29ISlJxZDZHVHIxNjlCeEFuMHQ4Q3ZkZ3JuVk11Si9IS2YwSlZsdGVFTVlPOWJ0dThMVTJ3SG9CSkpXMGVyR0xXU3h6a1RIcW55TE9EcUtNbHFmeG9LRGtJMk9meGs2L25qb1dLNkVISVUyZGNQbkQ4UE1EdzE2ek8zZ29oMit0NVpyYWMxeXEyZ2c0aldXaTVqaFZsUlBSK2RDTlI3c2pZNy9GNzJPMWR6WUxncXM3OUxqdmZ2TWpGTkd4SkhVZUVLVjBIMWlsTFFXSjM0V2VnODVwZmkzdFJ3Qm5ST0ZqcVhRa2Q3Y1doeWRpby9PYWROYzU2eTJOb09nd3laSDJ5SjB4aHMyb0piRk1sdkRKMHhkMWU1bTUvRFQ0czNBbFl6aEZKYXF4V2wrNzRvSm4yVW1SNmN2UThjU24wK3RHRlU4N1ZubytHZklCR3BUZEp6YTJnTHpUUnJOUC9IbkJXbHB3UFhSUmpHc2xmVDRqd01oeFNwT3NnTW5HV284WGpOcVozVG9KdEhkME5ILzBTbEV4N2FTRS8vVkdHMU9kSWQ4dzlhVjRLRWVRZWxBU2JHTmt0YmloRDhUTVpIWnV1K0FUZzBXUE8yT1R2VTI2QmpPMmVYYXNGVkNSd1BVd0tkd2NzemlBWDZIZ2JPQWFhMmt0VGpSb2sxdWlWR0VRMEEzSFFzZEI4LzVkMGZIdlEwNjRkSGphRm16dDBlWTZkRUFEWFp6SURUU3BRVFEwcVBqNmNDYk12TjZLdG1wbGNWeWZZSHFkTjFVSnFqL284TkRwMzRHT3ZFck45VlovTlJqL3hjeFhVcUpOOUJvak5FSnhBMGNpaUhOSXhUdkNEMHBLSEV0amxFdDBYVjZlaVk2Y0llV281Tlk2Q1FKT3NOeDBQSDdvUU1COWM3b1NKdmp4eEE4ZEFSZU5lc1pnS0ladDQ1SWRyVFhlQTlEVVBub05EdDN1a0U3bGFGVGN5dW4yZWpNNzRGT2RBNlV5akNFOHRMeFJpUGJxOVpaYklyRzEzaWlGZ2M5SitMVytUb0NuZXJwNkZ6SzBIR1o2TkM5aU9sTjBPRlp1eFIrcDZ2WUpqWTZKdXNOZUlFSFRIYWdoRGVpM2RmWlRjZlJxR3d6MjZFenM5QzVTcnBFSVRxZWgwNjNPVHJOa2RDSnVtSGNDUG1XMkh0SWczMmRPU3UybFNVN2M3emJERi9xckFyUTBZVy8zeUJHcDZWa2dtcExkUHJYb1pOR2tNQWZCSjF4R3NFWERSTkUrV1ptejEzc3I2VUdwQTVlc29OOHVKa3I0SnpCd25HRXkzc09QcFNvY2hwcVp6UTZJeCtkNllYb3BQR1E2SFRENzIzVWtsRXUyK1FETHRxc1hJcVMyT1RKem5UTlBKb0pHUE5sa2JqT1FzZGVlZWcwQ0RvOTlMRjBWeDlFaHoyeUtCU2hjNzBPL2VIUW1kTFg2S1VtYjRSeTY1Z1JXeWhJZFdDdHMzUUlLTVFXdUMvUjR4REhvb25JTVF1ZEM0bE9BMHRra010QzNvK1VjSFRDSHVoOG52S04vWFFFZEtZMFBFem90eEowMHR6ZExTWHNyN3lvMzhyUnBIZEtUckl6Z0dVejlRMVV0Wi9BbUc5b3pRL3l6bXk1YlJpR29xWldVcU1admRqMGFQLy92K3pxdHA1TDZBcUcyYVl0WHBNb05zVkRZa2ZUdGtYNExJV0FEb2hDWDRPaUE0Nk8reXZRSWY0NnF6Z2RONkNseDBKUVN6QldPYTNQNWhMK3lybkFZdlB5OEV3MFhFcWRzYk5RZlkyakkyWVB1UllBckh6WnRtMElvdDVSU1VONDJhV2pSd2NMYlBsTWgzOGFuZFBZN0V2NjNJNzFtUXFTWlh2aVJpNmk2UzlVQ29PcFF3SVUxTmhaazlrbHNUQ2dNMFlpYkpTUkhwMnJaR3JHd05DUngwa2kwK3VmUTJlRkZLL2M2RWhKbTRnTlhqc3lPczlqVm41VTBrekk0aWtETkJwYzA0b1pTNVZnN0t4M3BxL3BZc1ZMRm5ScTRwa1cxbVBnNk53RkU1ZDM4THJ2dncyZG1Ud3RQenJ6TnNHckJ0VmZPRnZ4WEExdDZiOFpGL1VBSjhQcGk3VXpaT0dvZWtTN3RMRXo2WkxRK0NnY3VKQUZXVmM4V2J3MCt2M0drM0RZQ0hoRUIzdll5WGdLdXVubG4wZG5uYkUrQUdWSk9WYTdORHB0ZHlLQkU1NUdrZ1ZOZ2dYRnZHWm53VSs5Y24yTnAxbU0rd1FEMEtEQ2FVczFlNUpXbytMa2tPUTBRSWU0Mk5EaC9JSFFHYktnTTA5UFFqS2RhWjY2VDZHRHU4c0p4ZzdkaHM3Z21sYWx6emRKWTJkVzZHdmFOSXRsSFBmcFNmYnh5YVVwbzROeXE1TGc5SWZMMFFub0FHT1ZJdUdEb1FQTFF1TVVQUEJNNTdEWVJYK0VZKzh1aHM2VXNpdkxsS0l4RWI4bjlFQ3p5STd4RkQ0c1pOc1RUekdrYW1wRTZNNHB2c0JyZjN0YTlocW11cEU0RjZCRDhoK1lWajNMNkdBQllHdUp0MHkvQlIzOXk4UWU1YWlXVUNBNndkaGg1MWxwTUhYb0lETnU3SXdLZmMyY1pzRWJ1d2VlcFg1OUNQNElUVDgyRDRqblllQzRTSTRPTHN2ODc2T1Q2STdScHRBSjVEL0R3Y29TUE96Q3g1Z1BKK0pIaTZJQU1kalFHUVYwak9vcjV2UWhPdXJ4ZFM1SnRMRGMyZEhaUGlJNjBFVVQwQkdoSDJCeHdkZ2hpckZWV0c1VG43emZjQnRWMmRCQlYxNGVkREJDak9oZ2syRGVoT0dEb0RQSFdINDRkTzd6eStqMEx4azdIVEYxTkRLVDA3TTc4YTgyNHJ6SmpJNnpvb09OdkJBZGtJMWRPMEhJRnRHZzAxdlEyZW5NU2J2d2wzbnQrOXZ0VnQrdTR2dnNoUW9TUUlkRzYzblh4OVpvNnFDTHpYU3VMRVRESkxGaUxla09IbWxEQjcwRUhCMzBEdkVBRmhaa2NYUzhKZDR5L21sMG5qMDBOK21lYnhFZFFkVzBHenZPbE1ER3lpTHgvSnI0SStyZmhFNXF1MFpyS2l6bUVpQTZLTk94eXZhemZRUE1RL3dQMEhrNE5sa0N4MExRQVZXVGJNejVXQUdxb2kyQlRlZGlLK2dOdDhGMnpvcE9BY3RoUUFmWG9wZjczZUZibDgrNEFqcXVIanE2Nm44Sm5mNTJQbTBRMEltSWpsQWNDQnVUcDdXVTNOUlo5bW1iMXpNOTRCWVlpMEdDb2lpYVNwczZhbTlNT3NuQjI5RGhYak5KUFI2QkhXalVqaklKM2RyL1duUndhU3JWYUltWDBmRXBDc2JqSXByaGVLdU0weXhtNHlFKzZHTGpHYUJLMHd4anhTWjBlbmlrd2ZUREFCM1JwVEJydmtoc2xSSVVBOWdISEoxb1FRZjJWWmF1SGxYaVF1NVZqZSsyRkRvekxwbkMyT21QbDJXVGJwczVIc3M4d3Jza2krcHdyNk5ETUI4NmRQeWJ0K2lBNkc5bTZHQnhxeXN2NS9NYjFqem84RXJJTE9VNkhsYitNT24yeWhYWWlxQkRqUjA2ekhSUHZmcHhqbHdtd0o0RU5BZXlNVmROcWxWalEyZExZRjRhMENHdHRSZzZ5M2VkMlBYMXI5L1J3WmVFSFp3WkhmOG4wT0dsSGoxSHg1OUhwMUFiTzYzZzlkd2lGOXhrZkVKWkQyL0JNSHVzVmJzNDZFaUUxb1lPYjlRUVlBR0FuUmhkMGZvdjBoUXVIbnpIOGQ5SFIxR1phME9ua1l3ZHIrbi9zdXhyakFwME5FUGtQSkJLTU0rWS9Sa0ZkQXdYR2Urc0ZlQVZnYjFEcW45NTY0bm1yMFZuTXFQakJYUllrNmdLVGloMDJmRktmQURIdFczanZhOXhzaFlXZUxJV0ZmQUppYjZXRjUyUUFSMm8xVkUwSHhyWENESWZrUlo0bE51T0R1eVI1UzlCQjkrbXZBNU9TSzhkcUxXQTlja2hmRlViWk5VTERpTjBzZkZQS0tkK2NpbE02SXdwZEFZRE91aGZvOTBGK2NXekhvOVBLa2hwV2g1MHhpem85TGp5MTV6bzRHYlNhRUdGMENyZHRkMHB2MHRNdW9scVJWQlVrL3BwVHRYa0E3cUR6WHhDZlkwUElUaFNsN2ZEWDRVaE1ESTZpd0dkOWplaDA3NERuY3VyNkpTd2x5Q3lRMDJkVFk1cTgwVEptYm5ZeWlOZGY0VjdJR1AyNXdUb21HaVVod2p6V2pjTXBuMFJpRHVMZHpSSFozdzNPdUVqb3JNWjBPbWtEakc5SEk1ZlNiQ0FxRXRLRjFzSGYwUSthRlowZkNaME5qR2Jzek43OERnT0lZMU9aVUJuKzNqbzlIZVFPVHBRdndrNk1PVVZZQmhrZTJYaWJodjVqMVBWMGJGUUY2RHJVei90cVpvenJxSTljWnJQVlRVbituQkZQTHovMXBuTTZQZ3Z3bkw0OTdzSm5UVUdXQWlDRG9RTjVCQTlVcm5EL3UwMXNYeDRSV1JaZzN6cWJzcnBIcmFrbVRXMTgrS3IxVXRvTG1acG9zS1h5NDRPTHlQZUtUclM5RnhYZERJNnVEQlhYZHZJWk9MMFR0QUJCNDZRR01ZM3luWjJqV3NSbmNoZWhIQld3NFdWTlhFNml1amNEVUxIZmd3R1B3U3hEQWs2elR0YkV4Uks5bjZLYTk2RFRsS0RMU1gxbTZQVENCMVhoQXpiZE96TXNuT2g0enp4Wk5EWGEwZEhCalZrUVFlYlE2SGxZQkErS3RhbDBTa3NSYUt2ZC9Wb2hJNnJJRUdGemkxNTJmc1Q2TFIweUJTUE5MYVErOG5VV0h4RCtLK0lhbENMcDY1MjhrU3RSWWVIZGVxM29MT1JjZVR2S3dncXlaRkNRN1RhRVRKNmRFb1kxTjVjRE9pUUZEWllDQUVkYVQ5VHJWaTJvdTQ3UEZwWEx6OUhWcFlxbnJxUXc1TTFjWHFIL1cxSW5FWW5RWlczalFwTzZrWjBNTklhZ3YvTjZGUWhQa3NyTEl3YW5hUUc2d3pvUUg5VkNEWENrNEd5UnFQQzNybDNHbGRvSmFkb1RuUXdyR05IQjdNNGUyWTZtQVRkSEJ5ZGg3aWhiWFMxTnU1MWRHcjNDTzErU3pFYUhpYTNHWjFiOHNncXlBWUhMUmM4aVNRQ1FFeWRXdGxBRUwzVEEvdXpSZGpMZFU1MFVLdnlHZERCSEJ4KzR0aHROWTdPczdoUXRJMnZWRVdpK2paczNYZHdsdnNDazNKdDZGUnBQYUpuNkl3SDZIalFvc1JycWdYbkxrbnNJM1cveER2Ti9BUXI3amc3T2p5c1kzK2tzaXVRZjEvQ1FpRnZXUFFWUFFwK0FTSHZ0VVdpYzR6TmVYTDJod25jWGQ2R1RwOCtzem9ET3RCQkdwcGxFRk1IZjVIdkFVd2VaUXM2a2EyZ1FOZXM3MkRtaHBtYzRaeDd4WXhvUTQ4VTVDZGRNUitHdHZTVmpJNVkyTTNKR1I4ekgrdUxCUjArWENMR1NQeWxpQTRQdWUxaURHTW55Ympxd1ZDUnR1MVA3NXdkRHV1OE5RZlJnQTRoeDFYVVJyU0hYVmRZWm9JT1hrQW9vZWg5WlVRSHlVRnZ2UjRkVGc0MnBmTVVIYnhMTmlrREZML2FRcEp4V2U3MGxIU3hlZWF4SWJkQUxuVFFWTERYbmFKSjRlbWVzb2QyUnJDb0dEckl6eWYyem0xSmFoQUl3MEFPd0ZTcXVGRXNFako1LzdlMGpLNk0rNGZwNlNHNDY4aC83Vm0rOUxrN2M4SkxPcHdYNDZQVHB3SFhtTHcxN2k0cHdsdUR0dVVpZEhRdTJPbkEzeWtkSnN5ak0xSmYzWEQwbEYxVmRQRHB1VE4rU2J5ZHJSazk1MFcvbFdhc2JHRHhveEVkZG9ldzhyKy9FRE84dmhKMGhpL1piK0ZRaHM0SXRpU3p0VjFsS21jWFhqV2ZuNTN1Zk9ZS2ZQZjhZZVZ3clB2bzZKTU4yVTl5RkIya0ZlYng0RU5lNkhXRzdicmVSMmRoZldEVHMxMGpmS1Y0NkF5UWxQNlNyOU5KVVlCTzJuRkRkNERDcWhYR2JnRG9sWUxsdWR3OHdjSkxUU2YybDVYYW43Q2tXMjVKeDE5Q1Y0Qk9XSUdjalBvVVpaWjRobEtVb0lQOHBQaW5LMGRIcHV6V2txSS9OanBmcVF0NnVJOCtqdzZKc2M4Rk8wZi9mNEhmdTR6dEJIUjJHamRnYmdHamEzYVZtNm1kSVpqV0taa0F3c3FKZTloZStsaG9kTlFwNkdEK0FLZVUrZWgweVYyRG9pSUhuUy9FQlQxc2NhYlJzYndCTUJ5d05aa3NnU3NjTll1QVR1Yk5yM040RzRyMHUxUWRkTkFLWGJld3h3cDlKbDgvaHhEWkpnZitEcVRaV2NzaUhkOHowR0dJZ1E1bGRDSVVSdmdycDNlaGwwYVVYempvNFBRbVFERTlWQkRWekdBRDdENXRRSlEvbEttTERrcUFMRHA2MzVLSUtJY1JyV25QeXJMeDF1S3JJblRDRVRvemM5SEJKZjM5SWdSbEJEb01FY01CSFErZE5MMUpYSHh5K0o4WFVwbU5sK0pDZjVuK2VTakJsUFJsc2dTTkJFTzQ3MUhTOEtmTWJjSDdqckE4cFhBMUNYbytpQTdTUlh1azhQQ3FvVE1mV1dITlJjZThNUUVKQ0h4NFMzb1NZZjdwYzF5WTZGem5OOTBHN0dUMkJlWCtOanFLc0lja1ErbWZEVmF0VXhvOWt4MDh4bE5uVVJCbWloeWlRem9uRm94T1hYUndTaElkSzBRSDVYTWhTQS91ZHRtM2YvUlpNUis5dGRBUFg2NkxlYWRKYTIydDliODBDVkN2Q0I3VG1aUmR5ODFmWVdDbUI1LzIyVFpvMkNoQWg1NmFzb2ZvU0hwclJJVE9yZ3Jvd0FBR2JFSG1vQ056d1k2Qkx6L0tjbWZObnJFZ2c3bVIrQUNaU2J1TXo5R2JDZmlocFM2Q3AxN0Npa0pDY0ltbkRqckxFVG9iL2dtazZvQmVhRUNIVHRFSzZFQnJTQUU2TGhmc2FBaWhVUG9FbDhtcWkvajA2cWY3Y0krN2hTSWdTcmNKMkxyQXRRZ09PYTVhc3dLOExaeDBDMm1qc3Vudjc5R1BZSjhxb0FPVkJnNDY5TGIrc0hpdmlGQ2RQWVI3MGZhZDlENEY4bExxalJuMXpwSDFLS202UVR5bGpsZ3FuU2VIS0RINlluVElTYmRkaUE5V0xUYnZWWFYwSWppUURIU29pazFZM3p0anpoL3J4ZDU5QlEzR2RQcW5SaU1LcER6ZjhHd2Vjam5GNkJCdnl5TTZCMU0vNHdETmpkQk9YQUVkbUZwa280TUZ0MVN3aitsWURsMFVjYUtwcXBBZFJsZE9YSUNjR3Vnb0FoM3NHVTFYZ1lhM2IzZDg1cFIvd1IrWmhRNC9henZjUWNjNnJjZG1jeXFKcmcxdmtRUm44NG1jV3VqTWgxZWdPVk56Zmc4UVYxaUtVUU1kYkg5RWRNRDVraytVMmUzbEpreVo5QzVsbGRiaklKbytRcE8vMGQ2WVJGOUFrQVE1L1hubzRDVlJCR2piNjNtZ0dZYm1hNkd6QWV4L3h2UHJOYnc3alV1VUtuRUN2ZUh4Q1RWWWY2dnJGaUxSMW16aEsxNTZ2eDVYTnJEM3hvVXdYeGVmZE9PdnFVcm9ZR0thNXVBQmRKUk9NdjlBb3ZoLzFpanpoZGMzK2FSSmlLcm9yRHgwMEFUNVhTdnNCNnVEVG9SRzJDSjBlaU9hL2lGTjBqOHFOWWpLNkhoRWgrN3hSb0MyMzZtdnZpSTZjVTZ4SHdlZHBwZlI2QjREeHdoUkdaMElUOHNVVExSQ3FGT09Eb0xqTzhGRFI0cW1GMUxmT2JKbG9SZEpKRHBwcUkrbEFPaE1nQTZMUTFVTG5XMWVnUndLSGF0MDErS1hGNVRSMW1ka0ovTkUxbTZaMmZoZ1o2ZG1vWVA3Smxqb0JJN0JTZVRRNkVqVktpOHZMdE5wWjJFMUdudmJTZEpLWFNURjNMUTk0YWdKaERvbm9oTnVEeFVic3N1NFJmNU5USFNTMXVzV0dPZzRYR0plS2RUaG94Ti8rR2xKc2xWY21rNUdCM1ZOM2h0UjF0RjREckZlcUlQb01KYVdhdEhVZEo1R254WGVrNmRQT1ZvdU9uajFwUnlkRURic1dYRE41RFNkSzlNcDZaUFFlNHVNc2s0Qk9qT3pFVi91NkFBemU1OEN5cllZcHFtS0xzRFBJOEZQUEVZblBJWE9Rb1k2ZUxOc3VkWHFzMUlObkthYXVvemFBVUFRL0VCWjV5UjBJTlE1YXptWTZscWV1YW1LRUNCbDg4RVBnYzVPR2JlK0NyTTZaNkVqblc3MnB1bnZhakFBRUZaK3NLd2owZzlqOGhNZzFDbEFSOXJKbU5iSjNQUnhHb3kxZDNJSFdOWVI3NXE1Q1g3Z1FrQXBPdFphTlRWa21qNkhlak1wZTVnN3dMS09PT0tNN2xEQXV6VDhncFRWWTJPbTZUUEthTFJBR0ovNGpCWkljbU9KcUhzR0hXdWROcSsyVnFucDlkUnBLMzFTNWlCR3ZzYTZoVHRaZ21ZMG1sNWNwbk9Kbng3UUliUWVBaFRhVE5uM2R1NGdoMEVRQ3NJd3RNcUE2Zm90MmpUZS81YnFScU5FREd6NXZ6dk1ncGRoMEljaFNzbFdyaUk2aFJmUXpKOHk5Q1RxYzkwZDhWYmh0d2ZveTZnZmVqY0ZKYlBhQVAwcE5nT3IvSjc5TERnQW15Rm1CN2tTS2pQQVNSWWdScHVBcGdBeDJnUzB0RXB2RXBRY2dBZGprTHl4SEFBMEdlTmJMMytVNFFEVW1JS1VTZ2UyQmRLQVBCNytmbEVQQUFBQUFFbEZUa1N1UW1DQw"
}, {
    name: "__ASSET__:bitmap_ProgressBarBg",
    data: "aVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQWtVQUFBQkRDQU1BQUFDbFpvSEhBQUFBbkZCTVZFV3RBQUN0SWdtcklnbXpNUm11R3dDcUd3Q3RJZ2lpSkFDbEpRQ3JKUUN0SXduQ1drU3FKQURZa0lPK1RqYmpyNmZhbW8zeDE5SzJNaGYwNHQ3TWRXWG11N1BIWmxTdEh3cStUamJZazRmSWFWVHJ4c0RTaG5mTmVHWFNoSFhncktManNxcncxdEg0N09yZG9aYktibDdudnJmdTBjdnozOXYvLy84MUFBRC9IUUIyQUFEYnk4dWpnNFA4OXZhM0NBQzNuSnhHQ1FsZktpcVdjWEgrMWNrVkFBQUFLSFJTVGxNQktCNDFFZ2tsQkFZTkhGSVZpRXV3a3VJNDhHMjlaQmc5ZUViQllsUndsYUhaK1laZXI4M2s5V3hDeVFBQUJEWkpSRUZVZU5ydDNldDJta0FVaHVFQ0NncW9zU1NGRWVVTWFnKzJTZS8vM3JyM0RCRUo0aUhhcnE2Vjc0ay84L05kdzZBdyt4UEFQMkRCUjNlSGNFYncwVjJmVkJQT0VPQlFrOVQ1aG1RK1k0QmpWRXduUTFJSmpjbEFjZ0ZlRFNSVkVuZDBJaUpPaVBQeGZkOVdkQUJib1NwY1Y1YlUyeEUzUkJGeFFaeU95VFFBeFpRNEtGK0dORlFaZFNOU0RkbTZyTWRnbndFVVErS2FkTlVSTDBkSEl4b01mSnNTTWdJeW5VNGRnQU9VQklYQkplbTJ5OHRSSnlNWmtldnJKaVcwV0syS29uZ0VhRmtXeEZrc0tDVFQ5dXVNdWhIWnBzWUpMU01oSnZuRDVBRmdMNTlNNkNPaWFMbGFMQXhUNTR6YWV5UExxaU5hY0VKNUhDZXpzbndDYUNuTFdSTG5RbEJIZ2NZWnRSY2phelFlVTBRR1JTVHlwQXlyZEw3MkFOclc2N1NxUWc1cDJjMUlYYzk4blZjaWFxaGFlN3ZkQnVDSVhlYWwxQkZuWk5ydWVOeXFpSzluS3FKd25tMEErdTI4cXVTTURMTzlHRm04Rk5IMWpDS3FQQ3hEY0VhV1VrYXJRTlBkQVM5R3pRV05scUpnSmVMUTJ6RHZPOEJScnhubHI0dFJVNUhhRlMzemNrNHIwYS9uTFVDdmw0d3lxdVJpWkx0OFNXc3VhTFlacktJNHpDZ2krc2R2QU1mUkV2Tk1xOUdjRnlONW0xWlhaRkZGcnE0RmhVaFNXb3FldDkrK0F2VGFibi9SbmlmTW82bGgycXFpNW9JVzBBVnRUWlZ0dHo4M0FIMm9vaDkwbzFZbHdwRTMrOE9EaWt4akd1Vmhob3Jnb29vMmFTS0tRTk5iRmRtbTRVUnh1RU5GY0ZsRjYzTENGZm1EZW50dHlmdjh6MVJSaFlyZ3dvcThNaTlvWTdUZlh0ZWJhMGNrcUFndXJ1anA0ZkZ3ZXozYVY1UnVVQkZjVmxFV1BqdzZyWW9HUGlxQ3F5dUtqbFUwUVVWd1hVV2ZxU0oxazJidEs1cWhJcml1SXMxMkR5b3lVUkc4cHlLZEsycStkRVJGY0h0RjAySXltNk1pdUxpaU9ISUNWQVNvQ0M2RGl1QS8xS29JdTJ1NHgrNGFkL3B3aDRyd3JTUGM0MXRIL0FJQ3QvOENnbDlqNFU2L3hscDRNZ1RlL1dRSW5sS0RlenlsaGlkbTRhWW5aalgxeEN5ZTNvZmJuOTdIbTBSdzY1dEVlS3NSM3YxV1kvem1yY1o2ZTczQ0c5Wnd6UnZXQzdXNTdwNzI0UEZwRHdDbnZOQlNsTFpQZTJpZlBNT0wwZmVYTFVDdjN4dGVpZzVPbnVtZWdyWEdVV3B3VmxaMVQ4RlNKL0xweG1JcEVtUUVaM1JPNUdzZlZCekkwMEhUREIzQkNidDF6K21nelVuRklpNnIxTXR3VkRFY3NkdGwzcm9Lazd4elVuR1RrU2t6eXVQa0theXFOSjBEdEtSOGFIcVp4S0o3YW5vOWthaWU0TUFkeVJFT3lRemdqU1NKODF4RXJRa08zV2t5dWhad1IxRWt5QVRnZ0pnSUlZZkpVRVA3YVRJOWs2MDBnMEp5bkVMNlVud0JJSlNDNUZCQys4bFczWEdOYWxTamIxTkg5Wmc5Z0paQUR0bWpoS2dobHlNYVdUMFRQN21qZXVTblpnQzB5SUdmT2pWMGFuQ3M2c2oxN1hyOHNNNGZBRldDbW1idGMwT2RpRHBUckRrazEvV0pMZm4wQngrZXorUlkvVE1UOVMzcWlFTmlBNENPTVdzYU90RVJoVVRHQUc4TkNmVmhVVU5uV0d6VUdNS0hOMnBZN05ORkxJRGpQZ0g4SFg4QXcrSTRtMTVCRmJzQUFBQUFTVVZPUks1Q1lJST0"
}, {
    name: "__ASSET__:bitmap_StudioLogo",
    data: "aVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQVE0QUFBQ0dDQU1BQUFBYis1U1dBQUFBYjFCTVZFVUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFRRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUJPVGs0QUFBQnVibTZ5c3JJQUFBRC8vLzhXRmhhWm1abnY3KzkvZjMvZjM5OHVMaTYvdjc4L1B6OWZYMTl2YjIvUHo4K3ZyNi9DaDVhV0FBQUFGM1JTVGxNQUt3M0dIbitNN2p2aGNVNmMxRWFwWHZiQy9yUzhueGtybEJrQUFBakdTVVJCVkhqYTdOdFpqcU13RklWaE04VldRa2xJUVRxWGVhamEveG83SkRoMTZXNkI2cUZlelBtVzhNdkpBU3N4dnluTkRYbHhCaGhhWFFIbThBb0w1dkJjQWpESEtrMEE1bmpQQ2NBY2FrNll3OHNBNXRCenNoV1owM0lmK0ljekp4VWxBSE9vT1dFT05TZk1vV0l3aDVvVDV2Q2NCWmhEdmFveGg1b1Q1bGpGRjRBNTFKd3doNW9UNXZCdUZtQU9OU2ZNc1VwTGdEbFdjUTR3aDVvVDV2QUsvTmpWQkN2Q3oyVW1YRGZtMkNpWVkrUENIQnM1YzJ4OE1JZVdNb2VXTVljUzg3dER5NWhEczh5aEZIenUwQ3h6S0RjK3BHc0pjeWdPWGozSVE5ZWVPa2VDcDZwdFpGV2ZPRWVLcDc2VGJ5UDJsU1pZT1JaVEk4b1g5aVVtVkNrV3ZXeWROa2VPUlNkYi9VbHp4RmpNOHBmeHBEa3lMRHJtVUllakV1WjR1bUp4Wnc3OTh0YktmM1ZETzFabnlsRmdMOGVpcWUvd1V2T1F1b2RBZjZKdmZZNDlUVnRoRWZ6ZlJSMThqbjNOL0RvY2dVdndNc3FSb1QvUDRVQXZ4NmJVUE1UT3VUQlBTV1R2OE9SWUd4bHpLN0VvWXhPZWJQcXNzQnJrU0ZQaGFrUGUyYWlUR3F0WmpzelFDaE9jdUc5a3drc2xCenBzV0JPY0MwWjU5L2lVZlNPK2hUaTZwYTJBOW4yeDhTVzdCZ0JCZjFxU2VRQlFTL1BzTWNtK1B2UzdZOWRKKys3Uk43S3JEdjRxL1U5NVo2S2tLQXlFWWJrTXR6aTYyd1pCdWQ3L0dUY0hNWUlKWWJOTzFRNyt0VnVEVG9Ed1RkUGRJUWRCd3gzQ1FIamczaFJrTjQ3RDhRRmFaaGdFeGJVMFpXQ2d4UkZGRWR0TW84aVRxTE5vbEV6c0Q0OFBMdmsrZnhncCtlQS9uSHMweXBPL0Z2S1NuVkFrRkUrZElackV1eVFTT2p2R3ArYzM2VGpLT3l6enFMRisySEUwa2trQlBOWEFxdVNCQXlDU1BjSVNCd0JJSERCSzRvQ0hNb2xEVm1MV09IZlVIYytwc2JGU2Q1SkhCWEJhY2g0dHZDcFU0cERYZ0tpZWEzeDQ3TFQvU3h3UkZRQXM0L0E1ZktsRTF1SnJaOUN2eTJXMGp3YTZ5NERoMWh1QzdFdzdBdzZIYnFBWmprRHNvc2Z4NVRMTkQxWE1jTVM4Mk53WWd0a1h0RUN3QWdjU053ckp2b2xoMUdTN01tZGdVcWtORGw0dEJ4Wng4QzBqRG5XUHdOa09SOEU4S0dZODJvNTVTNjJCREtDUWI0T0Q3eGEvR1ljOGZnYklEZ2RpRWFWblBMamo0QWFpOGlBWVhwWHM3SEFVTkFKOEQ0NElzZ09BYjRPakFDSjhaVHpLY3V5OHYxWUF1RFFHV1g1VmxqaFMwYkh6ZGh3K3dDRUFTR3h3WkdJRVE0L3hoVUxoR09xR2ZEa1lNN0RVMzluaVFLU1d0ampRSW80Y0lDaklmd3NjUEpqeis0Vnl1SjRBdXV2NFJCU2FVdmVZSS9NOEwwM0lLV1k0WXFJMU9HS0FrSEw3V3NMaFVFMnFtdWQ1T2tZTmlXTlNqSHVrd2dFNFdPRHdRUEs0M1JrR1ppQnNxd0hBWFMxbzFLWkdiQVJDWmh3QitVZDI4Q0pUM25GOHhzRVZGYS9uVEtlZTFIRkpzUm1PQTVFQlJ3Z1A0VTdjSnllQXB1WkFXZ0E0bGR5ck5nb2E5amdRZklYMGh3V09MTkhna04rNTFBbjRVeHdJcVBacnh3blNhMit2bzRGQXh4blVIUVo2MDlUUEdaaXowK0ZJcWM0cmNPeTVoZVRIQlJ6UmdXcUNveWlLdy94bVlhWFNpU2ZOMkRueUtRNENhQjhVYTZkcVlOWjJ4M2NlUTdBY0xUZTBsQWd1VDFpR1ZpbExWN3FQQVVnNTkyZ1hXZHdGVjVvVFFzeE54Rk1jQVFHOGZtSlRKYzFDZEQ2MnZjak5XOXhRVXltNzI5VGM3SEU0d0ZKVEN4dzVLNmJIUVVBSERGbzZ4VUhQbUs4MURxaTVXVHdNcEc2WlRZaHNyRzFMWG1JSTNvS0Rsb2JnTzNDa0FFVVlrdExaTExKOFNVSkc0N2lKUEJ3RG5Hb09wTVRNazlhaTdkWjBRMytwc3JmZ1lDZlB2d05IQmtMdUZFY01jSFJYenVQcFpCODkvU1Q4eG9taHF1NE5qRUtKL3hZYzNBVzhCWWYycXNJcERsL0dST004bnFjTXRLWU1xbnI4VU43WWtLQ2h1Nm1tbU52amNHaWo4NTA0WkxGb1QzUUdpQ2M0MkhrUDY0d0RoSStRZnFNVmhPcXk2Wm5kVUNUdW0zRFE0c0YzNElncFpuNkFkSWFqRUhzYWpRTmZ1Q1FRVEIxcExaNmUzenErWGFaL2p5T2lnaGNjYVJZdTQrQ0tubitkVWMxd3dEUzlTc2Z0QXNDYjRYQkZKWXpHY2RLTTg3bFYvYVB0aHB2cWZ0TEdGZk96MG1LQ2crb3ZjVWp0OURnOGdGZ1VkeWM0ZU0wME5NNGdwQjN6YytjSldGdmhaMmV0eDRFUXg0R1FQR2tRb1ZIeXRqMGdKR3BQdnBjNHlBZUpBNDJTT0pCUUZqK2RrMGtlMEJWSDlNbEdLSENRYlhmODZheVoxRlJ5QUgxWkVkMmxJeGs2REEyZDF0TGdqWFpQejAxRER1cTRkcXBCRFgwNzFCeFYxMnlyaDBtL3B1S2QwcmlCMEhQWFpNbHVtSklGbDJxM09TbFh6cnNRbmRUT0JBTVhQbFgzWDd1dHljbEFqZU1PeXNoYmJuclpvd0NVZXUxZzYxVVBTTU5ka25xZXQ1WFZqL3dNMUtwZnVwVHVxcWZud2dWbnJpSllaWWpLMDhYaUErTFNXRmpDb214T0k2RmFPUSt5ZW0rK1I1bldXL0s2UmZFc2dkWHByc0ZSWTFBcTFiZVBFeDBPNE5MaEFLQTRBTFE0VEozT2U4aE1LL2g0NnJkbVNNa1dYS2ZDMFlKR3ZnTEhsKy83ZWh4aEdDS0l3OUMzeCtFNDRSbkFDa2ZtT002a1FBSXF5VUF5S0h4SERUcnRWVGhJMktJNHRFSThmN2JId1l0WjRaQUZaT2FsVmZQUzVYamhzVmNuNzBmalNNQ2dlVWpGZlB5Q1hnb2NrYk56a3lULzczR3NXTE40bU1YVWsybmFsNitvTHVGQjlML2pDQkVZMWM3TW96VE5ydzVWRjRUQ240Q0RLdzZZMVBFRjEyTElxUFNrMklCRFVlRmorUC9qV0pXWFZwTVVGQnZYWmdnMXFVRytEUno0K2t5Z05Ca0grTHEyc3ZPemNJU2dWdmM4YUtFMkxrWHdpamtnK2JQek13S3RBWWZzaDJzZWQwNFBTMHAvZE41aHl0VmxSMXdydHU3THJtTXJPUFRyNDVlTVIxbVZWeU1PYjZmQzRici9oc1AzRFRoODV3emdXdUVnQjljV0NMUzVtRlJsY0tUcUZxMDFqaHk0dnI5RnUzNHg5R0VsamtMMTU0Mk9WSm0vZ09Pb3grRjZSNmFEbGhjLy9ON1ZYdk5SaXlQbmRVUGk5Q3RkQ0g3aVVYM1lXdUJocHNuR0x2clc3RDdiNEd5dnBlVVdiLzN5K1BNaTJPaVNETHBYQ0xTMUFzZG5yTXVnZm5sVFEwUHRLNHpOZFN1c2YxTms4OXZ6UFBRMHlqalkyblRadjNwVGowaDIzSzNPcEY1U3JHK2lCZHViREduaFU3M0pzSmd0cmtxeExQK3NDU0xCNXhuSDQvMVducFBPNXdxNzJRY2FCMU9Sa0t0L2FjQTdXODFDVnluNDlCZDJ6NFErL25YdUU0V2ZsMmdzeXR2bUFrZTI4ajgwdE9vVWJQTUJqNjNjN1kySit5Y1ZHMDY4L2dEM3FzeUhJT28yS2dBQUFBQkpSVTVFcmtKZ2dnPT0"
}, {
    name: "__ASSET__:bitmap_ProgressBarBody",
    data: "aVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQWFBZ01BQUFBTGF0NUNBQUFBREZCTVZFWC9IUUQvRndEL1V5Zi9SUmpmeTJYdEFBQUFFa2xFUVZRSTEyTm9BTUlERExpQUF6WUlBSE8wQklHQTVUMmlBQUFBQUVsRlRrU3VRbUND"
}];
Ca.__alpha16 = Array(256);
for (var lk = 0; 256 > lk;) {
    var mk = lk++;
    Ca.__alpha16[mk] = 65536 * mk / 255 | 0
}
Ca.__clamp = Array(510);
for (var nk = 0; 255 > nk;) {
    var ok = nk++;
    Ca.__clamp[ok] = ok
}
for (var pk = 255; 511 > pk;) {
    var vk = pk++;
    Ca.__clamp[vk] = 255
}
null != window.createjs && (createjs.Sound.alternateExtensions = ["ogg", "mp3", "wav"]);
ia.__instanceCount = 0;
ia.__worldRenderDirty = 0;
ia.__worldTransformDirty = 0;
Bc.resourceType = "image/png";
Bc.resourceName = "__ASSET__:bitmap_GameLogo";
Cc.resourceType = "image/png";
Cc.resourceName = "__ASSET__:bitmap_StudioLogo";
Vc.resourceType = "image/png";
Vc.resourceName = "__ASSET__:bitmap_ProgressBarBg";
nc.resourceType = "image/png";
nc.resourceName = "__ASSET__:bitmap_ProgressBarBody";
Ac.onMobile = !1;
Ac.isWindowsPhone = !1;
Ae.__defaultPoint = new Ga(0, 0);
ya._allCategories = 0;
ya._numCategories = 0;
ya._categoryIndexes = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096, 8192, 16384];
ya._categoryNames = new Da;
P.inited = !1;
qd.USE_CACHE = !1;
qd.USE_ENUM_INDEX = !1;
qd.BASE64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
dc.DEFAULT_RESOLVER = U;
dc.BASE64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
dc.CODES = null;
Te.CHARS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
Te.BYTES = rd.ofString(Te.CHARS);
Yc.count = 0;
Zb.escapes = function(a) {
    a = new Da;
    a.set("lt",
        "<");
    a.set("gt", ">");
    a.set("amp", "&");
    a.set("quot", '"');
    a.set("apos", "'");
    a.set("nbsp", String.fromCharCode(160));
    return a
}(this);
D.__toStr = {}.toString;
ca.cache = new Wh;
ca.libraries = new Da;
ca.initialized = !1;
Sa.images = new Da;
Sa.loaders = new Da;
u.epsilon = 1E-8;
u.fluidAngularDragFriction = 2.5;
u.fluidAngularDrag = 100;
u.fluidVacuumDrag = .5;
u.fluidLinearDrag = .5;
u.collisionSlop = .2;
u.collisionSlopCCD = .5;
u.distanceThresholdCCD = .05;
u.staticCCDLinearThreshold = .05;
u.staticCCDAngularThreshold = .005;
u.bulletCCDLinearThreshold =
    .125;
u.bulletCCDAngularThreshold = .0125;
u.dynamicSweepLinearThreshold = 17;
u.dynamicSweepAngularThreshold = .6;
u.angularCCDSlipScale = .75;
u.arbiterExpirationDelay = 6;
u.staticFrictionThreshold = 2;
u.elasticThreshold = 20;
u.sleepDelay = 60;
u.linearSleepThreshold = .2;
u.angularSleepThreshold = .4;
u.contactBiasCoef = .3;
u.contactStaticBiasCoef = .6;
u.contactContinuousBiasCoef = .4;
u.contactContinuousStaticBiasCoef = .5;
u.constraintLinearSlop = .1;
u.illConditionedThreshold = 2E8;
Ec.zpp_pool = null;
Cd.zpp_pool = null;
Dd.zpp_pool = null;
Ed.zpp_pool = null;
Fd.zpp_pool = null;
Ob.zpp_pool = null;
$c.zpp_pool = null;
ad.zpp_pool = null;
bd.zpp_pool = null;
cd.zpp_pool = null;
dd.zpp_pool = null;
Fc.zpp_pool = null;
ed.zpp_pool = null;
Hd.zpp_pool = null;
Gc.zpp_pool = null;
X.cache = new ch;
ne.__rootURL = window.document.URL;
bf.currentDomain = new bf(null);
Rb.__identity = new Rb;
Z.current = new dh;
p.SIN45 = .7071067811865476;
p.TAN22 = .41421356237309503;
Ha.blendModesWebGL = null;
Ha.glContextId = 0;
Ha.glContexts = [];
da.__UID = 0;
cf.defaultVertexSrc = ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;",
    "attribute vec2 aColor;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "const vec2 center = vec2(-1.0, 1.0);", "void main(void) {", "   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vec3 color = mod(vec3(aColor.y/65536.0, aColor.y/256.0, aColor.y), 256.0) / 256.0;", "   vColor = vec4(color * aColor.x, aColor.x);", "}"
];
t.__fillIndex = 0;
F.bucketPool = [];
F.objectPosition = new Ga;
F.objectBounds = new ib;
z.ACTIVATE = "activate";
z.ADDED = "added";
z.ADDED_TO_STAGE = "addedToStage";
z.CHANGE = "change";
z.COMPLETE = "complete";
z.DEACTIVATE = "deactivate";
z.ENTER_FRAME = "enterFrame";
z.OPEN = "open";
z.REMOVED = "removed";
z.REMOVED_FROM_STAGE = "removedFromStage";
z.RENDER = "render";
z.RESIZE = "resize";
z.SOUND_COMPLETE = "soundComplete";
cc.FOCUS_IN = "focusIn";
cc.FOCUS_OUT = "focusOut";
ff.HTTP_STATUS = "httpStatus";
Jd.IO_ERROR = "ioError";
Pd.KEY_DOWN = "keyDown";
Pd.KEY_UP = "keyUp";
N.CLICK = "click";
N.DOUBLE_CLICK = "doubleClick";
N.MIDDLE_CLICK = "middleClick";
N.MIDDLE_MOUSE_DOWN = "middleMouseDown";
N.MIDDLE_MOUSE_UP = "middleMouseUp";
N.MOUSE_DOWN = "mouseDown";
N.MOUSE_MOVE = "mouseMove";
N.MOUSE_OUT = "mouseOut";
N.MOUSE_OVER = "mouseOver";
N.MOUSE_UP = "mouseUp";
N.RIGHT_CLICK = "rightClick";
N.RIGHT_MOUSE_DOWN = "rightMouseDown";
N.RIGHT_MOUSE_UP = "rightMouseUp";
N.__buttonDown = [!1, !1, !1];
gf.PROGRESS = "progress";
hf.SECURITY_ERROR = "securityError";
cb.TIMER = "timer";
cb.TIMER_COMPLETE = "timerComplete";
ue.__registeredSounds = new Da;
wf.GET = "GET";
wf.POST = "POST";
yf.OBJECT_REFERENCE_PREFIX = "@~obRef#";
yh.inputClass = Vj;
we.inputClass = Array;
Le.inputClass = Le;
sc.inputClass = sc;
tc.inputClass = tc;
Lc.inputClass = Lc;
Qb.inputClass = Qb;
Yd.inputClass = Yd;
r._tweens = [];
r._addedTweens = [];
r.managerInited = !1;
r.DEFAULT_EASE = lb.linear;
r.defaultEase = r.DEFAULT_EASE;
r.defaultTime = .3;
r.defaultDelay = 0;
r.defaultInterval = 0;
r.defaultRepeat = 1;
r.defaultYoyo = !1;
r.defaultZigZag = !1;
r.defaultAutoPlay = !0;
r.defaultAutoFrom = !0;
r._rules = [yh, we, Le, sc, tc, Lc, Qb, Yd];
r.topLevelTimeScale =
    1;
r._groupDefaults = !1;
r.updateMode = Tf.TIME(60);
r._initLog = [];
r.dictionary = new Yc;
r._objCounter = 0;
r.idCounter = 0;
xb._Constraint = 0;
xb._Interactor = 0;
xb._CbType = 0;
xb._CbSet = 0;
xb._Listener = 0;
wd.zpp_pool = null;
ka.zpp_pool = null;
Ea.zpp_pool = null;
$a.ANY_SHAPE = new Ee;
$a.ANY_BODY = new Ee;
$a.ANY_COMPOUND = new Ee;
$a.ANY_CONSTRAINT = new Ee;
g.internal = !1;
g.id_ImmState_ACCEPT = 1;
g.id_ImmState_IGNORE = 2;
g.id_ImmState_ALWAYS = 4;
g.id_GravMassMode_DEFAULT = 0;
g.id_GravMassMode_FIXED = 1;
g.id_GravMassMode_SCALED = 2;
g.id_InertiaMode_DEFAULT =
    0;
g.id_MassMode_DEFAULT = 0;
g.id_MassMode_FIXED = 1;
g.id_BodyType_STATIC = 1;
g.id_BodyType_DYNAMIC = 2;
g.id_BodyType_KINEMATIC = 3;
g.id_ListenerType_BODY = 0;
g.id_PreFlag_ACCEPT = 1;
g.id_ListenerType_CONSTRAINT = 1;
g.id_ListenerType_INTERACTION = 2;
g.id_ListenerType_PRE = 3;
g.id_CbEvent_BEGIN = 0;
g.id_InteractionType_COLLISION = 1;
g.id_CbEvent_ONGOING = 6;
g.id_InteractionType_SENSOR = 2;
g.id_CbEvent_END = 1;
g.id_InteractionType_FLUID = 4;
g.id_CbEvent_WAKE = 2;
g.id_InteractionType_ANY = 7;
g.id_CbEvent_SLEEP = 3;
g.id_CbEvent_BREAK = 4;
g.id_CbEvent_PRE =
    5;
g.id_ShapeType_CIRCLE = 0;
g.id_ShapeType_POLYGON = 1;
la.UCbSet = new kf;
la.VCbSet = new kf;
la.WCbSet = new kf;
la.UCbType = new Md;
la.VCbType = new Md;
la.WCbType = new Md;
sa.internal = !1;
sa.COL = 1;
sa.FLUID = 4;
sa.SENSOR = 2;
gb.zpp_pool = null;
nb.zpp_pool = null;
qb.zpp_pool = null;
ab.internal = !1;
ab.zpp_pool = null;
wa.zpp_pool = null;
Va.zpp_pool = null;
C.flowpoly = new Wf;
C.flowsegs = new Wf;
vb.convexPool = null;
vb.rayPool = null;
vb.internal = !1;
he.zpp_pool = null;
fb.zpp_pool = null;
ja.zpp_pool = null;
null == g.BodyType_STATIC && (g.internal = !0, g.BodyType_STATIC =
    new Ba, g.internal = !1);
var wk = g.BodyType_STATIC;
null == g.BodyType_DYNAMIC && (g.internal = !0, g.BodyType_DYNAMIC = new Ba, g.internal = !1);
var xk = g.BodyType_DYNAMIC;
null == g.BodyType_KINEMATIC && (g.internal = !0, g.BodyType_KINEMATIC = new Ba, g.internal = !1);
fc.types = [null, wk, xk, g.BodyType_KINEMATIC];
ba.zpp_pool = null;
ba.WAKE = 1;
ba.PROPS = 2;
ba.ANGDRAG = 4;
ba.ARBITERS = 8;
hb.zpp_pool = null;
hb.internal = !1;
Gb.zpp_pool = null;
Wa.zpp_pool = null;
wc.tmpaabb = new Va;
Xa.zpp_pool = null;
vc.zpp_pool = null;
Kb.zpp_pool = null;
me.zpp_pool = null;
ic.zpp_pool = null;
kc.zpp_pool = null;
xc.zpp_pool = null;
Vb.zpp_pool = null;
Ub.zpp_pool = null;
kd.zpp_pool = null;
ld.zpp_pool = null;
Jb.zpp_pool = null;
xd.zpp_pool = null;
hd.zpp_pool = null;
Nd.zpp_pool = null;
yc.zpp_pool = null;
gd.zpp_pool = null;
Rc.zpp_pool = null;
ub.zpp_pool = null;
zc.zpp_pool = null;
md.zpp_pool = null;
lc.zpp_pool = null;
mc.zpp_pool = null;
zd.zpp_pool = null;
Ad.zpp_pool = null;
Sc.zpp_pool = null;
Od.zpp_pool = null;
td.internal = !1;
ie.internal = !1;
Of.internal = !1;
Gd.internal = !1;
se.internal = !1;
ge.internal = !1;
Ze.internal = !1;
Kf.internal = !1;
Lf.internal = !1;
Jf.internal = !1;
Pf.internal = !1;
te.internal = !1;
If.internal = !1;
Wd.internal = !1;
Hf.internal = !1;
Ye.poolVec2 = null;
db.zpp_pool = null;
jc.zpp_pool = null;
Oa.main()
})("undefined" != typeof window ? window : exports);